{"version":3,"sources":["webpack:///external \"jQuery\"","webpack:///./app/Resources/static-src/app/js/material-lib/index/index.js","webpack:///./app/Resources/static-src/app/common/widget/res-batch-select.js","webpack:///./app/Resources/static-src/app/js/material-lib/index/cover.js","webpack:///./app/Resources/static-src/app/js/material-lib/index/info.js","webpack:///./app/Resources/static-src/app/common/input-select.js","webpack:///./app/Resources/static-src/app/js/material-lib/index/detail.js"],"names":["MaterialWidget","element","model","renderUrl","$","data","attribute","init","initEvent","_initHeader","_initSelect2","initTagForm","renderTable","BatchSelect","on","event","onClickSearchBtn","codeErrorTip","onClickSourseBtn","onClickTabs","onClickTag","onClickDeleteBtn","onClickDownloadBtn","onClickCollectBtn","onClickManageBtn","onClickDeleteBatchBtn","onClickShareBatchBtn","onClickTagBatchBtn","onClickDetailBtn","onClickReconvertBtn","onClickShareBtn","onClickUnshareBtn","onClickPagination","batchDownload","url","iframe","document","createElement","style","display","height","src","body","appendChild","setTimeout","remove","self","urls","find","each","downloadUrl","closest","console","log","push","i","length","downloadFile","$btn","relatedTarget","title","reason","solution","status","html","Translator","trans","$target","currentTarget","removeClass","addClass","val","preventDefault","$container","$prev","DetailBtnActive","ajax","type","done","resp","hide","prev","parent","append","navigator","userAgent","match","lavaLamp","DetailWidget","callback","$form","show","fail","cd","message","always","ids","load","modal","window","open","siblings","mode","get","value","confirm","content","okText","cancelText","className","_fileShare","post","response","button","parents","replaceWith","isPaginator","_resetPage","$table","_loading","serialize","attr","tooltip","$temp","popover","placement","trigger","animation","_this","_loaded_error","loading","datetimepicker","autoclose","language","documentElement","lang","substring","validator","validate","rules","tags","required","messages","materialWidget","$element","_batch2Item","_item2Batch","checked","prop","itemLength","itemCheckedLength","Cover","options","_initPlayer","onClickChangePic","onClickReset","onClickDefault","onClickSelect","onClickScreenshot","onSubmitCoverForm","$coverTab","_changePane","screenshotSecond","second","_successGeneratePic","intervalId","setInterval","clearInterval","messenger","EsMessenger","name","project","children","getElementById","Math","floor","currentTime","no","$tabcontent","Info","_initTag","onSubmitInfoForm","width","Select","config","dataType","quietMillis","term","page","q","page_limit","results","index","item","id","initSelection","split","formatSelection","formatResult","multiple","placeholder","createSearchChoice","maximumSelectionSize","select2","cover","info","onClickBack","onClickCover","onClickInfo","back"],"mappings":"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","file":"app/js/material-lib/index/index.js","sourcesContent":["module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 0\n// module chunks = app/js/main app/js/v2/demo/index app/js/activity-manage/doc/index app/js/activity-manage/download/index app/js/activity-manage/flash/index app/js/activity-manage/homework/index app/js/activity-manage/ppt/index app/js/activity-manage/video/index app/js/article/detail/index app/js/attachment/index app/js/auth/captcha-modal/index app/js/auth/password-reset/index app/js/auth/register/index app/js/batch-upload/index app/js/card/card-receive/index app/js/card/index/index app/js/cashier/index app/js/cashier/modal/index app/js/classroom-manage/set-picture/index app/js/classroom-manage/student-expiryday/index app/js/classroom-manage/student-import/index app/js/classroom-manage/students-create/index app/js/classroom-manage/students-manage/index app/js/classroom/buy-modal/index app/js/classroom/index app/js/classroom/thread-form/index app/js/classroom/thread-show/index app/js/coin/invite-code/index app/js/course-chapter-manage/index app/js/course-manage-file/index/index app/js/course-manage/batch-create/index app/js/course-manage/lesson-manage/default/index app/js/course-manage/lesson-manage/normal/index app/js/course-manage/live-replay/upload/index app/js/course-manage/overview/index app/js/course-manage/student-import/index app/js/course/buy-modal/index app/js/course/thread-show/index app/js/courseset/show/index app/js/exporter/index app/js/group/index app/js/group/logo/index app/js/group/thread-add/index app/js/live-course/explore/index app/js/material-lib/index/index app/js/material-lib/share-history/index app/js/media-manage/index app/js/activity-manage/audio/index app/js/mobile-bind/index app/js/my/order-refund-apply/index app/js/my/order-refund/index app/js/my/order/index app/js/oauth2/create/index app/js/open-course-manage/add-material/index app/js/open-course-manage/lesson-modal/index app/js/open-course/index app/js/open-course/member-sms/index app/js/order/coupon-item/index app/js/order/create-sms/index app/js/order/create/index app/js/pay/select/index app/js/pay/show-mobile-modal/index app/js/player/index app/js/question-manage/form/index app/js/review/list/index app/js/search/index app/js/settings/avatar-crop-modal/index app/js/settings/bind-mobile/index app/js/settings/email/index app/js/settings/find_pay_password_by_sms/index app/js/settings/find-pay-password/index app/js/settings/password/index app/js/settings/pay-password-modal/index app/js/settings/pay-password/index app/js/settings/profile/index app/js/settings/reset-pay-password/index app/js/settings/security-questions/index app/js/settings/security/index app/js/settings/setup-password/index app/js/settings/setup/index app/js/settings/update-pay-password/index app/js/settings/user-profile/index app/js/subject/index app/js/task-manage/create/index app/js/task/plugin/note/index app/js/task/plugin/question/index app/js/testpaper-manage/create/index app/js/testpaper-manage/index app/js/testpaper-manage/questions/index app/js/testpaper/do-test/exercise/index app/js/testpaper/do-test/normal/index app/js/testpaper/result/index app/js/thread/user-info-modal/index app/js/user/fill-info/index app/js/message/show/index","import DetailWidget from './detail';\nimport BatchSelect from 'app/common/widget/res-batch-select';\nimport Select from 'app/common/input-select';\n\nclass MaterialWidget {\n  constructor(element) {\n    this.model = 'normal';\n    this.renderUrl = $('#material-item-list').data('url');\n    this.attribute = 'mine';\n    this.element = $('#material-search-form');\n    this.init();\n  }\n  init() {\n    this.initEvent();\n    this._initHeader();\n    this._initSelect2();\n    this.initTagForm();\n    this.renderTable();\n\n    new BatchSelect(this.element);\n  }\n  initEvent() {\n    this.element.on('click', '.js-search-btn', (event) => {\n      this.onClickSearchBtn(event);\n    });\n\n    this.element.on('click', '.js-cd-modal', (event) => {\n      this.codeErrorTip(event);\n    });\n\n    this.element.on('click', '.js-source-btn', (event) => {\n      this.onClickSourseBtn(event);\n    });\n\n    this.element.on('click', '.js-type-btn', (event) => {\n      this.onClickTabs(event);\n    });\n\n    this.element.on('click', '.js-material-tag .label', (event) => {\n      this.onClickTag(event);\n    });\n\n    this.element.on('click', '.js-delete-btn', (event) => {\n      this.onClickDeleteBtn(event);\n    });\n\n    this.element.on('click', '.js-download-btn', (event) => {\n      this.onClickDownloadBtn(event);\n    });\n\n    this.element.on('click', '.js-collect-btn', (event) => {\n      this.onClickCollectBtn(event);\n    });\n\n    this.element.on('click', '.js-manage-batch-btn', (event) => {\n      this.onClickManageBtn(event);\n    });\n\n    this.element.on('click', '.js-batch-delete-btn', (event) => {\n      this.onClickDeleteBatchBtn(event);\n    });\n   \n    this.element.on('click', '.js-batch-share-btn', (event) => {\n      this.onClickShareBatchBtn(event);\n    });\n\n    this.element.on('click', '.js-batch-tag-btn', (event) => {\n      this.onClickTagBatchBtn(event);\n    });\n    \n    this.element.on('click', '.js-detail-btn', (event) => {\n      this.onClickDetailBtn(event);\n    });\n\n    this.element.on('click', '.js-reconvert-btn', (event) => {\n      this.onClickReconvertBtn(event);\n    });\n\n    this.element.on('click', '.js-share-btn', (event) => {\n      this.onClickShareBtn(event);\n    });\n\n    this.element.on('click', '.js-unshare-btn', (event) => {\n      this.onClickUnshareBtn(event);\n    });\n\n    this.element.on('click', '.pagination li', (event) => {\n      this.onClickPagination(event);\n    });\n    this.element.on('click', '.js-batch-download', (event) => {\n      this.batchDownload(event);\n    });\n  }\n\n  downloadFile(url) {\n    const iframe = document.createElement('iframe');\n    iframe.style.display = 'none';\n    iframe.style.height = 0;\n    iframe.src = url; \n    document.body.appendChild(iframe);\n    setTimeout(()=>{\n      iframe.remove();\n    }, 5 * 60 * 1000);\n  }\n\n  batchDownload() {\n    const self = this;\n    let urls = [];\n    $('#material-lib-items-panel').find('[data-role=batch-item]:checked').each(function() {\n      const downloadUrl = $(this).closest('.js-tr-item').find('.js-download-btn').data('url');\n      console.log(downloadUrl);\n      urls.push(downloadUrl);\n    });\n    for (let i = 0;i < urls.length;i++) {\n      const url = urls[i];\n      self.downloadFile(url);\n    }\n  }\n  codeErrorTip() {\n    $('#cd-modal').on('show.bs.modal', function (event) {\n      // do something...\n      const $btn = $(event.relatedTarget);\n      const title = $btn.data('title');\n      const reason = $btn.data('reason');\n      const solution = $btn.data('solution');\n      const status = $btn.data('status');\n      $('.js-error-tip').html(\n        `<div class=\"mbl clearfix\"><span class=\"pull-left error-label\">${Translator.trans('material.common_table.file_name')}：</span><span class=\"pull-left error-content\">${title}</span></div><div class=\"mbl clearfix\"><span class=\"pull-left error-label\">${Translator.trans('material.common_table.transcoding')}：</span><span class=\"pull-left error-content\">${status}</span></div><div class=\"mbl clearfix\"><span class=\"pull-left error-label\">${Translator.trans('material.common_table.error_reason')}：</span><span class=\"cd-text-danger error-content pull-left\">${reason}</span></div><div class=\"clearfix\"><span class=\"pull-left error-label\">${Translator.trans('material.common_table.solution_way')}：</span><span class=\"cd-text-info error-content pull-left\">${solution}</span></div>`\n      );\n    });\n  }\n\n  onClickTabs(event) {\n    let $target = $(event.currentTarget);\n    $target.closest('.js-material-tabs').find('.active').removeClass('active');\n    $target.addClass('active');\n    $target.closest('.js-material-tabs').find('[name=type]').val($target.data('value'));\n    this.renderTable();\n    event.preventDefault();\n  }\n  //标签选择\n  onClickTag(event) {\n    let $target = $(event.currentTarget);\n    let $container = $target.closest('.js-material-tag');\n    let $prev = $container.find('.label-primary');\n    if ($target.html() == $prev.html()) {\n      $target.removeClass('label-primary').addClass('label-default');\n      $container.find('[name=tagId]').val('');\n    } else {\n      $prev.removeClass('label-primary').addClass('label-default');\n      $target.addClass('label-primary').removeClass('label-default');\n      $container.find('[name=tagId]').val($target.data('id'));\n    }\n    this.renderTable();\n  }\n\n  // 搜索\n  onClickSearchBtn(event) {\n    this.renderTable();\n    event.preventDefault();\n  }\n\n  // 下拉菜单编辑\n  onClickDetailBtn(event) {\n    if (!this.DetailBtnActive) {\n      let self = this;\n      let $target = $(event.currentTarget);\n      this.DetailBtnActive = true;\n      $.ajax({\n        type: 'GET',\n        url: $target.data('url'),\n      }).done(function(resp){\n        self.element.hide();\n        self.element.prev().hide();\n        self.element.parent().prev().html(Translator.trans('material_lib.detail.content_title'));\n        self.element.parent().append(resp);\n\n        if($('.nav.nav-tabs').length > 0 && !navigator.userAgent.match(/(iPhone|iPod|Android|ios|iPad)/i)) {\n          $('.nav.nav-tabs').lavaLamp();\n        }\n\n        Select('#tags', 'remote');\n\n        new DetailWidget({\n          element: $('#material-detail'),\n          callback: function() {\n            let $form = $('#material-search-form');\n            $form.show();\n            $form.prev().show();\n            self.renderTable();\n          }\n        });\n      }).fail(function() {\n        cd.message({type: 'danger', message: Translator.trans('material_lib.have_no_permission_hint')});\n      }).always(function() {\n        self.DetailBtnActive = false;\n      });\n    }\n  }\n  // 下拉菜单删除\n  onClickDeleteBtn(event) {\n    let self = this;\n    let $target = $(event.currentTarget);\n    let ids = [];\n    ids.push($target.data('id'));\n    $('#modal').html('');\n    $('#modal').load($target.data('url'), { ids: ids });\n    $('#modal').modal('show');\n  }\n  // 下拉菜单下载\n  onClickDownloadBtn(event) {\n    let $target = $(event.currentTarget);\n    window.open($target.data('url'));\n  }\n  onClickSourseBtn(event) {\n    let $target = $(event.currentTarget);\n    $target.closest('ul').find('li.active').removeClass('active');\n    $target.parent().addClass('active');\n    $target.closest('ul').siblings('input[name=\"sourceFrom\"]').val($target.parent().data('value'));\n\n    if ($target.closest('ul').siblings('input[name=\"sourceFrom\"]').val() == 'my') {\n      this.attribute = 'mine';\n      $('#myShare').removeClass('hide');\n      $('.js-material-btn-group').removeClass('hide');\n      $('#shareMaterials').removeClass('hide');\n      $('.js-manage-batch-btn').removeClass('hide');\n      $('.js-upload-file-btn').removeClass('hide');\n      let mode = this.model;\n      if (mode == 'edit') {\n        $('#material-lib-batch-btn-bar').show();\n      }\n    } else {\n      this.attribute = 'others';\n      $('#myShare').addClass('hide');\n      $('.js-material-btn-group').addClass('hide');\n      $('#shareMaterials').addClass('hide');\n      $('.js-manage-batch-btn').addClass('hide');\n      $('.js-upload-file-btn').addClass('hide');\n      $('#material-lib-batch-btn-bar').hide();\n\n    }\n    this.renderTable();\n  }\n  onClickCollectBtn(event) {\n    let self = this;\n    let $target = $(event.currentTarget);\n    $.get($target.data('url'), function(data) {\n      if (data) {\n        $target.addClass('material-collection');\n        cd.message({type:'success', message: Translator.trans('site.collect_cuccess_hint')});\n      } else {\n        $target.removeClass('material-collection');\n        cd.message({type:'success', message: Translator.trans('site.uncollect_cuccess_hint')});\n      }\n    });\n  }\n  onClickManageBtn(event) {\n    let self = this;\n    let mode = self.model;\n\n    if(mode == 'normal') {\n      this.model = 'edit';\n      let $target = $(event.currentTarget);\n      $('#material-lib-batch-btn-bar').show();\n      $('#material-lib-items-panel').find('[data-role=batch-item]').show();\n      $('.materials-ul').addClass('batch-hidden');\n      $target.html(Translator.trans('meterial_lib.complete_manage'));\n    } else {\n      this.model = 'normal';\n      let self = this;\n      let $target = $(event.currentTarget);\n      $('#material-lib-batch-btn-bar').hide();\n      $('#material-lib-items-panel').find('[data-role=batch-item]').hide();\n      $('.materials-ul').removeClass('batch-hidden');\n      $target.html(Translator.trans('meterial_lib.batch_manage'));\n    }\n  }\n  onClickDeleteBatchBtn(event){\n    let self = this;\n    let $target = $(event.currentTarget);\n    let ids = [];\n    $('#material-lib-items-panel').find('[data-role=batch-item]:checked').each(function() {\n      ids.push(this.value);\n    });\n    if (ids == '') {\n      cd.message({type: 'danger', message: Translator.trans('meterial_lib.select_resource_delete_hint')});\n      return;\n    }\n    $('#modal').html('');\n    $('#modal').load($target.data('url'), { ids: ids });\n    $('#modal').modal('show');\n  }\n  onClickShareBatchBtn(event) {\n    cd.confirm({\n      title: '共享',\n      content: Translator.trans('meterial_lib.confirm_share_resource_hint'),\n      okText: '确定',\n      cancelText: '取消',\n      className: '',\n    }).on('ok', () => {\n      let $target = $(event.currentTarget);\n      let ids = [];\n      $('#material-lib-items-panel').find('[data-role=batch-item]:checked').each(function() {\n        ids.push(this.value);\n      });\n\n      this._fileShare(ids, $target.data('url'));\n      $('#material-lib-items-panel').find('[data-role=batch-item]').show();\n      console.log('点击确定按钮后的回调函数');\n    }).on('cancel', () => {\n      console.log('点击取消按钮后的回调函数');\n    });\n  }\n  onClickTagBatchBtn(event) {\n    let self = this;\n    let $target = $(event.currentTarget);\n    let ids = [];\n    this.element.find('[data-role=batch-item]:checked').each(function() {\n      ids.push(this.value);\n    });\n    if (ids == '') {\n      cd.message({type: 'danger', message: Translator.trans('meterial_lib.select_resource_operate_hint')});\n      return;\n    }\n    $('#select-tag-items').val(ids);\n    $('#tag-modal').modal('show');\n  }\n\n  onClickShareBtn(event) {\n    cd.confirm({\n      title: '共享',\n      content: Translator.trans('meterial_lib.confirm_share_resource_hint_single'),\n      okText: '确定',\n      cancelText: '取消',\n      className: '',\n    }).on('ok', () => {\n      let $target = $(event.currentTarget);\n\n      let ids = [];\n      ids.push($target.data('fileId'));\n\n      this._fileShare(ids, $target.data('url'));\n      console.log('点击确定按钮后的回调函数');\n    }).on('cancel', () => {\n      console.log('点击取消按钮后的回调函数');\n    });\n  }\n  onClickUnshareBtn(event) {\n    cd.confirm({\n      title: '取消共享',\n      content: Translator.trans('meterial_lib.confirm_unshare_resource_hint'),\n      okText: '确定',\n      cancelText: '取消',\n      className: '',\n    }).on('ok', () => {\n      let self = this;\n      let $target = $(event.currentTarget);\n\n      $.post($target.data('url'), function(response) {\n        if (response) {\n          cd.message({type: 'success', message: Translator.trans('meterial_lib.unshare_resource_success_hint')});\n          self.renderTable();\n        }\n      });\n      console.log('点击确定按钮后的回调函数');\n    }).on('cancel', () => {\n      console.log('点击取消按钮后的回调函数');\n    });\n  }\n  onClickPagination(event) {\n    let $target = $(event.currentTarget);\n    this.element.find('.js-page').val($target.data('page'));\n    this.renderTable(true);\n    event.preventDefault();\n  }\n  onClickReconvertBtn(event) {\n    let self = this;\n    let $target = $(event.currentTarget);\n    $target.button('loading');\n    $.ajax({\n      type: 'POST',\n      url: $target.data('url'),\n    }).done(function(response) {\n      cd.message({type: 'success', message: Translator.trans('subtitle.status.success')});\n      $target.parents('.materials-list').replaceWith($(response));\n    }).fail(function() {\n      cd.message({type: 'danger', message: Translator.trans('subtitle.status.error')});\n    }).always(function() {\n      $target.button('reset');\n    });\n  }\n  renderTable(isPaginator) {\n    isPaginator || this._resetPage();\n    let self = this;\n    let $table = $('#material-item-list');\n    this._loading();\n    $.ajax({\n      type: 'GET',\n      url: this.renderUrl,\n      data: this.element.find(':visible,input[type=\"hidden\"]').serialize()\n    }).done(function(resp){\n      $table.html(resp);\n      $('.js-batch-tag-btn, .js-batch-delete-btn, .js-batch-share-btn, .js-batch-download').attr('disabled', true);\n      $('[data-toggle=\"tooltip\"]').tooltip();\n      let mode = self.model;\n      let attribute = self.attribute;\n      if (mode == 'edit' && attribute == 'mine') {\n        $('#material-lib-batch-bar').show();\n        $('#material-lib-items-panel').find('[data-role=batch-item]').show();\n        $('[data-role=batch-select]').attr('checked',false);\n      } else if (mode == 'normal') {\n        $('#material-lib-batch-bar').hide();\n      }\n      let $temp = $table.find('.js-paginator');\n      self.element.find('[data-role=paginator]').html($temp.html());\n      $('.js-table-popover').popover({\n        placement: 'top',\n        trigger: 'manual',\n        html: true,\n        animation: false,\n        title: `<div class=\"clearfix material-table-popover\">${Translator.trans('material.common_table.transcoding_intro')}<a class=\"pull-right cd-text-sm\" href=\"http://www.qiqiuyu.com/faq/868/detail\" target=\"_blank\">${Translator.trans('material.common_table.transcoding_more')}</a></div>`,\n        content: `\n        <div class=\"cd-text-sm\">\n          <p class=\"mb0\"><strong>${Translator.trans('subtitle.status.error')}：</strong>${Translator.trans('material.common_table.fail_error_tip')}</p>\n          <p class=\"mb0\"><strong>${Translator.trans('material.common_table.fail_not_support')}：</strong>${Translator.trans('material.common_table.not_support_error_tip')}</p>\n        </div>`\n      }).on('mouseenter', function () {\n        const _this = this;\n        $(this).popover('show');\n        $('.popover').on('mouseleave', function () {\n            $(_this).popover('hide');\n        });\n      }).on('mouseleave', function () {\n        const _this = this;\n        setTimeout(function () {\n          if (!$('.popover:hover').length) {\n            $(_this).popover(\"hide\");\n          }\n        }, 300);\n      });\n    }).fail(function(){\n      self._loaded_error();\n    });\n  }\n  _loading() {\n    let loading = '<div class=\"empty\" colspan=\"10\" style=\"color:#999;padding:80px;\">' + Translator.trans('site.loading') + '</div>';\n    let $table = $('#material-item-list');\n    $table.html(loading);\n  }\n  _loaded_error() {\n    let loading = '<div class=\"empty\" colspan=\"10\" style=\"color:#999;padding:80px;\">' + Translator.trans('site.loading_error') + '</div>';\n    let $table = $('#material-item-list');\n    $table.html(loading);\n  }\n  _resetPage() {\n    this.element.find('.js-page').val(1);\n  }\n  _fileShare(ids, url) {\n    let self = this;\n    if (ids == '') {\n      cd.message({type: 'danger', message: Translator.trans('meterial_lib.select_share_resource_hint')});\n      return;\n    }\n    $.post(url, { 'ids': ids }, function(data) {\n      if (data) {\n        cd.message({type: 'success', message: Translator.trans('meterial_lib.share_resource_success_hint')});\n        self.renderTable();\n      } else {\n        cd.message({type: 'danger', message: Translator.trans('meterial_lib.share_resource_erroe_hint')});\n        self.renderTable();\n      }\n    });\n  }\n  _initHeader() {\n    //init timepicker\n    let self = this;\n    $('#startDate').datetimepicker({\n      autoclose: true,\n      language: document.documentElement.lang,\n    }).on('changeDate', function() {\n      $('#endDate').datetimepicker('setStartDate', $('#startDate').val().substring(0, 16));\n      //self.renderTable();\n    });\n\n    $('#startDate').datetimepicker('setEndDate', $('#endDate').val().substring(0, 16));\n\n    $('#endDate').datetimepicker({\n      autoclose: true,\n      language: document.documentElement.lang,\n    }).on('changeDate', function() {\n\n      $('#startDate').datetimepicker('setEndDate', $('#endDate').val().substring(0, 16));\n      //self.renderTable();\n    });\n\n    $('#endDate').datetimepicker('setStartDate', $('#startDate').val().substring(0, 16));\n  }\n  _initSelect2() {\n    Select('#modal-tags', 'remote');\n  }\n  initTagForm(event) {\n    let $form = $('#tag-form');\n    let validator = $form.validate({\n      rules: {\n        tags: {\n          required: true,\n        }\n      },\n      messages: {\n        tags: {\n          required: Translator.trans('course_set.manage.tag_required_hint'),\n        },\n      }\n    });\n  }\n}\n\nlet materialWidget = new MaterialWidget();\n\n$('#modal').on('click','.file-delete-form-btn', function(event) {\n  let $form = $('#file-delete-form');\n\n  $(this).button('loading').addClass('disabled');\n  $.post($form.attr('action'), $form.serialize(), function(data) {\n    if (data) {\n      $('#modal').modal('hide');\n      cd.message({type: 'success', message: Translator.trans('meterial_lib.delete_resource_success_hint')});\n      materialWidget.renderTable(true);\n    }\n    $('#material-lib-items-panel').find('[data-role=batch-item]').show();\n    $('#material-lib-items-panel').find('[data-role=batch-select]').attr('checked',false);\n  });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/material-lib/index/index.js","class BatchSelect {\n  constructor($element) {\n    this.$element = $element;\n    this.initEvent();\n  }\n\n  initEvent() {\n    this.$element.on('click','[data-role=\"batch-select\"]', event=>this._batch2Item(event));\n    this.$element.on('click','[data-role=\"batch-item\"]', event=>this._item2Batch(event));\n  }\n\n  _batch2Item(event) {\n    let checked = $(event.currentTarget).prop('checked');\n    this.$element.find('[data-role=\"batch-select\"]').prop('checked',checked);\n    this.$element.find('[data-role=\"batch-item\"]:visible').prop('checked',checked);\n    if (checked) {\n      $('.js-batch-tag-btn, .js-batch-delete-btn, .js-batch-share-btn, .js-batch-download').attr('disabled', false);\n    } else {\n      if (this.$element.find('[data-role=\"batch-item\"]:checked').length == 0) {\n        $('.js-batch-tag-btn, .js-batch-delete-btn, .js-batch-share-btn, .js-batch-download').attr('disabled', true);\n      }\n    }\n  }\n\n  _item2Batch(event) {\n    let itemLength = this.$element.find('[data-role=\"batch-item\"]:visible').length;\n    let itemCheckedLength = this.$element.find('[data-role=\"batch-item\"]:checked').length;\n    if (itemCheckedLength !== 0) {\n      $('.js-batch-tag-btn, .js-batch-delete-btn, .js-batch-share-btn, .js-batch-download').attr('disabled', false);\n    } else {\n      $('.js-batch-tag-btn, .js-batch-delete-btn, .js-batch-share-btn, .js-batch-download').attr('disabled', true);\n    }\n    if (itemLength == itemCheckedLength) {\n      this.$element.find('[data-role=\"batch-select\"]').prop('checked',true);\n    } else {\n      this.$element.find('[data-role=\"batch-select\"]').prop('checked',false);\n    }\n  }\n}\n\nexport default BatchSelect;\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/common/widget/res-batch-select.js","import notify from 'common/notify';\nimport EsMessenger from 'app/common/messenger';\n\nexport default class Cover {\n  constructor(options) {\n    this.callback = options.callback;\n    this.element = options.element;\n    this.init();\n  }\n  init() {\n    this.initEvent();\n    this._initPlayer();\n  }\n  initEvent() {\n    $('.js-img-set').on('click', (event) => {\n      this.onClickChangePic(event);\n    });\n    $('.js-reset-btn').on('click', (event) => {\n      this.onClickReset(event);\n    });\n    $('.js-set-default').on('click', (event) => {\n      this.onClickDefault(event);\n    });\n    $('.js-set-select').on('click', (event) => {\n      this.onClickSelect(event);\n    });\n    $('.js-screenshot-btn').on('click', (event) => {\n      this.onClickScreenshot(event);\n    });\n    $('#cover-form').on('submit', (event) => {\n      this.onSubmitCoverForm(event);\n    });\n  }\n  onClickChangePic(event) {\n    var $target = $(event.currentTarget);\n    var $coverTab = $target.closest('#cover-tab');\n    $coverTab.find('.js-cover-img').attr('src', $target.attr('src'));\n    $coverTab.find('#thumbNo').val($target.data('no'));\n  }\n  onClickReset() {\n    $('#thumbNo').val('');\n    $('.js-cover-img').attr('src', $('#orignalThumb').val());\n  }\n  onClickDefault(event) {\n    this._changePane($(event.currentTarget));\n  }\n  onClickSelect(event) {\n    this._changePane($(event.currentTarget));\n  }\n  onClickScreenshot() {\n    var $target = $(event.currentTarget);\n    var self = this;\n    $target.button('loading');\n    var screenshotSecond = self.second;\n    $.ajax({\n      type: 'get',\n      url: $target.data('url'),\n      data: {\n        'second': screenshotSecond\n      }\n    }).done(function(resp) {\n      if (resp.status == 'success') {\n        self._successGeneratePic($target, resp);\n      } else if (resp.status == 'waiting') {\n        //轮询\n        self.intervalId = setInterval(function() {\n          $.get($target.data('url'), {\n            'second': screenshotSecond\n          }, function(resp) {\n            if (resp.status == 'success') {\n              self._successGeneratePic($target, resp);\n              clearInterval(self.intervalId);\n            }\n          });\n        }, 3000);\n      } else {\n        $target.button('reset');\n        notify('danger', Translator.trans('meterial_lib.generate_screenshots_error_hint'));\n      }\n\n    }).fail(function() {\n      $target.button('reset');\n      notify('danger', Translator.trans('meterial_lib.generate_screenshots_error_hint'));\n    });\n  }\n  onSubmitCoverForm(event) {\n    var $target = $(event.currentTarget);\n    $target.find('#save-btn').button('loading');\n    if ($target.find('#thumbNo').val()) {\n      $.ajax({\n        type: 'POST',\n        url: $target.attr('action'),\n        data: $target.serialize()\n      }).done(function() {\n        notify('success', Translator.trans('site.save_success_hint'));\n      }).fail(function() {\n        notify('danger', Translator.trans('site.save_error_hint'));\n      }).always(function() {\n        $target.find('#save-btn').button('reset');\n      });\n    } else {\n      notify('success', Translator.trans('site.save_success_hint'));\n      $target.find('#save-btn').button('reset');\n    }\n    event.preventDefault();\n  }\n  destroy() {\n    clearInterval(this.intervalId);\n  }\n  _initPlayer() {\n    var self = this;\n    if ($('#viewerIframe').length > 0) {\n      $('#viewerIframe');\n      var messenger = new EsMessenger({\n        name: 'parent',\n        project: 'PlayerProject',\n        children: [document.getElementById('viewerIframe')],\n        type: 'parent'\n      });\n\n      // messenger.on(\"ready\", function() {\n      //   self.player = window.frames[\"viewerIframe\"].contentWindow.BalloonPlayer;\n      // });\n\n      messenger.on('video.timeupdate', function(data) {\n        self.second = Math.floor(data.currentTime);\n      });\n    }\n  }\n  _successGeneratePic($btn, resp) {\n    $btn.button('reset');\n    notify('success', Translator.trans('meterial_lib.generate_screenshots_success_hint'));\n    var $coverTab = $btn.closest('#cover-tab');\n    $coverTab.find('.js-cover-img').attr('src', resp.url);\n    $coverTab.find('#thumbNo').val(resp.no);\n  }\n  _changePane($target) {\n    $target.closest('.nav').find('li.active').removeClass('active');\n    $target.addClass('active');\n\n    var $tabcontent = $('.tab-content-img');\n    $tabcontent.find('.tab-pane-img.active').removeClass('active');\n    $tabcontent.find($target.data('target')).addClass('active');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/material-lib/index/cover.js","import notify from 'common/notify';\nimport Select from 'app/common/input-select';\n\nexport default class Info {\n  constructor(options) {\n    this.element = options.element;\n    this.callback = options.callback;\n    this.init();\n  }\n  init() {\n    this.initEvent();\n    this._initTag();\n  }\n  initEvent() {\n    $('#info-form').on('submit', (event) => {\n      this.onSubmitInfoForm(event);\n    });\n  }\n  _initTag() {\n    Select('#infoTags', 'remote', {\n      width: 'off'\n    });\n  }\n  onSubmitInfoForm(event) {\n    let $target = $(event.currentTarget);\n    $target.find('#info-save-btn').button('loading');\n    $.ajax({\n      type: 'POST',\n      url: $target.attr('action'),\n      data: $('#info-form').serialize()\n\n    }).done(function() {\n      notify('success', Translator.trans('site.save_success_hint'));\n\n    }).fail(function() {\n      notify('danger', Translator.trans('site.save_error_hint'));\n\n    }).always(function() {\n      $target.find('#info-save-btn').button('reset');\n    });\n\n    event.preventDefault();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/material-lib/index/info.js","const Select = (element, type, options) => {\n  let config = {};\n  /**\n   * type 类型\n   * element 对象\n   * opyions 配置项\n   */\n  if (type === 'remote') {\n    config = {\n      ajax: {\n        url: $(element).data('url'),\n        dataType: 'json',\n        quietMillis: 100,\n        data(term, page) {\n          return {\n            q: term,\n            page_limit: 10\n          };\n        },\n        results(data) {\n          let results = [];\n          $.each(data, function(index, item) {\n            results.push({\n              id: item.name,\n              name: item.name\n            });\n          });\n          return {\n            results: results\n          };\n        }\n      },\n      initSelection(element, callback) {\n        let data = [];\n        $(element.val().split(',')).each(function() {\n          data.push({\n            id: this,\n            name: this\n          });\n        });\n        callback(data);\n      },\n      formatSelection(item) {\n        return item.name;\n      },\n      formatResult(item) {\n        return item.name;\n      },\n      width: 400,\n      multiple: true,\n      placeholder: Translator.trans('validate.tag_required_hint'),\n      createSearchChoice() {\n        return null;\n      },\n      maximumSelectionSize: 20\n    };\n  }\n\n  $(element).select2(Object.assign(config, options));\n};\n\nexport default Select;\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/common/input-select.js","import Info from './info';\nimport Cover from './cover';\n\nexport default class DetailWidget {\n  constructor(options) {\n    this.callback = options.callback;\n    this.element = options.element;\n    this.init();\n  }\n  init() {\n    this.initEvent();\n    if ($('#cover-tab').length >0) {\n      this.cover = new Cover({\n        element: $('#cover-tab')\n      });\n    }\n\n    this.info = new Info({\n      element: $('#info-tab')\n    });\n  }\n  initEvent() {\n    $('.js-back').on('click', (event) => {\n      this.onClickBack(event);\n    });\n    $('.js-cover').on('click', (event) => {\n      this.onClickCover(event);\n    });\n    $('.js-info').on('click', (event) => {\n      this.onClickInfo(event);\n    });\n  }\n  onClickInfo(event) {\n    let $target = $(event.currentTarget);\n    this._changePane($target);\n  }\n  onClickCover(event) {\n    let $target = $(event.currentTarget);\n    this._changePane($target);\n  }\n  onClickBack() {\n    this.back();\n  }\n  back() {\n    this.callback();\n    this.element.remove();\n    // this.info.destroy();\n    // this.cover && this.cover.destroy();\n    // this.destroy();\n    $('.panel-heading').html(Translator.trans('material_lib.content_title'));\n  }\n  _changePane($target) {\n    //change li\n    $target.closest('.nav').find('li.active').removeClass('active');\n    $target.addClass('active');\n\n    //change content\n    let $tabcontent = $target.closest('.content').find('.tab-content');\n    $tabcontent.find('.tab-pane.active').removeClass('active');\n    $tabcontent.find($target.data('target')).addClass('active');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/material-lib/index/detail.js"],"sourceRoot":""}