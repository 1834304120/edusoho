webpackJsonp([0],{"/QYm":function(t,e,r){"use strict";var s=r("woOf"),i=r.n(s),n=r("Dd8w"),a=r.n(n),o=r("7+uW"),c=r("9JZw"),l=r("CsZI"),u=["success","fail","loading"],d=Object(c.a)({render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{attrs:{name:"van-fade"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],class:t.b([t.style,t.position])},["text"===t.style?r("div",[t._v(t._s(t.message))]):t._e(),"html"===t.style?r("div",{domProps:{innerHTML:t._s(t.message)}}):t._e(),"default"===t.style?["loading"===t.type?r("loading",{attrs:{color:"white",type:t.loadingType}}):r("icon",{class:t.b("icon"),attrs:{name:t.type}}),t.isDef(t.message)?r("div",{class:t.b("text")},[t._v(t._s(t.message))]):t._e()]:t._e()],2)])},name:"toast",mixins:[l.a],props:{forbidClick:Boolean,message:[String,Number],type:{type:String,default:"text"},loadingType:{type:String,default:"circular"},position:{type:String,default:"middle"},lockScroll:{type:Boolean,default:!1}},data:function(){return{clickable:!1}},computed:{style:function(){return-1!==u.indexOf(this.type)?"default":this.type}},mounted:function(){this.toggleClickale()},watch:{value:function(){this.toggleClickale()},forbidClick:function(){this.toggleClickale()}},methods:{toggleClickale:function(){var t=this.value&&this.forbidClick;if(this.clickable!==t){this.clickable=t;var e=t?"add":"remove";document.body.classList[e]("van-toast--unclickable")}}}}),h=r("o69Z"),p={type:"text",mask:!1,message:"",value:!0,duration:3e3,position:"middle",loadingType:"circular",forbidClick:!1,overlayStyle:{}},f=function(t){return Object(h.d)(t)?t:{message:t}},v=[],m=!0,_=a()({},p);function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=function(){if(!v.length||!m){var t=new(o.default.extend(d))({el:document.createElement("div")});document.body.appendChild(t.$el),v.push(t)}return v[v.length-1]}();return t=a()({},_,f(t),{clear:function(){e.value=!1}}),i()(e,function(t){return t.overlay=t.mask,t}(t)),clearTimeout(e.timer),t.duration>0&&(e.timer=setTimeout(function(){e.clear()},t.duration)),e}["loading","success","fail"].forEach(function(t){var e;y[t]=(e=t,function(t){return y(a()({type:e},f(t)))})}),y.clear=function(t){v.length&&(t?(v.forEach(function(t){t.clear()}),v=[]):m?v[0].clear():v.shift().clear())},y.setDefaultOptions=function(t){i()(_,t)},y.resetDefaultOptions=function(){_=a()({},p)},y.allowMultiple=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];m=!t},y.install=function(){o.default.use(d)},o.default.prototype.$toast=y;e.a=y},"1JqO":function(t,e,r){"use strict";e.a={data:function(){return{redirect:""}},created:function(){this.redirect=decodeURIComponent(this.$route.fullPath)}}},"5kWq":function(t,e){},CjLw:function(t,e,r){"use strict";var s=r("fZjL"),i=r.n(s),n={props:{course:{type:Object,default:function(){return{}}},type:{type:String,default:"price"},feedback:{type:Boolean,default:!0},typeList:{type:String,default:"course_list"}},data:function(){return{pathName:this.$route.name}},watch:{course:{handler:function(t){var e=t.courseSet;if("h5Setting"!==this.pathName&&e)for(var r=i()(e.cover),s=0;s<r.length;s++)e.cover[r[s]]=e.cover[r[s]].replace(/^(\/\/)|(http:\/\/)/,"https://")},immediate:!0}},methods:{onClick:function(t){if(this.feedback){var e="order"===this.type,r=this.course.id||this.course.targetId;"SPAN"!==t.target.tagName&&(e?location.href=this.order.targetUrl:this.$router.push({path:"course_list"===this.typeList?"/course/"+r:"/classroom/"+r}))}}}},a={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"e-course"},[r("div",{staticClass:"clearfix",on:{click:t.onClick}},[r("div",{staticClass:"e-course__left pull-left"},[r("img",{class:t.course.imgSrc.className,attrs:{src:t.course.imgSrc.url}})]),t._v(" "),r("div",{staticClass:"e-course__right pull-left"},[r("div",{staticClass:"e-course__header text-overflow"},[t._v(t._s(t.course.header))]),t._v(" "),r("div",{staticClass:"e-course__middle"},[t.course.middle.value?r("div",{domProps:{innerHTML:t._s(t.course.middle.html)}}):t._e()]),t._v(" "),r("div",{staticClass:"e-course__bottom",domProps:{innerHTML:t._s(t.course.bottom.html)}})])])])},staticRenderFns:[]},o=r("VU/8")(n,a,!1,null,null,null);e.a=o.exports},GK7I:function(t,e,r){"use strict";var s=r("rsAy"),i=r("xPBg"),n={name:"review",props:{review:{type:Object,default:function(){return{}}},course:{type:Object,default:function(){return{}}},disableMask:{type:Boolean,default:!0},isClass:{type:Boolean,default:!0},timeFormat:{type:String,default:"simple"}},data:function(){return{loadAllReview:!1}},components:{moreMask:s.a},filters:{userName:function(t){return t&&t.nickname||"匿名用户"},avatar:function(t){return t&&t.avatar&&t.avatar.middle},time:function(t,e){var r=new Date(t);return"simple"===e?Object(i.formatSimpleTime)(r):"complete"===e?Object(i.formatCompleteTime)(r):t}},computed:{posts:function(){return this.review&&this.review.posts||[]},rating:{get:function(){return Number(this.review.rating)},set:function(){}},emptyRating:{get:function(){return this.rating>=0?Number(5-this.rating):5},set:function(){}},textOption:function(){return{paddingTop:70,lineHeight:25,align:"right",content:"显示全部"}},courseTitle:function(){return this.isClass?"":this.course.displayedTitle}}},a={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"e-review"},[r("img",{staticClass:"e-review-avatar avatar-img",attrs:{src:t._f("avatar")(t.review.user),alt:""}}),t._v(" "),r("div",{staticClass:"e-review-body"},[r("div",[r("span",{staticClass:"e-review-nickname text-14"},[t._v(t._s(t._f("userName")(t.review.user)))]),t._v(" "),r("van-rate",{staticClass:"e-review-rating",attrs:{size:15,count:t.emptyRating,color:"#B0BDC9",readonly:!0},model:{value:t.emptyRating,callback:function(e){t.emptyRating=e},expression:"emptyRating"}}),t._v(" "),r("van-rate",{staticClass:"e-review-rating",attrs:{size:15,count:t.rating,color:"#FFAA00",readonly:!0},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}})],1),t._v(" "),r("div",{staticClass:"e-review-time text-12"},[t._v(t._s(t._f("time")(t.review.createdTime,t.timeFormat)))]),t._v(" "),t.disableMask?r("div",{staticClass:"e-review-content text-14"},[t._v(t._s(t.review.content))]):r("more-mask",{attrs:{text:t.textOption,maxHeight:100,disabled:t.loadAllReview},on:{maskLoadMore:function(e){t.loadAllReview=!0}}},[r("div",{staticClass:"e-review-content text-14"},[t._v(t._s(t.review.content))])]),t._v(" "),t.courseTitle?r("span",{staticClass:"e-review-origin text-12"},[t._v("来自："+t._s(t.courseTitle))]):t._e(),t._v(" "),t._l(t.posts,function(e){return r("div",{staticClass:"e-review__post"},[r("img",{staticClass:"e-review-avatar e-review__post-avatar avatar-img",attrs:{src:t._f("avatar")(e.user),alt:""}}),t._v(" "),r("div",{staticClass:"e-review__post-body"},[r("span",{staticClass:"e-review-nickname text-14"},[t._v(t._s(t._f("userName")(e.user))+" 回复 "+t._s(t._f("userName")(t.review.user))+"：")]),t._v(" "),r("div",{staticClass:"e-review-content text-14"},[t._v(t._s(e.content))])])])})],2)])},staticRenderFns:[]},o=r("VU/8")(n,a,!1,null,null,null);e.a=o.exports},OGZL:function(t,e,r){"use strict";e.a=function(t,e){switch(e.type){case"price":var r=e.showStudent?'<span class="switch-box__state"><p style="color: #B0BDC9">\n            '+t.studentNum+"人在学</p></span>":"",s="0.00"===t.price?'<p style="color: #408FFB">免费</p>':'<p style="color: #ff5353">¥ '+t.price+"</p>";return"classroom_list"===e.typeList?{id:t.id,targetId:t.targetId,imgSrc:{url:t.cover.middle||"",className:"e-class__img"},header:t.title,middle:{value:t.courseNum,html:'<div class="e-course__count">共 '+t.courseNum+" 门课程</div>"},bottom:{value:t.price||t.studentNum,html:'<span class="switch-box__price">'+s+'</span>\n                  <span class="switch-box__state"><p style="color: #B0BDC9">\n                    '+t.studentNum+"人在学</p>\n                  </span>"}}:{id:t.id,imgSrc:{url:t.courseSet.cover.middle||"",className:"e-course__img"},header:t.courseSetTitle,middle:{value:t.title,html:'<div class="e-course__project text-overflow">\n                  <span>'+t.title+"</span>\n                </div>"},bottom:{value:t.price||t.studentNum,html:'<span class="switch-box__price">'+s+"</span>"+r}};case"confirmOrder":return{imgSrc:{url:t.cover.middle||"",className:"e-course__img"},header:t.title,middle:"",bottom:{value:t.coinPayAmount,html:'<span class="switch-box__price">\n                  <p style="color: #ff5353">¥ '+t.coinPayAmount+"</p>\n                </span>"}};case"rank":return"classroom_list"===e.typeList?{id:t.id,targetId:t.targetId,imgSrc:{url:t.cover.middle||"",className:"e-class__img"},header:t.title,middle:"",bottom:{value:t.courseNum,html:'<div class="e-course__count">共 '+t.courseNum+" 门课程</div>"}}:{id:t.id,imgSrc:{url:t.courseSet.cover.middle||"",className:"course_list"===e.typeList?"e-course__img":"e-class__img"},header:t.courseSetTitle,middle:{value:t.title,html:'<div class="e-course__project text-overflow">\n                  <span>'+t.title+"</span>\n                </div>"},bottom:{value:t.progress.percent,html:'<div class="rank-box">\n                  <div class="progress round-conner">\n                    <div class="curRate round-conner"\n                      style="width:'+t.progress.percent+'%">\n                    </div>\n                  </div>\n                  <span>'+t.progress.percent+"%</span>\n                </div>"}};default:return"empty data"}}},PirY:function(t,e){function r(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function s(t,e){t.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,t))}}t.exports=function(t,e,i){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"==typeof e&&(i=e,e={}),e=e||{},i=i||function(){},a.type=e.type||"text/javascript",a.charset=e.charset||"utf8",a.async=!("async"in e)||!!e.async,a.src=t,e.attrs&&function(t,e){for(var r in e)t.setAttribute(r,e[r])}(a,e.attrs),e.text&&(a.text=""+e.text),("onload"in a?r:s)(a,i),a.onload||r(a,i),n.appendChild(a)}},SldL:function(t,e){!function(e){"use strict";var r,s=Object.prototype,i=s.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag",l="object"==typeof t,u=e.regeneratorRuntime;if(u)l&&(t.exports=u);else{(u=e.regeneratorRuntime=l?t.exports:{}).wrap=w;var d="suspendedStart",h="suspendedYield",p="executing",f="completed",v={},m={};m[a]=function(){return this};var _=Object.getPrototypeOf,y=_&&_(_(I([])));y&&y!==s&&i.call(y,a)&&(m=y);var g=C.prototype=x.prototype=Object.create(m);k.prototype=g.constructor=C,C.constructor=k,C[c]=k.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===k||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,C):(t.__proto__=C,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(g),t},u.awrap=function(t){return{__await:t}},S(L.prototype),L.prototype[o]=function(){return this},u.AsyncIterator=L,u.async=function(t,e,r,s){var i=new L(w(t,e,r,s));return u.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},S(g),g[c]="Generator",g[a]=function(){return this},g.toString=function(){return"[object Generator]"},u.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var s=e.pop();if(s in t)return r.value=s,r.done=!1,r}return r.done=!0,r}},u.values=I,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function s(s,i){return o.type="throw",o.arg=t,e.next=s,i&&(e.method="next",e.arg=r),!!i}for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n],o=a.completion;if("root"===a.tryLoc)return s("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return s(a.catchLoc,!0);if(this.prev<a.finallyLoc)return s(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return s(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return s(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r];if(s.tryLoc<=this.prev&&i.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var n=s;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var a=n?n.completion:{};return a.type=t,a.arg=e,n?(this.method="next",this.next=n.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var s=r.completion;if("throw"===s.type){var i=s.arg;O(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,s){return this.delegate={iterator:I(t),resultName:e,nextLoc:s},"next"===this.method&&(this.arg=r),v}}}function w(t,e,r,s){var i=e&&e.prototype instanceof x?e:x,n=Object.create(i.prototype),a=new j(s||[]);return n._invoke=function(t,e,r){var s=d;return function(i,n){if(s===p)throw new Error("Generator is already running");if(s===f){if("throw"===i)throw n;return E()}for(r.method=i,r.arg=n;;){var a=r.delegate;if(a){var o=T(a,r);if(o){if(o===v)continue;return o}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(s===d)throw s=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);s=p;var c=b(t,e,r);if("normal"===c.type){if(s=r.done?f:h,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(s=f,r.method="throw",r.arg=c.arg)}}}(t,r,a),n}function b(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function x(){}function k(){}function C(){}function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function L(t){var e;this._invoke=function(r,s){function n(){return new Promise(function(e,n){!function e(r,s,n,a){var o=b(t[r],t,s);if("throw"!==o.type){var c=o.arg,l=c.value;return l&&"object"==typeof l&&i.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,n,a)},function(t){e("throw",t,n,a)}):Promise.resolve(l).then(function(t){c.value=t,n(c)},a)}a(o.arg)}(r,s,e,n)})}return e=e?e.then(n,n):n()}}function T(t,e){var s=t.iterator[e.method];if(s===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,T(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=b(s,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,v;var n=i.arg;return n?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,v):n:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function I(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var s=-1,n=function e(){for(;++s<t.length;)if(i.call(t,s))return e.value=t[s],e.done=!1,e;return e.value=r,e.done=!0,e};return n.next=n}}return{next:E}}function E(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},Xxa5:function(t,e,r){t.exports=r("jyFz")},eqfM:function(t,e,r){"use strict";var s=r("f4F5"),i=(r.n(s),r("Cj3+")),n=(r.n(i),r("5kWq"));r.n(n)},exGp:function(t,e,r){"use strict";e.__esModule=!0;var s,i=r("//Fk"),n=(s=i)&&s.__esModule?s:{default:s};e.default=function(t){return function(){var e=t.apply(this,arguments);return new n.default(function(t,r){return function s(i,a){try{var o=e[i](a),c=o.value}catch(t){return void r(t)}if(!o.done)return n.default.resolve(c).then(function(t){s("next",t)},function(t){s("throw",t)});t(c)}("next")})}}},jW8y:function(t,e,r){"use strict";r("eqfM");var s=r("/QYm"),i=r("Dd8w"),n=r.n(i),a=r("NYxO"),o=r("Du/2"),c=r("1JqO"),l=(r("gyMJ"),{mixins:[c.a],props:{hiddeTitle:{type:Boolean,default:!1}},computed:n()({},Object(a.mapState)("course",{details:function(t){return t.details},joinStatus:function(t){return t.joinStatus},courseLessons:function(t){return t.courseLessons},selectedPlanId:function(t){return t.selectedPlanId}}),Object(a.mapState)(["courseSettings"]),{currentCourseType:function(){return Number(this.details.parentId)?"班级":"课程"}}),data:function(){return{directoryArray:[],chapters:[],tasks:[],unit:[],optionalMap:[],unitShow:{},firstLesson:""}},watch:{selectedPlanId:{immediate:!0,handler:function(t){var e=this;if(this.courseLessons.length){var r=0,s=0,i=0;this.directoryArray=this.courseLessons.map(function(t){if(e.firstLesson||(e.firstLesson=t.type),r++,e.$set(t,"show",!0),"chapter"===t.type&&(i++,r=0),"unit"===t.type&&(s=r-1),"lesson"===t.type){var n="chapter"===e.firstLesson?Math.max(i-1,0):Math.max(i,0),a=s;e.$set(t,"show",n+"-"+a)}return t}),this.getTasks(this.directoryArray)}}}},methods:n()({},Object(a.mapMutations)("course",{setSourceType:o.i}),{lessonToggle:function(t,e){var r=t+"-"+e;this.$set(this.unitShow,r,!this.unitShow[r])},filterNumber:function(t,e,r){return r?"":"1"===t.isOptional?"选修":e+1},getTasks:function(t){var e=this,r=[],s=0,i=0;this.chapters=[],this.tasks=[],this.unit=[],this.optionalMap=[],t.forEach(function(t){if("lesson"==t.type&&(i++,s=Number(t.isOptional)?++s:s,e.optionalMap[i]=s,t.tasks.forEach(function(t){t.tagStatus=e.getCurrentStatus(t)})),"chapter"!==t.type){if("unit"===t.type){var n="chapter"===e.firstLesson?e.chapters.length-1:e.chapters.length,a=r.length;e.$set(e.unitShow,n+"-"+a,!0),e.unit.push(t)}r.push(t)}else r.length>0?(e.tasks.push([].concat(r)),r=[]):e.chapters.length>0&&e.tasks.push([]),e.chapters.push(t)}),this.unit.length&&"chapter"===this.firstLesson||this.$set(this.unitShow,"0-0",!0),"chapter"!==t[t.length-1].type&&this.tasks.push(r),"chapter"!==t[0].type&&this.chapters.unshift({show:!0})},getCurrentStatus:function(t){return Number(t.isFree)?"is-free":Number(this.details.tryLookable)&&"video"===t.type&&t.activity.mediaStorage?"is-tryLook":""},filterTaskStatus:function(t){return this.details.member||"is-free"!==t.tagStatus?this.details.member||"is-tryLook"!==t.tagStatus?"":"试看":"免费"},lessonCellClick:function(t){if(!this.details.allowAnonymousPreview&&this.$route.push({name:"login",query:{redirect:this.redirect}}),!this.joinStatus&&["is-tryLook","is-free"].includes(t.tagStatus))switch(t.type){case"video":case"audio":this.$router.push({name:"course_try"}),this.setSourceType({sourceType:t.type,taskId:t.id});break;case"doc":case"text":case"ppt":this.$router.push({name:"course_web",query:{courseId:this.selectedPlanId,taskId:t.id,type:t.type,preview:1}});break;default:return Object(s.a)("请先加入"+this.currentCourseType)}else this.joinStatus?this.showTypeDetail(t):Object(s.a)("请先加入"+this.currentCourseType)},showTypeDetail:function(t){if("published"===t.status)switch(t.type){case"video":"self"===t.mediaSource?this.setSourceType({sourceType:"video",taskId:t.id}):Object(s.a)("暂不支持此类型");break;case"audio":this.setSourceType({sourceType:"audio",taskId:t.id});break;case"text":case"ppt":case"doc":this.$router.push({name:"course_web",query:{courseId:this.selectedPlanId,taskId:t.id,type:t.type}});break;case"live":var e=new Date,r=new Date(1e3*t.endTime),i=(new Date(1e3*t.startTime),!1);if(e>r){if("videoGenerated"==t.activity.replayStatus)return void("self"===t.mediaSource?this.setSourceType({sourceType:"video",taskId:t.id}):Object(s.a)("暂不支持此类型"));if("ungenerated"==t.activity.replayStatus)return void Object(s.a)("暂无回放");i=!0}this.$router.push({name:"live",query:{courseId:this.selectedPlanId,taskId:t.id,type:t.type,title:t.title,replay:i}});break;default:Object(s.a)("暂不支持此类型")}else Object(s.a)("敬请期待")}})}),u={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("e-panel",{staticClass:"directory",attrs:{title:"课程目录","hidde-title":t.hiddeTitle}},[0==t.courseLessons.length?r("div",{staticClass:"empty"},[t._v("暂无学习任务")]):r("div",{staticClass:"directory-list"},t._l(t.chapters,function(e,s){return r("div",{staticClass:"directory-list__item"},["chapter"===e.type?r("div",{staticClass:"directory-list__item-chapter",on:{click:function(t){e.show=!e.show}}},[r("span",{staticClass:"text-overflow"},[t._v("第"+t._s(e.number)+t._s(t.courseSettings.chapter_name)+"："+t._s(e.title))]),t._v(" "),r("i",{class:[e.show?"icon-packup":"icon-unfold"]})]):t._e(),t._v(" "),t._l(t.tasks[s],function(i,n){return r("div",{class:["directory-list__item-unit",{"unit-show":e.show||e.show&&"lesson"===t.tasks[s][0].type}]},["unit"===i.type?r("div",{staticClass:"lesson-cell__unit"},[r("span",{staticClass:"lesson-cell__unit-title text-overflow"},[t._v("第"+t._s(i.number)+t._s(t.courseSettings.part_name)+"："+t._s(i.title))]),t._v(" "),r("i",{class:[t.unitShow[s+"-"+n]?"icon-packup":"icon-unfold"],on:{click:function(e){t.lessonToggle(s,n)}}})]):t._e(),t._v(" "),"lesson"===i.type?r("div",{staticClass:"lesson-cell__hour text-overflow",class:{"lesson-show":t.unitShow[i.show]||"lesson"===t.tasks[s][0].type}},[i.tasks.length>1?r("div",[r("div",{staticClass:"lesson-cell__lesson text-overflow"},[r("i",{staticClass:"h5-icon h5-icon-dot color-primary text-18"}),t._v(" "),r("span",[t._v(t._s(Number(i.isOptional)?"选修 ":"课时 ")+" "+t._s(Number(i.isOptional)?" ":i.number-t.optionalMap[i.number]+"：")+t._s(i.title))])]),t._v(" "),t._l(i.tasks,function(e,s){return r("div",{class:["box","show-box"]},[r("div",{staticClass:"lesson-cell"},[Number(i.isOptional)?t._e():r("span",{staticClass:"lesson-cell__number"},[t._v(t._s(t.filterNumber(e,s)))]),t._v(" "),r("div",{staticClass:"lesson-cell__content",on:{click:function(r){t.lessonCellClick(e)}}},[r("span",[t._v(t._s(e.title))]),t._v(" "),r("span",[t._v(t._s(t._f("taskType")(e))+t._s(t._f("filterTask")(e)))])]),t._v(" "),r("div",{class:["lesson-cell__status",t.details.member?"":e.tagStatus]},[t._v("\n                  "+t._s(t.filterTaskStatus(e))+"\n                ")])])])})],2):t._e(),t._v(" "),1===i.tasks.length?r("div",[r("div",{staticClass:"lesson-cell__lesson text-overflow"},[r("i",{staticClass:"h5-icon h5-icon-dot color-primary text-18"}),t._v(" "),r("span",[t._v(t._s(Number(i.isOptional)?"选修 ":"课时 ")+" "+t._s(Number(i.isOptional)?" ":i.number-t.optionalMap[i.number]+"：")+t._s(i.tasks[0].title))]),t._v(" "),r("div",{staticClass:"lesson-cell"},[r("span",{staticClass:"lesson-cell__number"},[t._v(t._s(t.filterNumber(i.tasks[0],0,!0)))]),t._v(" "),r("div",{staticClass:"lesson-cell__content ml3",on:{click:function(e){t.lessonCellClick(i.tasks[0])}}},[r("span",[t._v(t._s(t._f("taskType")(i.tasks[0]))+t._s(t._f("filterTask")(i.tasks[0])))])]),t._v(" "),r("div",{class:["lesson-cell__status",t.details.member?"":i.tasks[0].tagStatus]},[t._v("\n                  "+t._s(t.filterTaskStatus(i.tasks[0]))+"\n                ")])])])]):t._e()]):t._e()])})],2)}))])},staticRenderFns:[]},d=r("VU/8")(l,u,!1,null,null,null);e.a=d.exports},jyFz:function(t,e,r){var s=function(){return this}()||Function("return this")(),i=s.regeneratorRuntime&&Object.getOwnPropertyNames(s).indexOf("regeneratorRuntime")>=0,n=i&&s.regeneratorRuntime;if(s.regeneratorRuntime=void 0,t.exports=r("SldL"),i)s.regeneratorRuntime=n;else try{delete s.regeneratorRuntime}catch(t){s.regeneratorRuntime=void 0}},oHlh:function(t,e,r){"use strict";var s=r("fZjL"),i=r.n(s),n=r("Dd8w"),a=r.n(n),o=r("NYxO"),c={props:{type:{type:String,default:"price"},course:{type:Object,default:{}},order:{type:Object,default:{}}},data:function(){return{isFree:0==this.course.price}},computed:a()({},Object(o.mapState)(["courseSettings"]),{rate:function(){return parseInt(this.course.publishedTaskNum)?parseInt(this.course.progress.percent):0},showStudent:function(){return!this.courseSettings||Number(this.courseSettings.show_student_num_enabled)}}),methods:{goToPay:function(){this.$router.push({path:"/pay",query:{id:this.order.id,source:"order",sn:this.order.sn,targetId:this.order.targetId}})}}},l={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"e-course-switch-box"},["price"===t.type?r("div",{staticClass:"switch-box"},[r("span",{staticClass:"switch-box__price"},[t.isFree?r("p",{staticClass:"free"},[t._v("免费")]):t._e(),t._v(" "),t.isFree?t._e():r("p",{staticClass:"price"},[t._v("¥ "+t._s(t.course.price))])]),t._v(" "),r("span",{staticClass:"switch-box__state"},[t.showStudent?r("p",[t._v(t._s(t.course.studentNum)+"人在学")]):t._e()])]):t._e(),t._v(" "),"order"===t.type?r("div",{staticClass:"switch-box"},[r("span",{staticClass:"switch-box__price"},[t.isFree?r("p",{staticClass:"free"},[t._v("免费")]):t._e(),t._v(" "),t.isFree?t._e():r("p",{staticClass:"price"},[t._v("¥ "+t._s(t.order.pay_amount/100))])]),t._v(" "),r("span",{staticClass:"switch-box__state"},["created"!==t.order.status?r("p",{class:t.order.status},[t._v("\n        "+t._s(t._f("filterOrderStatus")(t.order.status))+"\n      ")]):t._e(),t._v(" "),"created"===t.order.status?r("span",{staticClass:"order-pay",on:{click:t.goToPay}},[t._v(t._s(t._f("filterOrderStatus")(t.order.status)))]):t._e()])]):t._e(),t._v(" "),"confirmOrder"===t.type?r("div",{staticClass:"switch-box"},[r("span",{staticClass:"switch-box__price"},[r("p",{staticClass:"price"},[t._v("¥ "+t._s(t.order.totalPrice))])])]):t._e(),t._v(" "),"rank"===t.type?r("div",{staticClass:"rank-box"},[r("div",{staticClass:"progress round-conner"},[r("div",{staticClass:"curRate round-conner",style:{width:t.rate+"%"}})]),t._v(" "),r("span",[t._v(t._s(this.rate)+"%")])]):t._e()])},staticRenderFns:[]},u={components:{switchBox:r("VU/8")(c,l,!1,null,null,null).exports},props:{course:{type:Object,default:function(){return{}}},order:{type:Object,default:function(){return{}}},type:{type:String,default:"price"},feedback:{type:Boolean,default:!0},typeList:{type:String,default:"course_list"}},data:function(){return{pathName:this.$route.name}},computed:{imgSrc:function(){if("classroom_list"===this.typeList)return this.course.cover.middle;var t=this.course.courseSet;return t?t.cover.middle:this.order.cover.middle},title:function(){return"classroom_list"===this.typeList?this.course.title:this.course.courseSetTitle||(this.course.courseSet?this.course.courseSet.title:"")||this.order.title},teachPlan:function(){return!!this.course.title&&this.course.title}},watch:{course:{handler:function(t){var e=t.courseSet;if("miniprogramSetting"===this.pathName&&e)for(var r=i()(e.cover),s=0;s<r.length;s++)e.cover[r[s]]=e.cover[r[s]].replace(/^(\/\/)|(http:\/\/)/,"https://")},immediate:!0}},methods:{onClick:function(t){if(this.feedback){var e="order"===this.type,r=this.course.id||this.order.targetId;"SPAN"!==t.target.tagName?e?location.href=this.order.targetUrl:this.$router.push({path:"course_list"===this.typeList?"/course/"+r:"/classroom/"+r}):console.log(t.target.tagName)}}}},d={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"e-course"},[r("div",{staticClass:"clearfix",on:{click:t.onClick}},[r("div",{staticClass:"e-course__left pull-left"},[r("img",{class:["course_list"===t.typeList?"e-course__img":"e-class__img"],attrs:{src:t.imgSrc}})]),t._v(" "),r("div",{staticClass:"e-course__right pull-left"},["confirmOrder"===t.type?r("div",{staticClass:"e-course__title course-confirm-title"},[t._v(t._s(t.title))]):r("div",[r("div",{staticClass:"e-course__title text-overflow"},[t._v(t._s(t.title))]),t._v(" "),"classroom_list"===t.typeList?r("div",{staticClass:"e-course__count"},[t._v("\n          共 "+t._s(t.course.courseNum)+" 门课程\n        ")]):t._e(),t._v(" "),"course_list"===t.typeList?r("div",{staticClass:"e-course__project text-overflow"},[t.teachPlan?r("span",[t._v(t._s(t.teachPlan))]):t._e()]):t._e()]),t._v(" "),r("switchBox",{attrs:{type:t.type,course:t.course,order:t.order,studentNum:t.course.studentNum,publishedTaskNum:t.course.publishedTaskNum}})],1)])])},staticRenderFns:[]},h=r("VU/8")(u,d,!1,null,null,null);e.a=h.exports},rsAy:function(t,e,r){"use strict";var s={name:"more-mask",props:{maxHeight:{default:288},disabled:{default:!1},forceShow:{type:Boolean,default:!1},text:{type:Object,default:function(){return{content:"",lineHeight:17,paddingTop:100,align:"center"}}}},data:function(){return{realHeight:0,intervalTime:5e3,intervalId:void 0}},computed:{exccedHeight:function(){return this.realHeight>this.maxHeight||this.forceShow},heightStyle:function(){return{maxHeight:!this.exccedHeight||this.disabled||this.forceShow?"none":this.maxHeight+"px",paddingBottom:this.forceShow||this.exccedHeight&&!this.disabled?"25px":"0"}},textStyle:function(){return{paddingTop:this.text.paddingTop+"px",lineHeight:this.text.lineHeight+"px",textAlign:""+this.text.align}}},mounted:function(){var t=this;this.intervalId=setInterval(function(){t.intervalTime-=500,t.intervalTime<0?clearInterval(t.intervalId):t.realHeight=t.$el.getBoundingClientRect().height},500)},methods:{maskLoadMore:function(){this.$emit("maskLoadMore")}}},i={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"more-mask"},[r("div",{staticClass:"more-mask__body",style:t.heightStyle},[t._t("default")],2),t._v(" "),t.disabled?t._e():r("div",{directives:[{name:"show",rawName:"v-show",value:t.exccedHeight,expression:"exccedHeight"}],staticClass:"more-mask__footer",style:t.textStyle,on:{touchstart:function(e){return e.preventDefault(),t.maskLoadMore(e)}}},[t._v("\n    "+t._s(t.text.content||"点击查看更多")+"\n  ")])])},staticRenderFns:[]},n=r("VU/8")(s,i,!1,null,null,null);e.a=n.exports}});