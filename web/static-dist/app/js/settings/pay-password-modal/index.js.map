{"version":3,"sources":["webpack:///external \"jQuery\"","webpack:///./app/Resources/static-src/app/js/settings/pay-password-modal/index.js"],"names":["PayPasswordModal","props","element","$","currentDom","init","initEvent","validate","validator","ajax","rules","required","es_remote","maxlength","minlength","equalTo","submitError","data","submitSuccess","message","setTimeout","window","location","reload","on","form","submit"],"mappings":";;;;;AAAA,wB;;;;;;;;;;;;;;;;;;ACAA;;;;;;IAEMA,gB;AACJ,4BAAYC,KAAZ,EAAmB;AAAA;;AACjB,SAAKC,OAAL,GAAeC,EAAEF,MAAMC,OAAR,CAAf;AACA,SAAKE,UAAL,GAAkBH,MAAMG,UAAxB;AACA,SAAKC,IAAL;AACD;;;;2BACM;AACL,WAAKC,SAAL;AACA,WAAKC,QAAL;AACD;;;+BACU;AACT,UAAIH,aAAa,KAAKA,UAAtB;AACA,UAAII,YAAY,KAAKN,OAAL,CAAaK,QAAb,CAAsB;AACpCE,cAAM,IAD8B;AAEpCL,8BAFoC;AAGpCM,eAAO;AACL,4CAAkC;AAChCC,sBAAU,IADsB;AAEhCC,uBAAW;AAFqB,WAD7B;AAKL,kCAAwB;AACtBD,sBAAU,IADY;AAEtBE,uBAAW,EAFW;AAGtBC,uBAAW;AAHW,WALnB;AAUL,sCAA4B;AAC1BH,sBAAU,IADgB;AAE1BI,qBAAS;AAFiB;AAVvB,SAH6B;AAkBpCC,mBAlBoC,uBAkBxBC,IAlBwB,EAkBlB;AAChB,gCAAO,QAAP,EAAiB,sCAAjB;AACD,SApBmC;AAqBpCC,qBArBoC,yBAqBtBD,IArBsB,EAqBhB;AAClB,gCAAO,SAAP,EAAkBA,KAAKE,OAAvB;AACAC,qBAAW,YAAW;AACpBC,mBAAOC,QAAP,CAAgBC,MAAhB;AACD,WAFD,EAEG,IAFH;AAGD;AA1BmC,OAAtB,CAAhB;AA4BA,aAAOf,SAAP;AACD;;;gCACW;AAAA;;AACVL,QAAE,KAAKC,UAAP,EAAmBoB,EAAnB,CAAsB,OAAtB,EAA+B,YAAM;AACnC,YAAI,MAAKjB,QAAL,GAAgBkB,IAAhB,EAAJ,EAA4B;AAC1B,gBAAKvB,OAAL,CAAawB,MAAb;AACD;AACF,OAJD;AAKD;;;;;AAGH,IAAI1B,gBAAJ,CAAqB;AACnBE,WAAS,6BADU;AAEnBE,cAAY;AAFO,CAArB,E","file":"app/js/settings/pay-password-modal/index.js","sourcesContent":["module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 0\n// module chunks = app/js/main app/js/v2/demo/index app/js/activity-manage/doc/index app/js/activity-manage/download/index app/js/activity-manage/flash/index app/js/activity-manage/homework/index app/js/activity-manage/ppt/index app/js/activity-manage/video/index app/js/article/detail/index app/js/attachment/index app/js/auth/captcha-modal/index app/js/auth/password-reset/index app/js/auth/register/index app/js/batch-upload/index app/js/card/card-receive/index app/js/card/index/index app/js/cashier/index app/js/cashier/modal/index app/js/classroom-manage/set-picture/index app/js/classroom-manage/student-expiryday/index app/js/classroom-manage/student-import/index app/js/classroom-manage/students-create/index app/js/classroom-manage/students-manage/index app/js/classroom/buy-modal/index app/js/classroom/index app/js/classroom/thread-form/index app/js/classroom/thread-show/index app/js/coin/invite-code/index app/js/course-chapter-manage/index app/js/course-manage-file/index/index app/js/course-manage/batch-create/index app/js/course-manage/lesson-manage/default/index app/js/course-manage/lesson-manage/normal/index app/js/course-manage/live-replay/upload/index app/js/course-manage/overview/index app/js/course-manage/student-import/index app/js/course/buy-modal/index app/js/course/thread-show/index app/js/courseset/show/index app/js/exporter/index app/js/group/index app/js/group/logo/index app/js/group/thread-add/index app/js/live-course/explore/index app/js/material-lib/index/index app/js/material-lib/share-history/index app/js/media-manage/index app/js/activity-manage/audio/index app/js/mobile-bind/index app/js/my/order-refund-apply/index app/js/my/order-refund/index app/js/my/order/index app/js/oauth2/create/index app/js/open-course-manage/add-material/index app/js/open-course-manage/lesson-modal/index app/js/open-course/index app/js/open-course/member-sms/index app/js/order/coupon-item/index app/js/order/create-sms/index app/js/order/create/index app/js/pay/select/index app/js/pay/show-mobile-modal/index app/js/player/index app/js/question-manage/form/index app/js/review/list/index app/js/search/index app/js/settings/avatar-crop-modal/index app/js/settings/bind-mobile/index app/js/settings/email/index app/js/settings/find_pay_password_by_sms/index app/js/settings/find-pay-password/index app/js/settings/password/index app/js/settings/pay-password-modal/index app/js/settings/pay-password/index app/js/settings/profile/index app/js/settings/reset-pay-password/index app/js/settings/security-questions/index app/js/settings/security/index app/js/settings/setup-password/index app/js/settings/setup/index app/js/settings/update-pay-password/index app/js/settings/user-profile/index app/js/subject/index app/js/task-manage/create/index app/js/task/plugin/note/index app/js/task/plugin/question/index app/js/testpaper-manage/create/index app/js/testpaper-manage/index app/js/testpaper-manage/questions/index app/js/testpaper/do-test/exercise/index app/js/testpaper/do-test/normal/index app/js/testpaper/result/index app/js/thread/user-info-modal/index app/js/user/fill-info/index app/js/message/show/index","import notify from 'common/notify';\n\nclass PayPasswordModal {\n  constructor(props) {\n    this.element = $(props.element);\n    this.currentDom = props.currentDom;\n    this.init();\n  }\n  init() {\n    this.initEvent();\n    this.validate();\n  }\n  validate() {\n    let currentDom = this.currentDom;\n    let validator = this.element.validate({\n      ajax: true,\n      currentDom,\n      rules: {\n        'form[currentUserLoginPassword]': {\n          required: true,\n          es_remote: true\n        },\n        'form[newPayPassword]': {\n          required: true,\n          maxlength: 20,\n          minlength: 5,\n        },\n        'form[confirmPayPassword]': {\n          required: true,\n          equalTo: '#form_newPayPassword'\n        }\n      },\n      submitError(data) {\n        notify('danger', 'pay.security.password.save_fail_hint');\n      },\n      submitSuccess(data) {\n        notify('success', data.message);\n        setTimeout(function() {\n          window.location.reload();\n        }, 1000);\n      }\n    });\n    return validator;\n  }\n  initEvent() {\n    $(this.currentDom).on('click', () => {\n      if (this.validate().form()) {\n        this.element.submit();\n      }\n    });\n  }\n}\n\nnew PayPasswordModal({\n  element: '#settings-pay-password-form',\n  currentDom: '.js-submit-form'\n});\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/settings/pay-password-modal/index.js"],"sourceRoot":""}