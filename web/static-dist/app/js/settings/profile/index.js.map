{"version":3,"sources":["webpack:///external \"jQuery\"","webpack:///./app/Resources/static-src/app/js/settings/profile/index.js","webpack:///./app/Resources/static-src/app/common/input-edit.js"],"names":["editor","CKEDITOR","replace","toolbar","fileSingleSizeLimit","app","filebrowserImageUploadUrl","$","data","datetimepicker","autoclose","format","minView","language","document","documentElement","lang","validate","rules","required","chinese_alphanumeric","byte_minlength","byte_maxlength","nickname","es_remote","type","minlength","maxlength","digits","InputEdit","el","success","Translator","trans","message","fail","responseJSON","props","parent","$el","editBtn","saveBtn","cancelBtn","init","event","$parent","on","edit","save","cancel","$this","currentTarget","hide","find","show","focus","select","text","val","url","inputName","button","post","always","done","$input","console","log"],"mappings":"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","file":"app/js/settings/profile/index.js","sourcesContent":["module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 0\n// module chunks = app/js/main app/js/v2/demo/index app/js/activity-manage/doc/index app/js/activity-manage/download/index app/js/activity-manage/flash/index app/js/activity-manage/homework/index app/js/activity-manage/ppt/index app/js/activity-manage/video/index app/js/article/detail/index app/js/attachment/index app/js/auth/captcha-modal/index app/js/auth/password-reset/index app/js/auth/register/index app/js/batch-upload/index app/js/card/card-receive/index app/js/card/index/index app/js/cashier/index app/js/cashier/modal/index app/js/classroom-manage/set-picture/index app/js/classroom-manage/student-expiryday/index app/js/classroom-manage/student-import/index app/js/classroom-manage/students-create/index app/js/classroom-manage/students-manage/index app/js/classroom/buy-modal/index app/js/classroom/index app/js/classroom/thread-form/index app/js/classroom/thread-show/index app/js/coin/invite-code/index app/js/course-chapter-manage/index app/js/course-manage-file/index/index app/js/course-manage/batch-create/index app/js/course-manage/lesson-manage/default/index app/js/course-manage/lesson-manage/normal/index app/js/course-manage/live-replay/upload/index app/js/course-manage/overview/index app/js/course-manage/student-import/index app/js/course/buy-modal/index app/js/course/thread-show/index app/js/courseset/show/index app/js/exporter/index app/js/group/index app/js/group/logo/index app/js/group/thread-add/index app/js/live-course/explore/index app/js/material-lib/index/index app/js/material-lib/share-history/index app/js/media-manage/index app/js/activity-manage/audio/index app/js/mobile-bind/index app/js/my/order-refund-apply/index app/js/my/order-refund/index app/js/my/order/index app/js/oauth2/create/index app/js/open-course-manage/add-material/index app/js/open-course-manage/lesson-modal/index app/js/open-course/index app/js/open-course/member-sms/index app/js/order/coupon-item/index app/js/order/create-sms/index app/js/order/create/index app/js/pay/select/index app/js/pay/show-mobile-modal/index app/js/player/index app/js/question-manage/form/index app/js/review/list/index app/js/search/index app/js/settings/avatar-crop-modal/index app/js/settings/bind-mobile/index app/js/settings/email/index app/js/settings/find_pay_password_by_sms/index app/js/settings/find-pay-password/index app/js/settings/password/index app/js/settings/pay-password-modal/index app/js/settings/pay-password/index app/js/settings/profile/index app/js/settings/reset-pay-password/index app/js/settings/security-questions/index app/js/settings/security/index app/js/settings/setup-password/index app/js/settings/setup/index app/js/settings/update-pay-password/index app/js/settings/user-profile/index app/js/subject/index app/js/task-manage/create/index app/js/task/plugin/note/index app/js/task/plugin/question/index app/js/testpaper-manage/create/index app/js/testpaper-manage/index app/js/testpaper-manage/questions/index app/js/testpaper/do-test/exercise/index app/js/testpaper/do-test/normal/index app/js/testpaper/result/index app/js/thread/user-info-modal/index app/js/user/fill-info/index app/js/message/show/index","import notify from 'common/notify';\nimport InputEdit from 'app/common/input-edit';\n\nlet editor = CKEDITOR.replace('profile_about', {\n  toolbar: 'Simple',\n  fileSingleSizeLimit: app.fileSingleSizeLimit,\n  filebrowserImageUploadUrl: $('#profile_about').data('imageUploadUrl')\n});\n\n$('.js-date').datetimepicker({\n  autoclose: true,\n  format: 'yyyy-mm-dd',\n  minView: 'month',\n  language: document.documentElement.lang\n});\n\n$('#user-profile-form').validate({\n  rules: {\n    'nickname': {\n      required: true,\n      chinese_alphanumeric: true,\n      byte_minlength: 4,\n      byte_maxlength: 18,\n      nickname: true,\n      es_remote: {\n        type: 'get',\n      }\n    },\n    'profile[truename]': {\n      minlength: 2,\n      maxlength: 18\n    },\n    'profile[title]': {\n      maxlength: 24\n    },\n    'profile[qq]': 'qq',\n    'profile[weixin]': 'weixin',\n    'profile[weibo]': 'url',\n    'profile[blog]': 'url',\n    'profile[site]': 'url',\n    'profile[mobile]': 'mobile',\n    'profile[idcard]': 'idcardNumber',\n    'profile[intField1]': {digits: true, maxlength: 9},\n    'profile[intField2]': {digits: true, maxlength: 9},\n    'profile[intField3]': {digits: true, maxlength: 9},\n    'profile[intField4]': {digits: true, maxlength: 9},\n    'profile[intField5]': {digits: true, maxlength: 9},\n    'profile[floatField1]': 'float',\n    'profile[floatField2]': 'float',\n    'profile[floatField3]': 'float',\n    'profile[floatField4]': 'float',\n    'profile[floatField5]': 'float',\n    'profile[dateField1]': 'date',\n    'profile[dateField2]': 'date',\n    'profile[dateField3]': 'date',\n    'profile[dateField4]': 'date',\n    'profile[dateField5]': 'date',\n  }\n});\n\nnew InputEdit({\n  el: '#nickname-form-group',\n  success(data) {\n    notify('success', Translator.trans(data.message));\n  },\n  fail(data) {\n    if (data.responseJSON.message) {\n      notify('danger', Translator.trans(data.responseJSON.message));\n    } else {\n      notify('danger', Translator.trans('user.settings.basic_info.nickname_change_fail'));\n    }\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/settings/profile/index.js","class InputEdit {\n  constructor(props) {\n    this.el = props.el;\n    this.parent = props.parent || document;\n\n    this.$el = $(this.el);\n\n    this.editBtn = props.editBtn || '.input-edit__edit-btn';\n    this.saveBtn = props.saveBtn || '.input-edit__save-btn';\n    this.cancelBtn = props.cancelBtn || '.input-edit__cancel-btn';\n\n    this.success = props.success || this.success;\n    this.fail = props.fail || this.fail;\n\n    this.init();\n  }\n\n  init() {\n    this.event();\n  }\n\n  event() {\n    let $parent = $(this.parent);\n\n    $parent.on('click', this.editBtn, event => this.edit(event));\n\n    $parent.on('click', this.saveBtn, event => this.save(event));\n\n    $parent.on('click', this.cancelBtn, event => this.cancel(event));\n  }\n\n  edit(event) {\n    let $this = $(event.currentTarget);\n\n    $this.parent().hide();\n\n    this.$el.find('.input-edit__edit-dom').show()\n      .find('.input-edit__input').focus().select();\n  }\n\n  cancel(event) {\n    let $this = $(event.currentTarget);\n\n    this.$el.find('.input-edit__edit-dom').hide();\n\n    let text = this.$el.find('.input-edit__static-text').text();\n    this.$el.find('.input-edit__input').val(text);\n\n    this.$el.find('.input-edit__static-dom').show();\n  }\n\n  save(event) {\n    let $this = $(event.currentTarget);\n    let url = $this.data('url');\n    let inputName = $this.data('input-name');\n\n    let data = {};\n    data[inputName] = $(`input[name=${inputName}]`).val();\n\n    $this.button('loading');\n\n    $.post(url, data)\n      .always(() => {\n        $this.button('reset');\n      })\n      .done((data) => {\n        let $input = this.$el.find('.input-edit__input');\n\n        this.$el.find('.input-edit__static-text').text($input.val());\n\n        this.$el.find('.input-edit__edit-dom').hide();\n        \n        this.$el.find('.input-edit__static-dom').show();\n\n        this.success(data);\n      })\n      .fail((data) => {\n        this.fail(data);\n      });\n  }\n\n  success(data) {\n    console.log('success');\n  }\n  fail(data) {\n    console.log('fail');\n  }\n}\n\nexport default InputEdit;\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/common/input-edit.js"],"sourceRoot":""}