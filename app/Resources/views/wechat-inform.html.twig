{% if setting('wechat.wechat_notification_enabled')|default(false) %}
  {% do script(['app/js/wechat-inform/index.js']) %}
  {% set switchLanguage = setting('developer.show_switch_locale')|default(0) %}
  {% set weChatUser = data('WeChatUser', {userId: app.user.id|default(-1)}) %}

  <div class="js-wechat-inform {% if switchLanguage  == 1 %}js-switch-language{% endif %}" data-url="{{ path('settings_binds')}}">
    <div class="wechat-pendant js-wechat-pendant" data-toggle="tooltip" data-placement="bottom" data-container=".wechat-pendant" title="开启课程通知" {% if not weChatUser %}data-url="{{ path('login_wechat_qrcode') }}"{% endif %}>
      <div class="wechat-pendant__outer">
        <div class="wechat-pendant__inner">
          <i class="es-icon es-icon-qr-code"></i>
        </div>
      </div>
      <i class="cd-icon cd-icon-close wechat-pendant__close js-wechat-close-btn"></i>
    </div>

    <div class="wechat-inform-qrcode js-wechat-qrcode hidden">
      <div class="wechat-inform-qrcode__close js-wechat-close-btn"><i class="cd-icon cd-icon-close"></i></div>
      {% if weChatUser %}
        <div class="wechat-inform-qrcode__tip">扫码关注服务号，即可接收课程通知</div>
        <img class="wechat-inform-qrcode__img" src="{{ setting('wechat.account_code') }}">
      {% else %}
        <div class="wechat-inform-qrcode__tip text-left">扫码绑定微信并关注服务号，即可接收课程通知。</div>
        <img class="wechat-inform-qrcode__img" src="">
      {% endif %}
    </div>
    <div class="wechat-inform-qrcode-mask js-wechat-mask"></div>
  </div>
{% endif %}