{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/es-bar/es-bar.js","webpack:///./app/Resources/static-src/app/js/es-bar/index.js"],"names":["EsBar","prop","ele","$","init","initEvent","Browser","ie10","ie11","edge","css","find","length","tooltip","container","popover","placement","trigger","html","content","data","on","animate","right","removeClass","goTop","$node","onBarBhrink","event","onMenuTop","onBtnAction","e","$this","currentTarget","parents","end","isNotLogin","perfectScrollbar","wheelSpeed","remove","hasClass","siblings","addClass","clickBar","url","get","closest","$loginModal","modal","$gotop","window","scroll","scrollTop","click","esBar"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;;;;IAEMA,K;AACJ,iBAAYC,IAAZ,EAAkB;AAAA;;AAChB,SAAKC,GAAL,GAAWC,EAAEF,KAAKC,GAAP,CAAX;AACA,SAAKE,IAAL;AACD;;;;2BAEM;AAAA;;AACL,WAAKC,SAAL;;AAEA,UAAIC,eAAQC,IAAR,IAAgBD,eAAQE,IAAxB,IAAgCF,eAAQG,IAA5C,EAAkD;AAChD,aAAKP,GAAL,CAASQ,GAAT,CAAc,cAAd,EAA6B,MAA7B;AACD;;AAED,UAAK,KAAKR,GAAL,CAASS,IAAT,CAAc,yBAAd,EAAyCC,MAAzC,GAAkD,CAAvD,EAA0D;AACxD,aAAKV,GAAL,CAASS,IAAT,CAAc,yBAAd,EAAyCE,OAAzC,CAAiD,EAACC,WAAW,SAAZ,EAAjD;AACD;;AAED,WAAKZ,GAAL,CAASS,IAAT,CAAc,8BAAd,EAA8CI,OAA9C,CAAsD;AACpDC,mBAAW,MADyC;AAEpDC,iBAAS,OAF2C;AAGpDC,cAAM,IAH8C;AAIpDC,iBAAS,mBAAW;AAClB,iBAAOhB,EAAEA,EAAE,IAAF,EAAQiB,IAAR,CAAa,gBAAb,CAAF,EAAkCF,IAAlC,EAAP;AACD;AANmD,OAAtD;;AASAf,QAAE,MAAF,EAAUkB,EAAV,CAAa,OAAb,EAAsB,UAAtB,EAAkC,YAAM;AACtC,YAAIlB,EAAE,qBAAF,EAAyBS,MAA7B,EAAqC;AACnC,gBAAKV,GAAL,CAASoB,OAAT,CAAiB;AACfC,mBAAO;AADQ,WAAjB,EAEE,GAFF,EAEOZ,IAFP,CAEY,yBAFZ,EAEuCa,WAFvC,CAEmD,QAFnD;AAGD;AACF,OAND;;AAQA,WAAKC,KAAL;AACD;;;gCAEW;AAAA;;AACV,UAAMC,QAAQ,KAAKxB,GAAnB;AACAwB,YAAML,EAAN,CAAS,OAAT,EAAkB,gBAAlB,EAAoC;AAAA,eAAS,OAAKM,WAAL,CAAiBC,KAAjB,CAAT;AAAA,OAApC;AACAF,YAAML,EAAN,CAAS,OAAT,EAAkB,kBAAlB,EAAsC;AAAA,eAAS,OAAKQ,SAAL,CAAeD,KAAf,CAAT;AAAA,OAAtC;AACAF,YAAML,EAAN,CAAS,OAAT,EAAkB,gBAAlB,EAAoC;AAAA,eAAS,OAAKS,WAAL,CAAiBF,KAAjB,CAAT;AAAA,OAApC;AACD;;;gCAEWG,C,EAAG;AACb,UAAMC,QAAQ7B,EAAE4B,EAAEE,aAAJ,CAAd;AACAD,YAAME,OAAN,CAAc,qBAAd,EAAqCV,WAArC,CAAiD,QAAjD,EAA2DW,GAA3D,GAAiED,OAAjE,CAAyE,SAAzE,EAAoFZ,OAApF,CAA4F;AAC1FC,eAAO;AADmF,OAA5F,EAEE,GAFF;AAGApB,QAAE,yBAAF,EAA6BqB,WAA7B,CAAyC,QAAzC;AACD;;;8BAESO,C,EAAG;AACX,UAAMC,QAAQ7B,EAAE4B,EAAEE,aAAJ,CAAd;;AAEA;AACA,UAAG,CAAC,qBAAJ,EAAc;AACZ,aAAKG,UAAL;AACA;AACD;;AAED,WAAKlC,GAAL,CAASS,IAAT,CAAc,gBAAd,EAAgC0B,gBAAhC,CAAiD,EAACC,YAAW,EAAZ,EAAjD;;AAEA,UAAGN,MAAMrB,IAAN,CAAW,MAAX,CAAH,EAAuB;AACrBqB,cAAMrB,IAAN,CAAW,MAAX,EAAmB4B,MAAnB;AACD;;AAED,UAAG,CAACP,MAAMQ,QAAN,CAAe,QAAf,CAAJ,EAA8B;AAC5BR,cAAMS,QAAN,CAAe,SAAf,EAA0BjB,WAA1B,CAAsC,QAAtC,EAAgDW,GAAhD,GAAsDO,QAAtD,CAA+D,QAA/D,EAAyER,OAAzE,CAAiF,SAAjF,EAA4FZ,OAA5F,CAAoG;AAClGC,iBAAO;AAD2F,SAApG,EAEE,GAFF;AAGA,aAAKoB,QAAL,CAAcX,KAAd;AACA7B,UAAE6B,MAAMZ,IAAN,CAAW,IAAX,CAAF,EAAoBqB,QAApB,CAA6B,qBAA7B,EAAoDjB,WAApD,CAAgE,QAAhE,EAA0EW,GAA1E,GAAgFO,QAAhF,CAAyF,QAAzF;AACD,OAND,MAMM;AACJV,cAAMR,WAAN,CAAkB,QAAlB,EAA4BU,OAA5B,CAAoC,SAApC,EAA+CZ,OAA/C,CAAuD;AACrDC,iBAAO;AAD8C,SAAvD,EAEE,GAFF;AAGD;AACF;;;gCAEWQ,C,EAAG;AACb,UAAMC,QAAQ7B,EAAE4B,EAAEE,aAAJ,CAAd;AACA,UAAMW,MAAMZ,MAAMZ,IAAN,CAAW,KAAX,CAAZ;;AAEAjB,QAAE0C,GAAF,CAAMD,GAAN,EAAU,UAAS1B,IAAT,EAAc;AACtBc,cAAMc,OAAN,CAAc,cAAd,EAA8B5B,IAA9B,CAAmCA,IAAnC;AACAf,UAAE,wBAAF,EAA4BkC,gBAA5B,CAA6C,EAACC,YAAW,EAAZ,EAA7C;AACD,OAHD;AAID;;;6BAEQN,K,EAAO;AACd,UAAG,OAAOA,MAAMrB,IAAN,CAAW,GAAX,EAAgBS,IAAhB,CAAqB,KAArB,CAAP,IAAuC,WAA1C,EAAwD;AACtD,YAAMwB,MAAMZ,MAAMrB,IAAN,CAAW,GAAX,EAAgBS,IAAhB,CAAqB,KAArB,CAAZ;;AAEAjB,UAAE0C,GAAF,CAAMD,GAAN,EAAU,UAAS1B,IAAT,EAAc;AACtBf,YAAE6B,MAAMZ,IAAN,CAAW,IAAX,CAAF,EAAoBF,IAApB,CAAyBA,IAAzB;AACAf,YAAE,wBAAF,EAA4BkC,gBAA5B,CAA6C,EAACC,YAAW,EAAZ,EAA7C;AACD,SAHD;AAID;AACF;;;iCAEY;AACX,UAAMS,cAAc5C,EAAE,cAAF,CAApB;;AAEA4C,kBAAYC,KAAZ,CAAkB,MAAlB;AACA7C,QAAE0C,GAAF,CAAME,YAAY3B,IAAZ,CAAiB,KAAjB,CAAN,EAA+B,UAASF,IAAT,EAAc;AAC3C6B,oBAAY7B,IAAZ,CAAiBA,IAAjB;AACD,OAFD;AAGD;;;4BAEO;AACN,UAAM+B,SAAS9C,EAAE,SAAF,CAAf;;AAEAA,QAAE+C,MAAF,EAAUC,MAAV,CAAiB,UAASvB,KAAT,EAAgB;AAC/B,YAAMwB,YAAYjD,EAAE+C,MAAF,EAAUE,SAAV,EAAlB;;AAEA,YAAGA,aAAW,GAAd,EAAmB;AACjBH,iBAAOP,QAAP,CAAgB,MAAhB;AAED,SAHD,MAGM,IAAGO,OAAOT,QAAP,CAAgB,MAAhB,CAAH,EAA4B;AAChCS,iBAAOzB,WAAP,CAAmB,MAAnB;AACD;AACF,OATD;AAUAyB,aAAOI,KAAP,CAAa,YAAW;AACtB,eAAOlD,EAAE,WAAF,EAAemB,OAAf,CAAuB;AAC5B8B,qBAAW;AADiB,SAAvB,EAEJ,GAFI,GAEE,CAAC,CAFV;AAGD,OAJD;AAKD;;;;;kBAGYpD,K;;;;;;;;;;ACrIf;;;;;;AAEA,IAAIsD,QAAQ,IAAItD,eAAJ,CAAU;AACpBE,OAAK;AADe,CAAV,CAAZ,C","file":"app/js/es-bar/index.js","sourcesContent":["import { Browser, isLogin } from 'common/utils';\n\nclass EsBar {\n  constructor(prop) {\n    this.ele = $(prop.ele);\n    this.init();\n  }\n\n  init() {\n    this.initEvent();\n\n    if (Browser.ie10 || Browser.ie11 || Browser.edge) {\n      this.ele.css( 'margin-right','16px');\n    }\n\n    if ( this.ele.find('[data-toggle=\"tooltip\"]').length > 0) {\n      this.ele.find('[data-toggle=\"tooltip\"]').tooltip({container: '.es-bar'});\n    }\n\n    this.ele.find('.bar-menu-sns li.popover-btn').popover({\n      placement: 'left',\n      trigger: 'hover',\n      html: true,\n      content: function() {\n        return $($(this).data('contentElement')).html();\n      }\n    });\n\n    $('body').on('click', '.es-wrap', () => {\n      if ($('.es-bar-main.active').length) {\n        this.ele.animate({\n          right: '-230px'\n        },300).find('.bar-menu-top li.active').removeClass('active');\n      }\n    });\n\n    this.goTop();\n  }\n\n  initEvent() {\n    const $node = this.ele;\n    $node.on('click', '.js-bar-shrink', event => this.onBarBhrink(event));\n    $node.on('click', '.bar-menu-top li', event => this.onMenuTop(event));\n    $node.on('click', '.btn-action >a', event => this.onBtnAction(event));\n  }\n\n  onBarBhrink(e) {\n    const $this = $(e.currentTarget);\n    $this.parents('.es-bar-main.active').removeClass('active').end().parents('.es-bar').animate({\n      right: '-230px'\n    },300);\n    $('.bar-menu-top li.active').removeClass('active');\n  }\n\n  onMenuTop(e) {\n    const $this = $(e.currentTarget);\n\n    // 判断是否登录\n    if(!isLogin()){\n      this.isNotLogin();\n      return;\n    }\n\n    this.ele.find('.bar-main-body').perfectScrollbar({wheelSpeed:50});\n\n    if($this.find('.dot')) {\n      $this.find('.dot').remove();  \n    }\n\n    if(!$this.hasClass('active')) {\n      $this.siblings('.active').removeClass('active').end().addClass('active').parents('.es-bar').animate({\n        right: '0'\n      },300);\n      this.clickBar($this);\n      $($this.data('id')).siblings('.es-bar-main.active').removeClass('active').end().addClass('active');\n    }else {\n      $this.removeClass('active').parents('.es-bar').animate({\n        right: '-230px'\n      },300);\n    }\n  }\n\n  onBtnAction(e) {\n    const $this = $(e.currentTarget);\n    const url = $this.data('url');\n\n    $.get(url,function(html){\n      $this.closest('.es-bar-main').html(html);\n      $('.es-bar .bar-main-body').perfectScrollbar({wheelSpeed:50});\n    });\n  }\n\n  clickBar($this) {\n    if(typeof($this.find('a').data('url')) != 'undefined' ) {\n      const url = $this.find('a').data('url');\n\n      $.get(url,function(html){\n        $($this.data('id')).html(html);\n        $('.es-bar .bar-main-body').perfectScrollbar({wheelSpeed:50});\n      });\n    }\n  }\n\n  isNotLogin() {\n    const $loginModal = $('#login-modal');\n\n    $loginModal.modal('show');\n    $.get($loginModal.data('url'), function(html){\n      $loginModal.html(html);\n    });\n  }\n\n  goTop() {\n    const $gotop = $('.go-top');\n\n    $(window).scroll(function(event) {\n      const scrollTop = $(window).scrollTop();\n\n      if(scrollTop>=300) {\n        $gotop.addClass('show');\n\n      }else if($gotop.hasClass('show')) {\n        $gotop.removeClass('show');\n      }\n    });\n    $gotop.click(function() {\n      return $('body,html').animate({\n        scrollTop: 0\n      }, 300), !1;\n    });\n  }\n}\n\nexport default EsBar;\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/es-bar/es-bar.js","import EsBar from './es-bar';\n\nlet esBar = new EsBar({\n  ele: '.es-bar'\n});\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/es-bar/index.js"],"sourceRoot":""}