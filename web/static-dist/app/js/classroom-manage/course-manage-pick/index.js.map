{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/classroom-manage/course-manage-pick/index.js"],"names":["ids","$","tooltip","on","button","addClass","ajax","type","url","data","async","success","modal","window","location","reload","val","post","serialize","html","recheckSelectedCourse","keydown","event","id","sid","attr","split","i","length","idArr","price","find","$course","parent","hasClass","removeClass","grep","key","push"],"mappings":";;;;;;;;AAAA,IAAIA,MAAM,EAAV;;AAEAC,EAAE,yBAAF,EAA6BC,OAA7B;;AAEAD,EAAE,OAAF,EAAWE,EAAX,CAAc,OAAd,EAAuB,YAAY;AACjCF,IAAE,OAAF,EAAWG,MAAX,CAAkB,WAAlB,EAA+BC,QAA/B,CAAwC,UAAxC;;AAEAJ,IAAEK,IAAF,CAAO;AACLC,UAAM,MADD;AAELC,SAAKP,EAAE,OAAF,EAAWQ,IAAX,CAAgB,KAAhB,CAFA;AAGLA,UAAM,SAAST,GAHV;AAILU,WAAO,KAJF;AAKLC,aAAS,iBAAUF,IAAV,EAAgB;;AAEvBR,QAAE,QAAF,EAAYW,KAAZ,CAAkB,MAAlB;AACAC,aAAOC,QAAP,CAAgBC,MAAhB;AACD;;AATI,GAAP;AAaD,CAhBD;;AAkBAd,EAAE,SAAF,EAAaE,EAAb,CAAgB,OAAhB,EAAyB,YAAY;;AAEnC,MAAIF,EAAE,YAAF,EAAgBe,GAAhB,MAAyB,EAA7B,EAAiC;;AAE/Bf,MAAEgB,IAAF,CAAOhB,EAAE,IAAF,EAAQQ,IAAR,CAAa,KAAb,CAAP,EAA4BR,EAAE,cAAF,EAAkBiB,SAAlB,EAA5B,EAA2D,UAAUT,IAAV,EAAgB;;AAEzER,QAAE,eAAF,EAAmBkB,IAAnB,CAAwBV,IAAxB;AACAW;AACD,KAJD;AAKD;AAEF,CAXD;;AAaAnB,EAAE,eAAF,EAAmBE,EAAnB,CAAsB,OAAtB,EAA+B,gBAA/B,EAAiD,YAAY;AAC3D,MAAIK,MAAMP,EAAE,IAAF,EAAQQ,IAAR,CAAa,KAAb,CAAV;AACA,MAAI,OAAQD,GAAR,KAAiB,WAArB,EAAkC;AAChCP,MAAEgB,IAAF,CAAOT,GAAP,EAAYP,EAAE,cAAF,EAAkBiB,SAAlB,EAAZ,EAA2C,UAAUT,IAAV,EAAgB;AACzDR,QAAE,eAAF,EAAmBkB,IAAnB,CAAwBV,IAAxB;;AAEAW;AACD,KAJD;AAKD;AACF,CATD;;AAWAnB,EAAE,cAAF,EAAkBoB,OAAlB,CAA0B,UAAUC,KAAV,EAAiB;;AAEzC;;AAEA;;AAEA;;AAEA;AACA;AACA;AACD,CAXD;;AAaArB,EAAE,cAAF,EAAkBE,EAAlB,CAAqB,OAArB,EAA8B,YAAY;;AAExCF,IAAEgB,IAAF,CAAOhB,EAAE,IAAF,EAAQQ,IAAR,CAAa,KAAb,CAAP,EAA4BR,EAAE,cAAF,EAAkBiB,SAAlB,EAA5B,EAA2D,UAAUT,IAAV,EAAgB;AACzER,MAAE,kBAAF,EAAsBe,GAAtB,CAA0B,EAA1B;AACAf,MAAE,eAAF,EAAmBkB,IAAnB,CAAwBV,IAAxB;;AAEAW;AACD,GALD;AAOD,CATD;;AAWAnB,EAAE,eAAF,EAAmBE,EAAnB,CAAsB,QAAtB,EAAgC,mBAAhC,EAAqD,YAAY;AAC/D,MAAIoB,KAAKtB,EAAE,IAAF,EAAQe,GAAR,EAAT;AACA,MAAIQ,MAAMvB,EAAE,IAAF,EAAQwB,IAAR,CAAa,IAAb,EAAmBC,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAV;AACA,OAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI3B,IAAI4B,MAAxB,EAAgCD,GAAhC,EAAqC;AACnC,QAAIE,QAAQ7B,IAAI2B,CAAJ,EAAOD,KAAP,CAAa,GAAb,CAAZ;AACA,QAAIG,MAAM,CAAN,KAAYL,GAAhB,EAAqB;AACnBxB,UAAI2B,CAAJ,IAASH,MAAM,GAAN,GAAYD,EAArB;AACA;AACD;AACF;;AAED,MAAIO,QAAQ7B,EAAE,IAAF,EAAQ8B,IAAR,CAAa,WAAb,EAA0BtB,IAA1B,CAA+B,OAA/B,CAAZ;AACAR,IAAE,eAAeuB,GAAjB,EAAsBL,IAAtB,CAA2BW,KAA3B;AACD,CAbD;;AAeA7B,EAAE,eAAF,EAAmBE,EAAnB,CAAsB,OAAtB,EAA+B,kBAA/B,EAAmD,YAAY;;AAE7D,MAAI6B,UAAU/B,EAAE,IAAF,EAAQgC,MAAR,EAAd;AACA,MAAIT,MAAMQ,QAAQvB,IAAR,CAAa,IAAb,CAAV,CAH6D,CAGhC;;AAE7B,MAAIuB,QAAQE,QAAR,CAAiB,SAAjB,CAAJ,EAAiC;AAC/B;AACD;AACD,MAAIX,KAAKtB,EAAE,oBAAoBuB,GAAtB,EAA2BR,GAA3B,EAAT;AACA,MAAIgB,QAAQE,QAAR,CAAiB,QAAjB,CAAJ,EAAgC;AAC9BF,YAAQG,WAAR,CAAoB,QAApB;AACA;;AAEAnC,UAAMC,EAAEmC,IAAF,CAAOpC,GAAP,EAAY,UAAUgB,GAAV,EAAeqB,GAAf,EAAoB;;AAEpC,UAAIrB,OAAOQ,MAAM,GAAN,GAAYD,EAAvB,EACE,OAAO,IAAP;AACH,KAJK,EAIH,KAJG,CAAN;AAKD,GATD,MASO;AACLS,YAAQ3B,QAAR,CAAiB,QAAjB;;AAEA;;AAEAL,QAAIsC,IAAJ,CAASd,MAAM,GAAN,GAAYD,EAArB;AACD;AACF,CAzBD;;AA2BA,SAASH,qBAAT,GAAiC;AAC/B,OAAK,IAAIO,IAAI,CAAb,EAAgBA,IAAI3B,IAAI4B,MAAxB,EAAgCD,GAAhC,EAAqC;AACnC,QAAIE,QAAQ7B,IAAI2B,CAAJ,EAAOD,KAAP,CAAa,GAAb,CAAZ;AACA,QAAIF,MAAMK,MAAM,CAAN,CAAV;AACA,QAAIN,KAAKM,MAAM,CAAN,CAAT;AACA5B,MAAE,kBAAkBuB,GAAlB,GAAwB,GAA1B,EAA+BC,IAA/B,CAAoC,SAApC,EAA+C,SAA/C;AACAxB,MAAE,cAAcuB,GAAd,GAAoB,GAAtB,EAA2BnB,QAA3B,CAAoC,QAApC;AACAJ,MAAE,oBAAoBuB,GAAtB,EAA2BR,GAA3B,CAA+BO,EAA/B;AACD;AACF,C","file":"app/js/classroom-manage/course-manage-pick/index.js","sourcesContent":["var ids = [];\n\n$('[data-toggle=\"tooltip\"]').tooltip();\n\n$('#sure').on('click', function () {\n  $('#sure').button('submiting').addClass('disabled');\n\n  $.ajax({\n    type: 'post',\n    url: $('#sure').data('url'),\n    data: 'ids=' + ids,\n    async: false,\n    success: function (data) {\n\n      $('.modal').modal('hide');\n      window.location.reload();\n    }\n\n  });\n\n});\n\n$('#search').on('click', function () {\n\n  if ($('[name=key]').val() != '') {\n\n    $.post($(this).data('url'), $('.form-search').serialize(), function (data) {\n\n      $('.courses-list').html(data);\n      recheckSelectedCourse();\n    });\n  }\n\n});\n\n$('.courses-list').on('click', '.pagination li', function () {\n  var url = $(this).data('url');\n  if (typeof (url) !== 'undefined') {\n    $.post(url, $('.form-search').serialize(), function (data) {\n      $('.courses-list').html(data);\n\n      recheckSelectedCourse();\n    });\n  }\n});\n\n$('#enterSearch').keydown(function (event) {\n\n  // if (event.keyCode == 13) {\n\n  //   $.post($(this).data('url'), $('.form-search').serialize(), function (data) {\n\n  //     $('.courses-list').html(data);\n\n  //   });\n  //   return false;\n  // }\n});\n\n$('#all-courses').on('click', function () {\n\n  $.post($(this).data('url'), $('.form-search').serialize(), function (data) {\n    $('.js-enter-search').val('');\n    $('.courses-list').html(data);\n\n    recheckSelectedCourse();\n  });\n\n});\n\n$('.courses-list').on('change', '.js-course-select', function () {\n  var id = $(this).val();\n  var sid = $(this).attr('id').split('-')[2];\n  for (var i = 0; i < ids.length; i++) {\n    var idArr = ids[i].split(':');\n    if (idArr[0] == sid) {\n      ids[i] = sid + ':' + id;\n      break;\n    }\n  }\n\n  var price = $(this).find(':selected').data('price');\n  $('.js-price-' + sid).html(price);\n});\n\n$('.courses-list').on('click', '.course-item-cbx', function () {\n\n  var $course = $(this).parent();\n  var sid = $course.data('id');//courseSet.id\n\n  if ($course.hasClass('enabled')) {\n    return;\n  }\n  var id = $('#course-select-' + sid).val();\n  if ($course.hasClass('select')) {\n    $course.removeClass('select');\n    // $('.course-metas-'+sid).hide();\n\n    ids = $.grep(ids, function (val, key) {\n\n      if (val != sid + ':' + id)\n        return true;\n    }, false);\n  } else {\n    $course.addClass('select');\n\n    // $('.course-metas-'+sid).show();\n\n    ids.push(sid + ':' + id);\n  }\n});\n\nfunction recheckSelectedCourse() {\n  for (var i = 0; i < ids.length; i++) {\n    var idArr = ids[i].split(':');\n    var sid = idArr[0];\n    var id = idArr[1];\n    $('[name=course-' + sid + ']').attr('checked', 'checked');\n    $('[data-id=' + sid + ']').addClass('select');\n    $('#course-select-' + sid).val(id);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/classroom-manage/course-manage-pick/index.js"],"sourceRoot":""}