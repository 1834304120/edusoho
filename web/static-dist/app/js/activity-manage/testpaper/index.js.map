{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/activity-manage/testpaper/index.js","webpack:///./app/Resources/static-src/app/js/activity-manage/testpaper/testpaper.js"],"names":["Testpaper","$","$element","$step2_form","find","$step3_form","$parentiframe","window","parent","document","scoreSlider","_init","setValidateRule","initEvent","initStepForm2","on","changeTestpaper","event","showRedoInterval","startTimeCheck","changeEndTime","changeCondition","initSelectTestpaper","val","validator","addMethod","value","element","optional","test","format","Translator","trans","validate","onkeyup","rules","title","required","trim","maxlength","course_title","mediaId","digits","length","startTime","DateAndTime","redoInterval","arithmeticFloat","max","messages","data","$option","passScore","getItemsTable","closest","score","Math","ceil","text","initScoreSlider","parseInt","hide","$target","currentTarget","$this","show","dateTimePicker","removeClass","addClass","getElementById","option","start","connect","tooltips","step","range","updateOptions","noUiSlider","create","values","handle","toFixed","css","tooltipInnerText","html","append","url","testpaperId","post","Date","$starttime","is","Format","datetimepicker","autoclose","language","documentElement","lang","minView","endDate","now","height","form","date","valueOf"],"mappings":"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","file":"app/js/activity-manage/testpaper/index.js","sourcesContent":["import Testpaper from './testpaper';\n\nnew Testpaper($('#iframe-content'));\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/activity-manage/testpaper/index.js","import { dateFormat } from '../../../common/unit';\n\nexport default class Testpaper {\n  constructor($element) {\n    this.$element = $element;\n    this.$step2_form  = this.$element.find('#step2-form');\n    this.$step3_form  = this.$element.find('#step3-form');\n    this.$parentiframe = $(window.parent.document).find('#task-create-content-iframe');\n    this.scoreSlider = null;\n    this._init();\n  }\n\n  _init() {\n    dateFormat();\n    this.setValidateRule();\n    this.initEvent();\n    this.initStepForm2();\n  }\n\n  initEvent() {\n    this.$element.find('#testpaper-media').on('change', event=>this.changeTestpaper(event));\n    this.$element.find('input[name=doTimes]').on('change', event=>this.showRedoInterval(event));\n    this.$element.find('input[name=\"testMode\"]').on('change',event=>this.startTimeCheck(event));\n    this.$element.find('input[name=\"length\"]').on('blur',event=>this.changeEndTime(event));\n    this.$element.find('#condition-select').on('change',event=>this.changeCondition(event));\n    this.initSelectTestpaper(this.$element.find('#testpaper-media').find('option:selected'),$('[name=\"finishScore\"]').val());\n  }\n\n  setValidateRule() {\n    $.validator.addMethod('arithmeticFloat',function(value,element){  \n      return this.optional( element ) || /^[0-9]+(\\.[0-9]?)?$/.test(value);\n    }, $.validator.format(Translator.trans('activity.testpaper_manage.arithmetic_float_error_hint')));\n\n    $.validator.addMethod('positiveInteger',function(value,element){  \n      return this.optional( element ) || /^[1-9]\\d*$/.test(value);\n    }, $.validator.format(Translator.trans('activity.testpaper_manage.positive_integer_error_hint')));\n\n    \n  }\n\n  initStepForm2() {\n    var validator = this.$step2_form.validate({\n      onkeyup: false,\n      rules: {\n        title: {\n          required:true,\n          trim: true,\n          maxlength: 50,\n          course_title: true,\n        },\n        mediaId: {\n          required: true,\n          digits:true\n        },\n        length:{\n          required:true,\n          digits:true\n        },\n        startTime:{\n          required:function(){\n            return ($('[name=\"doTimes\"]:checked').val() == 1) && ($('[name=\"testMode\"]:checked').val() == 'realTime');\n          },\n          DateAndTime:function(){\n            return ($('[name=\"doTimes\"]:checked').val() == 1) && ($('[name=\"testMode\"]:checked').val() == 'realTime');\n          }\n        },\n        redoInterval:{\n          required:function(){\n            return $('[name=\"doTimes\"]:checked').val() == 0;\n          },\n          arithmeticFloat:true,\n          max:1000000000\n        }\n      },\n      messages: {\n        mediaId: {\n          required:Translator.trans('activity.testpaper_manage.media_error_hint'),\n        },\n        redoInterval: {\n          max: Translator.trans('activity.testpaper_manage.max_error_hint')\n        },\n      }\n    });\n    this.$step2_form.data('validator',validator);\n  }\n\n  initSelectTestpaper($option, passScore='') {\n    let mediaId = $option.val();\n    if (mediaId != '') {\n      this.getItemsTable($option.closest('select').data('getTestpaperItems'), mediaId);\n      let score = $option.data('score');\n      if (passScore == '') {\n        passScore = Math.ceil(score * 0.6);\n      }\n      $('#score-single-input').val(passScore);\n      $('.js-score-total').text(score);\n      if(!$('input[name=\"title\"]').val()) {\n        $('input[name=\"title\"]').val($option.text());\n      }\n      this.initScoreSlider(parseInt(passScore),parseInt(score));\n    } else {\n      $('#questionItemShowDiv').hide();\n    }\n  }\n\n  changeTestpaper(event) {\n    let $target = $(event.currentTarget);\n    let $option = $target.find('option:selected');\n    this.initSelectTestpaper($option);\n  }\n\n  showRedoInterval(event) {\n    let $this = $(event.currentTarget);\n    if ($this.val() == 1) {\n      $('#lesson-redo-interval-field').closest('.form-group').hide();\n      $('.starttime-check-div').show();\n      this.dateTimePicker();\n    } else {\n      $('#lesson-redo-interval-field').closest('.form-group').show();\n      $('.starttime-check-div').hide();\n    }\n  }\n\n  startTimeCheck(event) {\n    var $this = $(event.currentTarget);\n\n    if ($this.val() == 'realTime') {\n      $('.starttime-input').removeClass('hidden');\n      this.dateTimePicker();\n    } else {\n      $('.starttime-input').addClass('hidden');\n      //$('input[name=\"startTime\"]').val('0');\n    }\n  }\n\n  changeEndTime(event) {\n    let startTime = $('input[name=\"startTime\"]:visible').val();\n    // if (startTime) {\n    //   this.showEndTime(Date.parse(startTime));\n    // }\n  }\n\n  changeCondition(event) {\n    let $this = $(event.currentTarget);\n    let value = $this.find('option:selected').val();\n    value!='score' ? $('.js-score-form-group').addClass('hidden') : $('.js-score-form-group').removeClass('hidden');\n  }\n\n  initScoreSlider(passScore,score) {\n    let scoreSlider = document.getElementById('score-slider');\n    let option = {\n      start: passScore,\n      connect: [true, false],\n      tooltips: [true],\n      step: 1,\n      range: {\n        'min': 0,\n        'max': score\n      }\n    };\n    if(this.scoreSlider) {\n      this.scoreSlider.updateOptions(option);\n    }else {\n      this.scoreSlider = noUiSlider.create(scoreSlider,option);\n      scoreSlider.noUiSlider.on('update', function( values, handle ){\n        $('.noUi-tooltip').text(`${(values[handle]/score*100).toFixed(0)}%`);\n        $('.js-score-tooltip').css('left',`${(values[handle]/score*100).toFixed(0)}%`);\n        $('.js-passScore').text(parseInt(values[handle]));\n        $('input[name=\"finishScore\"]').val(parseInt(values[handle]));\n      });\n    }\n    \n    let tooltipInnerText = Translator.trans('activity.testpaper_manage.pass_score_hint', {'passScore': '<span class=\"js-passScore\">'+passScore+'</span>'});\n    let html = `<div class=\"score-tooltip js-score-tooltip\"><div class=\"tooltip top\" role=\"tooltip\" style=\"\">\n      <div class=\"tooltip-arrow\"></div>\n      <div class=\"tooltip-inner \">\n        ${tooltipInnerText}\n      </div>\n      </div></div>`;\n    $('.noUi-handle').append(html);\n    $('.noUi-tooltip').text(`${(passScore/score*100).toFixed(0)}%`);\n    $('.js-score-tooltip').css('left',`${(passScore/score*100).toFixed(0)}%`);\n  }\n\n  getItemsTable(url, testpaperId) {\n    $.post(url, {testpaperId:testpaperId},function(html){\n      $('#questionItemShowTable').html(html);\n      $('#questionItemShowDiv').show();\n    });\n  }\n\n  dateTimePicker() {\n    let data = new Date();\n    let $starttime = $('input[name=\"startTime\"]');\n\n    if ($starttime.is(':visible') && ($starttime.val() == '' || $starttime.val() == '0')) {\n      $starttime.val(data.Format('yyyy-MM-dd hh:mm'));\n    }\n   \n    $starttime.datetimepicker({\n      autoclose: true,\n      format: 'yyyy-mm-dd hh:ii',\n      language: document.documentElement.lang,\n      minView: 'hour',\n      endDate: new Date(Date.now() + 86400 * 365 * 10 *1000)\n    })\n      .on('show', event => {\n        this.$parentiframe.height($('body').height() + 240);\n      })\n      .on('hide', event => {\n        this.$step2_form.data('validator').form();\n        this.$parentiframe.height($('body').height());\n      })\n      .on('changeDate',event =>{\n        let date = event.date.valueOf();\n        // this.showEndTime(date);\n      });\n    $starttime.datetimepicker('setStartDate',data);\n    // this.showEndTime(Date.parse($starttime.val()));\n  }\n\n  // showEndTime(date) {\n  //   let limitedTime = $('input[name=\"limitedTime\"]').val();\n  //   if (limitedTime != 0) {\n  //     let endTime = new Date(date + limitedTime * 60 * 1000);\n  //     let endDate = endTime.Format(\"yyyy-MM-dd hh:mm\");\n  //     $('#starttime-show').html(endDate);\n  //     $('.endtime-input').removeClass('hidden');\n  //     $('input[name=\"endTime\"]').val(endDate);\n  //   }else {\n  //     $('.endtime-input').addClass('hidden');\n  //   }\n  // }\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/activity-manage/testpaper/testpaper.js"],"sourceRoot":""}