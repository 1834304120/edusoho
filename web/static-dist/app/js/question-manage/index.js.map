{"version":3,"sources":["webpack:///./app/Resources/static-src/app/common/widget/short-long-text.js","webpack:///./app/Resources/static-src/app/js/question-manage/index.js","webpack:///./app/Resources/static-src/app/common/widget/delete-action.js"],"names":["shortLongText","$element","on","$short","$","slideUp","parents","find","slideDown","$long","QUESTION_IMPORT_INTRO","QuestionManage","$container","store","get","set","importIntro","doneLabel","Translator","trans","customClass","attr","introJs","setOptions","steps","element","intro","skipLabel","showBullets","tooltipPosition","showStepNumbers","exitOnEsc","exitOnOverlayClick","tooltipClass","start","DeleteAction","event","$btn","currentTarget","name","data","self","content","cd","confirm","title","okText","cancelText","post","isFunction","onSuccess","call","closest","remove","message","type","window","location","reload","ids","each","push","value","length","BaseDeleteAction","BatchSelect","SelectLinkage","initEvent","_itemDelete","_batchDelete"],"mappings":"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","file":"app/js/question-manage/index.js","sourcesContent":["export const shortLongText  = ($element) => {\n  $element.on('click', '.short-text', function() {\n    var $short = $(this);\n    $short.slideUp('fast').parents('.short-long-text').find('.long-text').slideDown('fast');\n  });\n  $element.on('click', '.long-text', function() {\n    var $long = $(this);\n    $long.slideUp('fast').parents('.short-long-text').find('.short-text').slideDown('fast');\n  });\n};\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/common/widget/short-long-text.js","// import QuestionPicker from '../../../common/component/question-picker';\nimport BatchSelect from '../../common/widget/batch-select';\nimport BaseDeleteAction from '../../common/widget/delete-action';\nimport {shortLongText} from '../../common/widget/short-long-text';\nimport SelectLinkage from 'app/js/question-manage/widget/select-linkage.js';\nimport 'store';\n\nconst QUESTION_IMPORT_INTRO = 'QUESTION_IMPORT_INTRO';\n\nclass QuestionManage {\n  constructor($container) {\n\n    this.$container = $container;\n    if (!store.get(QUESTION_IMPORT_INTRO)) {\n      store.set(QUESTION_IMPORT_INTRO, true);\n      this.importIntro();\n    }\n\n  }\n\n  importIntro() {\n    const doneLabel = Translator.trans('document.import.skip_btn');\n    const customClass = 'import-intro';\n    $('.js-import-btn').attr('data-toggle', 'toggle'); // 禁止按钮点击效果\n    introJs().setOptions({\n      steps: [{\n        element: '.js-import-btn',\n        intro: Translator.trans('document.import.intro_hover'),\n      }],\n      skipLabel: doneLabel,\n      doneLabel: doneLabel,\n      showBullets: false,\n      tooltipPosition: 'down',\n      showStepNumbers: false,\n      exitOnEsc: false,\n      exitOnOverlayClick: false,\n      tooltipClass: customClass\n    }).start();\n    $('.introjs-button.introjs-skipbutton').on('click', function () {\n      $('.js-import-btn').attr('data-toggle', 'modal'); // 解禁按钮点击行为\n    });\n  }\n\n}\n\nclass DeleteAction extends BaseDeleteAction {\n  _itemDelete(event) {\n    let $btn = $(event.currentTarget);\n\n    let name = $btn.data('name');\n    let self = this;\n    let content = '<br><div class=\"help-block\">' + Translator.trans('course.question_manage.manage.delete_tips') + '</div>';\n\n    cd.confirm({\n      title: Translator.trans('site.data.delete_title_hint', {'name': name}),\n      content: Translator.trans('site.data.delete_name_hint', {'name': name}) + content,\n      okText: Translator.trans('site.confirm'),\n      cancelText: Translator.trans('site.close'),\n    }).on('ok', () => {\n      $.post($btn.data('url'), function () {\n        if ($.isFunction(self.onSuccess)) {\n          self.onSuccess.call(self.$element);\n        } else {\n          $btn.closest('[data-role=item]').remove();\n          cd.message({type: 'success', message: Translator.trans('site.delete_success_hint')});\n          window.location.reload();\n        }\n      });\n    });\n  }\n\n  _batchDelete(event) {\n    let $btn = $(event.currentTarget);\n    let name = $btn.data('name');\n    let content = '<br><div class=\"help-block\">' + Translator.trans('course.question_manage.manage.delete_tips') + '</div>';\n\n    let ids = [];\n    this.$element.find('[data-role=\"batch-item\"]:checked').each(function () {\n      ids.push(this.value);\n    });\n\n    if (ids.length == 0) {\n      cd.message({type: 'danger', message: Translator.trans('site.data.uncheck_name_hint', {'name': name})});\n      return;\n    }\n\n    cd.confirm({\n      title: Translator.trans('site.data.delete_title_hint', {'name': name}),\n      content: Translator.trans('site.data.delete_check_name_hint', {'name': name}) + content,\n      okText: Translator.trans('site.confirm'),\n      cancelText: Translator.trans('site.close'),\n    }).on('ok', () => {\n      $.post($btn.data('url'), {ids: ids}, function () {\n        window.location.reload();\n      });\n    });\n  }\n}\n\n// new QuestionPicker($('#quiz-table-container'), $('#quiz-table'));\nnew BatchSelect($('#quiz-table-container'));\nnew DeleteAction($('#quiz-table-container'));\nshortLongText($('#quiz-table-container'));\nnew SelectLinkage($('[name=\"courseId\"]'), $('[name=\"lessonId\"]'));\nnew QuestionManage($('#quiz-table-container'));\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/question-manage/index.js","class DeleteAction {\n  constructor($element,onSuccess) {\n    this.$element = $element;\n    this.onSuccess = onSuccess;\n    this.initEvent();\n  }\n\n  initEvent() {\n    this.$element.on('click','[data-role=\"item-delete\"]', event=>this._itemDelete(event));\n    this.$element.on('click','[data-role=\"batch-delete\"]', event=>this._batchDelete(event));\n  }\n\n  _itemDelete(event) {\n    let $btn = $(event.currentTarget);\n\n    let name = $btn.data('name');\n    let message = $btn.data('message');\n    let self = this;\n\n    cd.confirm({\n      title: Translator.trans('site.data.delete_title_hint', {'name':name}),\n      content: Translator.trans('site.data.delete_name_hint', {'name':name}),\n      okText: Translator.trans('site.confirm'),\n      cancelText: Translator.trans('site.close'),\n    }).on('ok', () => {\n      $.post($btn.data('url'), function() {\n        if ($.isFunction(self.onSuccess)) {\n          self.onSuccess.call(self.$element);\n        } else {\n          $btn.closest('[data-role=item]').remove();\n          cd.message({ type: 'success', message: Translator.trans('site.delete_success_hint') });\n          window.location.reload();\n        }\n      });\n    });\n  }\n\n  _batchDelete(event) {\n    let $btn = $(event.currentTarget);\n    let name = $btn.data('name');\n\n    let ids = [];\n    this.$element.find('[data-role=\"batch-item\"]:checked').each(function(){\n      ids.push(this.value);\n    });\n\n    if (ids.length == 0) {\n      cd.message({ type: 'danger', message: Translator.trans('site.data.uncheck_name_hint', {'name':name}) });\n      return ;\n    }\n\n    cd.confirm({\n      title: Translator.trans('site.data.delete_title_hint', {'name':name}),\n      content: Translator.trans('site.data.delete_check_name_hint', {'name':name}),\n      okText: Translator.trans('site.confirm'),\n      cancelText: Translator.trans('site.close'),\n    }).on('ok', () => {\n      $.post($btn.data('url'), {ids:ids}, function() {\n        window.location.reload();\n      });\n    });\n  }\n}\n\nexport default DeleteAction;\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/common/widget/delete-action.js"],"sourceRoot":""}