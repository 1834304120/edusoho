{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/admin-v2/default/switch-old-version/index.js"],"names":["iframe","document","getElementById","onload","contentWindow","postMessage","actions","onMessage","event","handleData","data","JSON","parse","url","$","post","res","status","window","location","href","e","console","log","addEventListener","attachEvent"],"mappings":";;;;;;;;;;;;;;;;;;AAAA,IAAMA,SAASC,SAASC,cAAT,CAAwB,QAAxB,CAAf;;AAEAF,OAAOG,MAAP,GAAgB,YAAM;AACpBH,SAAOI,aAAP,CAAqBC,WAArB,CAAiC,yBAAe;AAC9CC,aAAS;AADqC,GAAf,CAAjC,EAEI,GAFJ;AAGD,CAJD;;AAMA,IAAMC,YAAY,SAAZA,SAAY,CAAUC,KAAV,EAAiB;AACjC,MAAI;AACF,QAAIC,aAAaD,MAAME,IAAvB;AACA,QAAI,sBAAOF,MAAME,IAAb,MAAsB,QAA1B,EAAoC;AAClCD,mBAAaE,KAAKC,KAAL,CAAWJ,MAAME,IAAjB,CAAb;AACD;AACD,QAAID,WAAWH,OAAX,KAAuB,QAA3B,EAAqC;AACnC,UAAMO,MAAMC,EAAE,sBAAF,EAA0BJ,IAA1B,CAA+B,KAA/B,CAAZ;AACAI,QAAEC,IAAF,CAAOF,GAAP,EAAY,UAACG,GAAD,EAAS;AACnB,YAAIA,IAAIC,MAAJ,IAAc,SAAd,IAA2BD,IAAIH,GAAnC,EAAwC;AACtCK,iBAAOC,QAAP,CAAgBC,IAAhB,GAAuBJ,IAAIH,GAA3B;AACD;AACF,OAJD;AAKD;AACF,GAbD,CAaE,OAAOQ,CAAP,EAAU;AACVC,YAAQC,GAAR,CAAY,OAAZ;AACD;AACF,CAjBD;;AAmBA,IAAIL,OAAOM,gBAAX,EAA6B;AAC3BN,SAAOM,gBAAP,CAAwB,SAAxB,EAAmCjB,SAAnC,EAA8C,KAA9C;AACD,CAFD,MAEO;AACLW,SAAOO,WAAP,CAAmB,WAAnB,EAAgClB,SAAhC;AACD,C","file":"app/js/admin-v2/default/switch-old-version/index.js","sourcesContent":["const iframe = document.getElementById('iframe');\n\niframe.onload = () => {\n  iframe.contentWindow.postMessage(JSON.stringify({\n    actions: 'init'\n  }), '*');\n};\n\nconst onMessage = function (event) {\n  try {\n    let handleData = event.data;\n    if (typeof event.data !== 'object') {\n      handleData = JSON.parse(event.data);\n    }\n    if (handleData.actions === 'reload') {\n      const url = $('.js-question-section').data('url');\n      $.post(url, (res) => {\n        if (res.status == 'success' && res.url) {\n          window.location.href = res.url;\n        }\n      });\n    }\n  } catch (e) {\n    console.log('catch');\n  }\n};\n\nif (window.addEventListener) {\n  window.addEventListener('message', onMessage, false);\n} else {\n  window.attachEvent('onmessage', onMessage);\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/admin-v2/default/switch-old-version/index.js"],"sourceRoot":""}