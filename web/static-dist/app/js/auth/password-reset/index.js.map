{"version":3,"sources":["webpack:///external \"jQuery\"","webpack:///./app/Resources/static-src/app/js/auth/password-reset/index.js","webpack:///./app/Resources/static-src/app/common/xxtea.js","webpack:///./app/Resources/static-src/app/common/new-count-down.js"],"names":["require","Reset","event","dragHtml","$","html","remove","prepend","drag","Drag","limitType","smsEvent","validator","smsToken","self","click","$this","hasClass","addClass","siblings","removeClass","$target","data","length","hide","unbindEvent","show","$smsCode","mobileValidator","element","Api","resetPasswordSms","get","params","mobile","val","dragCaptchaToken","then","res","Translator","trans","catch","initDragCaptcha","validate","rules","email","required","messages","submitHandler","form","find","resetPasswordEmail","patch","window","location","href","code","responseJSON","error","addMethod","value","result","smsCode","async","promise","success","format","phone","es_remote","type","callback","bool","unsigned_integer","rangelength","passwordSms","minlength","maxlength","sms_code","resetPasswordMobile","encrypt_password","XXTEA","encryptToBase64","host","global","btoa","base64EncodeChars","split","str","buf","i","j","len","r","l","c","Array","charCodeAt","join","atob","base64DecodeChars","c1","c2","c3","c4","out","test","charAt","String","fromCharCode","DELTA","toBinaryString","v","includeLength","n","m","substring","toUint32Array","bs","int32","mx","sum","y","z","p","e","k","fixk","encryptUint32Array","q","Math","floor","decryptUint32Array","utf8Encode","codeUnit","nextCodeUnit","rune","Error","utf8DecodeShortString","charCodes","off","unit","toString","apply","utf8DecodeLongString","size","utf8Decode","undefined","substr","encrypt","key","decrypt","decryptFromBase64","countDown","$dom","$text","num","attr","text","setTimeout"],"mappings":"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","file":"app/js/auth/password-reset/index.js","sourcesContent":["module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 0\n// module chunks = app/js/main app/js/v2/demo/index app/js/activity-manage/doc/index app/js/activity-manage/download/index app/js/activity-manage/flash/index app/js/activity-manage/homework/index app/js/activity-manage/ppt/index app/js/activity-manage/video/index app/js/article/detail/index app/js/attachment/index app/js/auth/captcha-modal/index app/js/auth/password-reset/index app/js/auth/register/index app/js/batch-upload/index app/js/card/card-receive/index app/js/card/index/index app/js/cashier/index app/js/cashier/modal/index app/js/classroom-manage/set-picture/index app/js/classroom-manage/student-expiryday/index app/js/classroom-manage/student-import/index app/js/classroom-manage/students-create/index app/js/classroom-manage/students-manage/index app/js/classroom/buy-modal/index app/js/classroom/index app/js/classroom/thread-form/index app/js/classroom/thread-show/index app/js/coin/invite-code/index app/js/course-chapter-manage/index app/js/course-manage-file/index/index app/js/course-manage/batch-create/index app/js/course-manage/lesson-manage/default/index app/js/course-manage/lesson-manage/normal/index app/js/course-manage/live-replay/upload/index app/js/course-manage/overview/index app/js/course-manage/student-import/index app/js/course/buy-modal/index app/js/course/thread-show/index app/js/courseset/show/index app/js/exporter/index app/js/group/index app/js/group/logo/index app/js/group/thread-add/index app/js/live-course/explore/index app/js/material-lib/index/index app/js/material-lib/share-history/index app/js/media-manage/index app/js/activity-manage/audio/index app/js/mobile-bind/index app/js/my/order-refund-apply/index app/js/my/order-refund/index app/js/my/order/index app/js/oauth2/create/index app/js/open-course-manage/add-material/index app/js/open-course-manage/lesson-modal/index app/js/open-course/index app/js/open-course/member-sms/index app/js/order/coupon-item/index app/js/order/create-sms/index app/js/order/create/index app/js/pay/select/index app/js/pay/show-mobile-modal/index app/js/player/index app/js/question-manage/form/index app/js/review/list/index app/js/search/index app/js/settings/avatar-crop-modal/index app/js/settings/bind-mobile/index app/js/settings/email/index app/js/settings/find_pay_password_by_sms/index app/js/settings/find-pay-password/index app/js/settings/password/index app/js/settings/pay-password-modal/index app/js/settings/pay-password/index app/js/settings/profile/index app/js/settings/reset-pay-password/index app/js/settings/security-questions/index app/js/settings/security/index app/js/settings/setup-password/index app/js/settings/setup/index app/js/settings/update-pay-password/index app/js/settings/user-profile/index app/js/subject/index app/js/task-manage/create/index app/js/task/plugin/note/index app/js/task/plugin/question/index app/js/testpaper-manage/create/index app/js/testpaper-manage/index app/js/testpaper-manage/questions/index app/js/testpaper/do-test/exercise/index app/js/testpaper/do-test/normal/index app/js/testpaper/result/index app/js/thread/user-info-modal/index app/js/user/fill-info/index app/js/message/show/index","import SmsSender from 'app/common/widget/sms-sender';\nimport Drag from 'app/common/drag';\nimport Api from 'common/api';\nimport notify from 'common/notify';\nimport { countDown } from 'app/common/new-count-down.js';\nrequire('app/common/xxtea.js');\n\nclass Reset {\n  constructor() {\n    this.event();\n    this.dragHtml = $('.js-drag-box').html();\n    $('.js-drag-box').remove();\n    $('#password-reset-form').prepend(this.dragHtml);\n    this.drag = new Drag($('#drag-btn'), $('.js-jigsaw'), {\n      limitType: 'reset_password',\n    });\n    this.smsEvent();\n    this.validator();\n    this.smsToken = '';\n  }\n\n  event() {\n    let self = this;\n    $('.js-find-password li').click(function(){\n      let $this = $(this);\n      if ($this.hasClass('active')) {\n        return;\n      }\n      $this.addClass('active').siblings().removeClass('active');\n\n      let $target = $($this.data('target'));\n      if ($target.length > 0 ) {\n        $('form').hide();\n        self.drag.unbindEvent();\n        $('.js-drag').remove();\n        $target.prepend(self.dragHtml);\n\n        self.drag = new Drag($('#drag-btn'), $('.js-jigsaw'), {limitType: 'reset_password'});\n        $target.show();\n      }\n    });\n  }\n\n  smsEvent() {\n    let $smsCode = $('.js-sms-send');\n    let self = this;\n    $smsCode.click(() => {\n      if(this.mobileValidator.element($('[name=\"dragCaptchaToken\"]'))) {\n        if($smsCode.hasClass('disabled')) {\n          return ;\n        }\n        $smsCode.addClass('disabled');\n\n        Api.resetPasswordSms.get({\n          params: {\n            mobile: $('#mobile').val(),\n          },\n          data: {\n            dragCaptchaToken: $('[name=\"dragCaptchaToken\"]').val()\n          }\n        }).then((res) => {\n          notify('success', Translator.trans('notify.sms_send_success.message'));\n          $smsCode.removeClass('disabled');\n          countDown($('.js-sms-send'), $('#js-fetch-btn-text'), 120);\n          self.smsToken = res.smsToken;\n        }).catch(()=> {\n          $smsCode.removeClass('disabled');\n          self.drag.initDragCaptcha();\n        });\n      }\n    });\n  }\n\n  validator() {\n    let self = this;\n    $('#password-reset-form').validate({\n      rules: {\n        email: {\n          required: true,\n          email: true,\n        },\n        dragCaptchaToken: {\n          required: true,\n        },\n      },\n      messages: {\n        dragCaptchaToken: {\n          required: Translator.trans('site.captcha_code.required'),\n        },\n      },\n      submitHandler: function(form) {\n        let email = $('#password-reset-form').find('[name=\"email\"]').val();\n        Api.resetPasswordEmail.patch({\n          params: {\n            email: email,\n          },\n          data: {\n            dragCaptchaToken: $('[name=\"dragCaptchaToken\"]').val(),\n          }\n        }).then((res) => {\n          notify('success', Translator.trans('notify.password_reset_email_send_success.message'));\n          window.location.href = $('#password-reset-form').data('success') + '?email='+ email;\n        }).catch((res) => {\n          let code = res.responseJSON.error.code||0;\n          if (4040104 == code) {\n            self.drag.initDragCaptcha();\n          }\n        });\n      }\n    });\n\n    $.validator.addMethod('passwordSms', function (value, element) {\n      let result = false;\n      Api.resetPasswordSms.validate({\n        params: {\n          mobile: $('#mobile').val(),\n          smsCode: $('#sms-code').val()\n        },\n        data: {\n          smsToken: self.smsToken,  \n        },\n        async: false,\n        promise: false,\n      }).success((res) => { \n        result = 'sms.code.success' == res ? true : false;\n      });\n\n      return result;\n    }, $.validator.format(Translator.trans('validate.sms_code.message')));\n\n\n    this.mobileValidator = $('#password-reset-by-mobile-form').validate({\n      rules: {\n        'mobile': {\n          required: true,\n          phone: true,\n          es_remote: {\n            type: 'get',\n            callback: (bool) => {\n              if (bool) {\n                $('.js-sms-send').removeClass('disabled');\n              } else {\n                $('.js-sms-send').addClass('disabled');\n              }\n            }\n          }\n        },\n        'sms_code': {\n          required: true,\n          unsigned_integer: true,\n          rangelength: [6, 6],\n          passwordSms: true,\n        },\n        dragCaptchaToken: {\n          required: true,\n        },\n        'reset_password': {\n          required: true,\n          minlength: 5,\n          maxlength: 20,\n        }\n      },\n      messages: {\n        sms_code: {\n          required: Translator.trans('auth.password_reset.sms_code_required_hint'),\n          rangelength: Translator.trans('auth.password_reset.sms_code_validate_hint'),\n        },\n        dragCaptchaToken: {\n          required: Translator.trans('site.captcha_code.required'),\n        }\n      },\n      submitHandler: function(form) {\n        Api.resetPasswordMobile.patch({\n          params: {\n            mobile: $('#mobile').val(),\n          },\n          data: {\n            smsToken: self.smsToken,\n            smsCode: $('#sms-code').val(),\n            encrypt_password: window.XXTEA.encryptToBase64($('#reset_password').val(), window.location.host),\n            dragCaptchaToken: $('[name=\"dragCaptchaToken\"]').val(),\n          }\n        }).then((res) => {\n          notify('success', Translator.trans('notify.password_reset_success.message'));\n          window.location.href = $('#password-reset-form').data('success') + '?mobile='+ $('#mobile').val();\n        });\n      }\n    });\n  }\n}\n\nnew Reset();\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/auth/password-reset/index.js","/**********************************************************\\\n|                                                          |\n| xxtea.js                                                 |\n|                                                          |\n| XXTEA encryption algorithm library for JavaScript.       |\n|                                                          |\n| Encryption Algorithm Authors:                            |\n|      David J. Wheeler                                    |\n|      Roger M. Needham                                    |\n|                                                          |\n| Code Author: Ma Bingyao <mabingyao@gmail.com>            |\n| LastModified: Oct 4, 2016                                |\n|                                                          |\n\\**********************************************************/\n\n(function (global) {\n  'use strict';\n\n  if (typeof(global.btoa) == 'undefined') {\n    global.btoa = function() {\n      var base64EncodeChars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n      return function(str) {\n        var buf, i, j, len, r, l, c;\n        i = j = 0;\n        len = str.length;\n        r = len % 3;\n        len = len - r;\n        l = (len / 3) << 2;\n        if (r > 0) {\n          l += 4;\n        }\n        buf = new Array(l);\n\n        while (i < len) {\n          c = str.charCodeAt(i++) << 16 |\n                        str.charCodeAt(i++) << 8  |\n                        str.charCodeAt(i++);\n          buf[j++] = base64EncodeChars[c >> 18] +\n                               base64EncodeChars[c >> 12 & 0x3f] +\n                               base64EncodeChars[c >> 6  & 0x3f] +\n                               base64EncodeChars[c & 0x3f] ;\n        }\n        if (r == 1) {\n          c = str.charCodeAt(i++);\n          buf[j++] = base64EncodeChars[c >> 2] +\n                               base64EncodeChars[(c & 0x03) << 4] +\n                               '==';\n        }\n        else if (r == 2) {\n          c = str.charCodeAt(i++) << 8 |\n                        str.charCodeAt(i++);\n          buf[j++] = base64EncodeChars[c >> 10] +\n                               base64EncodeChars[c >> 4 & 0x3f] +\n                               base64EncodeChars[(c & 0x0f) << 2] +\n                               '=';\n        }\n        return buf.join('');\n      };\n    }();\n  }\n\n  if (typeof(global.atob) == 'undefined') {\n    global.atob = function() {\n      var base64DecodeChars = [\n        -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 62, -1, -1, -1, 63,\n        52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1, -1, -1, -1, -1,\n        -1,  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14,\n        15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, -1, -1, -1, -1, -1,\n        -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40,\n        41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, -1, -1, -1, -1, -1\n      ];\n      return function(str) {\n        var c1, c2, c3, c4;\n        var i, j, len, r, l, out;\n\n        len = str.length;\n        if (len % 4 !== 0) {\n          return '';\n        }\n        if (/[^ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\\+\\/\\=]/.test(str)) {\n          return '';\n        }\n        if (str.charAt(len - 2) == '=') {\n          r = 1;\n        }\n        else if (str.charAt(len - 1) == '=') {\n          r = 2;\n        }\n        else {\n          r = 0;\n        }\n        l = len;\n        if (r > 0) {\n          l -= 4;\n        }\n        l = (l >> 2) * 3 + r;\n        out = new Array(l);\n\n        i = j = 0;\n        while (i < len) {\n          // c1\n          c1 = base64DecodeChars[str.charCodeAt(i++)];\n          if (c1 == -1) break;\n\n          // c2\n          c2 = base64DecodeChars[str.charCodeAt(i++)];\n          if (c2 == -1) break;\n\n          out[j++] = String.fromCharCode((c1 << 2) | ((c2 & 0x30) >> 4));\n\n          // c3\n          c3 = base64DecodeChars[str.charCodeAt(i++)];\n          if (c3 == -1) break;\n\n          out[j++] = String.fromCharCode(((c2 & 0x0f) << 4) | ((c3 & 0x3c) >> 2));\n\n          // c4\n          c4 = base64DecodeChars[str.charCodeAt(i++)];\n          if (c4 == -1) break;\n\n          out[j++] = String.fromCharCode(((c3 & 0x03) << 6) | c4);\n        }\n        return out.join('');\n      };\n    }();\n  }\n\n  var DELTA = 0x9E3779B9;\n\n  function toBinaryString(v, includeLength) {\n    var length = v.length;\n    var n = length << 2;\n    if (includeLength) {\n      var m = v[length - 1];\n      n -= 4;\n      if ((m < n - 3) || (m > n)) {\n        return null;\n      }\n      n = m;\n    }\n    for (var i = 0; i < length; i++) {\n      v[i] = String.fromCharCode(\n        v[i] & 0xFF,\n        v[i] >>> 8 & 0xFF,\n        v[i] >>> 16 & 0xFF,\n        v[i] >>> 24 & 0xFF\n      );\n    }\n    var result = v.join('');\n    if (includeLength) {\n      return result.substring(0, n);\n    }\n    return result;\n  }\n\n  function toUint32Array(bs, includeLength) {\n    var length = bs.length;\n    var n = length >> 2;\n    if ((length & 3) !== 0) {\n      ++n;\n    }\n    var v;\n    if (includeLength) {\n      v = new Array(n + 1);\n      v[n] = length;\n    }\n    else {\n      v = new Array(n);\n    }\n    for (var i = 0; i < length; ++i) {\n      v[i >> 2] |= bs.charCodeAt(i) << ((i & 3) << 3);\n    }\n    return v;\n  }\n\n  function int32(i) {\n    return i & 0xFFFFFFFF;\n  }\n\n  function mx(sum, y, z, p, e, k) {\n    return ((z >>> 5 ^ y << 2) + (y >>> 3 ^ z << 4)) ^ ((sum ^ y) + (k[p & 3 ^ e] ^ z));\n  }\n\n  function fixk(k) {\n    if (k.length < 4) k.length = 4;\n    return k;\n  }\n\n  function encryptUint32Array(v, k) {\n    var length = v.length;\n    var n = length - 1;\n    var y, z, sum, e, p, q;\n    z = v[n];\n    sum = 0;\n    for (q = Math.floor(6 + 52/length) | 0; q > 0; --q) {\n      sum = int32(sum + DELTA);\n      e = sum >>> 2 & 3;\n      for (p = 0; p < n; ++p) {\n        y = v[p + 1];\n        z = v[p] = int32(v[p] + mx(sum, y, z, p, e, k));\n      }\n      y = v[0];\n      z = v[n] = int32(v[n] + mx(sum, y, z, n, e, k));\n    }\n    return v;\n  }\n\n  function decryptUint32Array(v, k) {\n    var length = v.length;\n    var n = length - 1;\n    var y, z, sum, e, p, q;\n    y = v[0];\n    q = Math.floor(6 + 52/length);\n    for (sum = int32(q * DELTA); sum !== 0; sum = int32(sum - DELTA)) {\n      e = sum >>> 2 & 3;\n      for (p = n; p > 0; --p) {\n        z = v[p - 1];\n        y = v[p] = int32(v[p] - mx(sum, y, z, p, e, k));\n      }\n      z = v[n];\n      y = v[0] = int32(v[0] - mx(sum, y, z, 0, e, k));\n    }\n    return v;\n  }\n\n  function utf8Encode(str) {\n    if (/^[\\x00-\\x7f]*$/.test(str)) {\n      return str;\n    }\n    var buf = [];\n    var n = str.length;\n    for (var i = 0, j = 0; i < n; ++i, ++j) {\n      var codeUnit = str.charCodeAt(i);\n      if (codeUnit < 0x80) {\n        buf[j] = str.charAt(i);\n      }\n      else if (codeUnit < 0x800) {\n        buf[j] = String.fromCharCode(0xC0 | (codeUnit >> 6),\n          0x80 | (codeUnit & 0x3F));\n      }\n      else if (codeUnit < 0xD800 || codeUnit > 0xDFFF) {\n        buf[j] = String.fromCharCode(0xE0 | (codeUnit >> 12),\n          0x80 | ((codeUnit >> 6) & 0x3F),\n          0x80 | (codeUnit & 0x3F));\n      }\n      else {\n        if (i + 1 < n) {\n          var nextCodeUnit = str.charCodeAt(i + 1);\n          if (codeUnit < 0xDC00 && 0xDC00 <= nextCodeUnit && nextCodeUnit <= 0xDFFF) {\n            var rune = (((codeUnit & 0x03FF) << 10) | (nextCodeUnit & 0x03FF)) + 0x010000;\n            buf[j] = String.fromCharCode(0xF0 | ((rune >> 18) &0x3F),\n              0x80 | ((rune >> 12) & 0x3F),\n              0x80 | ((rune >> 6) & 0x3F),\n              0x80 | (rune & 0x3F));\n            ++i;\n            continue;\n          }\n        }\n        throw new Error('Malformed string');\n      }\n    }\n    return buf.join('');\n  }\n\n  function utf8DecodeShortString(bs, n) {\n    var charCodes = new Array(n);\n    var i = 0, off = 0;\n    for (var len = bs.length; i < n && off < len; i++) {\n      var unit = bs.charCodeAt(off++);\n      switch (unit >> 4) {\n      case 0:\n      case 1:\n      case 2:\n      case 3:\n      case 4:\n      case 5:\n      case 6:\n      case 7:\n        charCodes[i] = unit;\n        break;\n      case 12:\n      case 13:\n        if (off < len) {\n          charCodes[i] = ((unit & 0x1F) << 6) |\n                                    (bs.charCodeAt(off++) & 0x3F);\n        }\n        else {\n          throw new Error('Unfinished UTF-8 octet sequence');\n        }\n        break;\n      case 14:\n        if (off + 1 < len) {\n          charCodes[i] = ((unit & 0x0F) << 12) |\n                                   ((bs.charCodeAt(off++) & 0x3F) << 6) |\n                                   (bs.charCodeAt(off++) & 0x3F);\n        }\n        else {\n          throw new Error('Unfinished UTF-8 octet sequence');\n        }\n        break;\n      case 15:\n        if (off + 2 < len) {\n          var rune = (((unit & 0x07) << 18) |\n                                ((bs.charCodeAt(off++) & 0x3F) << 12) |\n                                ((bs.charCodeAt(off++) & 0x3F) << 6) |\n                                (bs.charCodeAt(off++) & 0x3F)) - 0x10000;\n          if (0 <= rune && rune <= 0xFFFFF) {\n            charCodes[i++] = (((rune >> 10) & 0x03FF) | 0xD800);\n            charCodes[i] = ((rune & 0x03FF) | 0xDC00);\n          }\n          else {\n            throw new Error('Character outside valid Unicode range: 0x' + rune.toString(16));\n          }\n        }\n        else {\n          throw new Error('Unfinished UTF-8 octet sequence');\n        }\n        break;\n      default:\n        throw new Error('Bad UTF-8 encoding 0x' + unit.toString(16));\n      }\n    }\n    if (i < n) {\n      charCodes.length = i;\n    }\n    return String.fromCharCode.apply(String, charCodes);\n  }\n\n  function utf8DecodeLongString(bs, n) {\n    var buf = [];\n    var charCodes = new Array(0x8000);\n    var i = 0, off = 0;\n    for (var len = bs.length; i < n && off < len; i++) {\n      var unit = bs.charCodeAt(off++);\n      switch (unit >> 4) {\n      case 0:\n      case 1:\n      case 2:\n      case 3:\n      case 4:\n      case 5:\n      case 6:\n      case 7:\n        charCodes[i] = unit;\n        break;\n      case 12:\n      case 13:\n        if (off < len) {\n          charCodes[i] = ((unit & 0x1F) << 6) |\n                                    (bs.charCodeAt(off++) & 0x3F);\n        }\n        else {\n          throw new Error('Unfinished UTF-8 octet sequence');\n        }\n        break;\n      case 14:\n        if (off + 1 < len) {\n          charCodes[i] = ((unit & 0x0F) << 12) |\n                                   ((bs.charCodeAt(off++) & 0x3F) << 6) |\n                                   (bs.charCodeAt(off++) & 0x3F);\n        }\n        else {\n          throw new Error('Unfinished UTF-8 octet sequence');\n        }\n        break;\n      case 15:\n        if (off + 2 < len) {\n          var rune = (((unit & 0x07) << 18) |\n                                ((bs.charCodeAt(off++) & 0x3F) << 12) |\n                                ((bs.charCodeAt(off++) & 0x3F) << 6) |\n                                (bs.charCodeAt(off++) & 0x3F)) - 0x10000;\n          if (0 <= rune && rune <= 0xFFFFF) {\n            charCodes[i++] = (((rune >> 10) & 0x03FF) | 0xD800);\n            charCodes[i] = ((rune & 0x03FF) | 0xDC00);\n          }\n          else {\n            throw new Error('Character outside valid Unicode range: 0x' + rune.toString(16));\n          }\n        }\n        else {\n          throw new Error('Unfinished UTF-8 octet sequence');\n        }\n        break;\n      default:\n        throw new Error('Bad UTF-8 encoding 0x' + unit.toString(16));\n      }\n      if (i >= 0x7FFF - 1) {\n        var size = i + 1;\n        charCodes.length = size;\n        buf[buf.length] = String.fromCharCode.apply(String, charCodes);\n        n -= size;\n        i = -1;\n      }\n    }\n    if (i > 0) {\n      charCodes.length = i;\n      buf[buf.length] = String.fromCharCode.apply(String, charCodes);\n    }\n    return buf.join('');\n  }\n\n  // n is UTF16 length\n  function utf8Decode(bs, n) {\n    if (n === undefined || n === null || (n < 0)) n = bs.length;\n    if (n === 0) return '';\n    if (/^[\\x00-\\x7f]*$/.test(bs) || !(/^[\\x00-\\xff]*$/.test(bs))) {\n      if (n === bs.length) return bs;\n      return bs.substr(0, n);\n    }\n    return ((n < 0xFFFF) ?\n      utf8DecodeShortString(bs, n) :\n      utf8DecodeLongString(bs, n));\n  }\n\n  function encrypt(data, key) {\n    if (data === undefined || data === null || data.length === 0) {\n      return data;\n    }\n    data = utf8Encode(data);\n    key = utf8Encode(key);\n    return toBinaryString(encryptUint32Array(toUint32Array(data, true), fixk(toUint32Array(key, false))), false);\n  }\n\n  function encryptToBase64(data, key) {\n    return global.btoa(encrypt(data, key));\n  }\n\n  function decrypt(data, key) {\n    if (data === undefined || data === null || data.length === 0) {\n      return data;\n    }\n    key = utf8Encode(key);\n    return utf8Decode(toBinaryString(decryptUint32Array(toUint32Array(data, false), fixk(toUint32Array(key, false))), true));\n  }\n\n  function decryptFromBase64(data, key) {\n    if (data === undefined || data === null || data.length === 0) {\n      return data;\n    }\n    return decrypt(global.atob(data), key);\n  }\n\n  global.XXTEA = {\n    utf8Encode: utf8Encode,\n    utf8Decode: utf8Decode,\n    encrypt: encrypt,\n    encryptToBase64: encryptToBase64,\n    decrypt: decrypt,\n    decryptFromBase64: decryptFromBase64\n  };\n})(window);\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/common/xxtea.js","export const countDown = ($dom, $text, num, callback = function(){}) => {\n  $dom.addClass('disabled').attr('disabled', true);\n  if (!$text.data('count-down-text')) {\n    $text.data('count-down-text', $text.text());\n  }\n  $text.text(num+' 秒后重新获取');\n\n  if (--num < 0) {\n    $dom.removeClass('disabled').attr('disabled', false);\n    $text.text($text.data('count-down-text'));\n    callback();\n    return;\n  }\n\n  setTimeout(() => {\n    countDown($dom, $text, num, callback);\n  }, 1000);\n};\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/common/new-count-down.js"],"sourceRoot":""}