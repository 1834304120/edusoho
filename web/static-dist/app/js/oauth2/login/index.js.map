{"version":3,"sources":["webpack:///./app/Resources/static-src/app/common/form.js","webpack:///./app/Resources/static-src/app/js/oauth2/login/index.js"],"names":["enterSubmit","$formDom","$btnDom","keypress","e","which","trigger","preventDefault","$form","$","$btn","validateMode","mobile","rules","account","required","phone","messages","Translator","trans","email","maxlength","email_or_mobile","email_or_mobile_check","ruleType","data","validator","validate","click","event","type","reg_email","form","target","button","isEmail","test","val","submit"],"mappings":";;;;;;;;;;;AAAA,IAAMA,cAAc,SAAdA,WAAc,CAACC,QAAD,EAAWC,OAAX,EAAuB;AACzCD,WAASE,QAAT,CAAkB,UAACC,CAAD,EAAO;AACvB,QAAIA,EAAEC,KAAF,IAAW,EAAf,EAAmB;AACjBH,cAAQI,OAAR,CAAgB,OAAhB;AACAF,QAAEG,cAAF;AACD;AACF,GALD;AAMD,CAPD;;QAUEP,W,GAAAA,W;;;;;;;;;;ACVF;;AAEA,IAAMQ,QAAQC,EAAE,yBAAF,CAAd;AACA,IAAMC,OAAOD,EAAE,gBAAF,CAAb;;AAEA,IAAME,eAAe;AACnBC,UAAQ;AACNC,WAAO;AACLC,eAAS;AACPC,kBAAU,IADH;AAEPC,eAAO;AAFA;AADJ,KADD;AAONC,cAAU;AACRF,gBAAUG,WAAWC,KAAX,CAAiB,wBAAjB;AADF;AAPJ,GADW;AAYnBC,SAAO;AACLP,WAAO;AACLC,eAAS;AACPC,kBAAU,IADH;AAEPM,mBAAW,EAFJ;AAGPD,eAAO;AAHA;AADJ,KADF;AAQLH,cAAU;AACRF,gBAAUG,WAAWC,KAAX,CAAiB,oCAAjB;AADF;AARL,GAZY;AAwBnBG,mBAAiB;AACfT,WAAO;AACLC,eAAS;AACPC,kBAAU,IADH;AAEPM,mBAAW,EAFJ;AAGPE,+BAAuB;AAHhB;AADJ,KADQ;AAQfN,cAAU;AACRF,gBAAUG,WAAWC,KAAX,CAAiB,wCAAjB;AADF;AARK;AAxBE,CAArB;;AAsCA,IAAMK,WAAWf,EAAE,sBAAF,EAA0BgB,IAA1B,CAA+B,MAA/B,CAAjB;AACA,IAAMC,YAAYlB,MAAMmB,QAAN,CAAehB,aAAaa,QAAb,CAAf,CAAlB;;AAEA,uBAAYhB,KAAZ,EAAmBE,IAAnB;;AAEAA,KAAKkB,KAAL,CAAW,UAACC,KAAD,EAAW;AACpB,MAAIC,aAAJ;AACA,MAAMC,YAAY,+DAAlB;;AAEA,MAAIL,UAAUM,IAAV,EAAJ,EAAsB;AACpBvB,MAAEoB,MAAMI,MAAR,EAAgBC,MAAhB,CAAuB,SAAvB;AACA,QAAIC,UAAUJ,UAAUK,IAAV,CAAe3B,EAAE,yBAAF,EAA6B4B,GAA7B,EAAf,CAAd;AACAP,WAAOK,UAAU,OAAV,GAAoB,QAA3B;AACA1B,MAAE,cAAF,EAAkB4B,GAAlB,CAAsBP,IAAtB;AACAtB,UAAM8B,MAAN;AACD;AACF,CAXD,E","file":"app/js/oauth2/login/index.js","sourcesContent":["const enterSubmit = ($formDom, $btnDom) => {\n  $formDom.keypress((e) => {\n    if (e.which == 13) {\n      $btnDom.trigger('click');\n      e.preventDefault();\n    }\n  });\n};\n\nexport {\n  enterSubmit\n};\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/common/form.js","import { enterSubmit } from 'app/common/form';\n\nconst $form = $('#third-party-login-form');\nconst $btn = $('.js-submit-btn');\n\nconst validateMode = {\n  mobile: {\n    rules: {\n      account: {\n        required: true,\n        phone: true,\n      },\n    },\n    messages: {\n      required: Translator.trans('validate.phone.message')\n    }\n  },\n  email: {\n    rules: {\n      account: {\n        required: true,\n        maxlength: 32,\n        email: true,\n      },\n    },\n    messages: {\n      required: Translator.trans('validate.valid_email_input.message')\n    }\n  },\n  email_or_mobile: {\n    rules: {\n      account: {\n        required: true,\n        maxlength: 32,\n        email_or_mobile_check: true,\n      },\n    },\n    messages: {\n      required: Translator.trans('validate.phone_and_email_input.message')\n    }\n  }\n};\n\nconst ruleType = $('.js-third-party-type').data('type');\nconst validator = $form.validate(validateMode[ruleType]);\n\nenterSubmit($form, $btn);\n\n$btn.click((event) => {\n  let type;\n  const reg_email = /^([a-zA-Z0-9_.\\-+])+@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\n\n  if (validator.form()) {\n    $(event.target).button('loading');\n    let isEmail = reg_email.test($('input[name=\\'account\\']').val());\n    type = isEmail ? 'email' : 'mobile';\n    $('#accountType').val(type);\n    $form.submit();\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/oauth2/login/index.js"],"sourceRoot":""}