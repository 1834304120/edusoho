{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/activity-manage/editor.js","webpack:///./app/Resources/static-src/app/js/activity-manage/discuss/discuss.js","webpack:///./app/Resources/static-src/app/js/activity-manage/discuss/index.js"],"names":["initEditor","$item","validator","editor","CKEDITOR","replace","toolbar","fileSingleSizeLimit","app","filebrowserImageUploadUrl","$","data","filebrowserFlashUploadUrl","allowedContent","height","on","console","log","val","getData","form","Discuss","props","_init","_inItStep2form","$step2_form","validate","rules","title","required","maxlength","trim","course_title","content"],"mappings":";;;;;;;;;;;AAAO,IAAMA,kCAAa,SAAbA,UAAa,CAACC,KAAD,EAAQC,SAAR,EAAsB;;AAE9C,MAAIC,SAASC,SAASC,OAAT,CAAiB,oBAAjB,EAAuC;AAClDC,aAAS,MADyC;AAElDC,yBAAqBC,IAAID,mBAFyB;AAGlDE,+BAA2BC,EAAE,qBAAF,EAAyBC,IAAzB,CAA8B,gBAA9B,CAHuB;AAIlDC,+BAA2BF,EAAE,qBAAF,EAAyBC,IAAzB,CAA8B,gBAA9B,CAJuB;AAKlDE,oBAAgB,IALkC;AAMlDC,YAAQ;AAN0C,GAAvC,CAAb;;AASAX,SAAOY,EAAP,CAAU,QAAV,EAAoB,YAAM;AACxBC,YAAQC,GAAR,CAAY,QAAZ;AACAhB,UAAMiB,GAAN,CAAUf,OAAOgB,OAAP,EAAV;AACA,QAAIjB,SAAJ,EAAe;AACbA,gBAAUkB,IAAV;AACD;AACF,GAND;;AAQA;AACAjB,SAAOY,EAAP,CAAU,MAAV,EAAkB,YAAM;AACtBC,YAAQC,GAAR,CAAY,MAAZ;AACAhB,UAAMiB,GAAN,CAAUf,OAAOgB,OAAP,EAAV;AACA,QAAIjB,SAAJ,EAAe;AACbA,gBAAUkB,IAAV;AACD;AACF,GAND;;AAQA,SAAOjB,MAAP;AACD,CA7BM,C;;;;;;;;;;;;;;;;;;;;;;ACAP;;;;IAEqBkB,O;AACnB,mBAAYC,KAAZ,EAAmB;AAAA;;AACjB,SAAKC,KAAL;AACD;;;;4BAEO;AACN,WAAKC,cAAL;AACD;;;qCAEgB;AACf,UAAIC,cAAcf,EAAE,aAAF,CAAlB;AACA,UAAIR,YAAYuB,YAAYd,IAAZ,CAAiB,WAAjB,CAAhB;AACAT,kBAAYuB,YAAYC,QAAZ,CAAqB;AAC/BC,eAAO;AACLC,iBAAO;AACLC,sBAAU,IADL;AAELC,uBAAW,EAFN;AAGLC,kBAAM,IAHD;AAILC,0BAAc;AAJT,WADF;AAOLC,mBAAS;AAPJ;AADwB,OAArB,CAAZ;AAWA,8BAAWvB,EAAE,kBAAF,CAAX,EAAiCR,SAAjC;AACD;;;;;kBAxBkBmB,O;;;;;;;;;;ACFrB;;;;;;AAEA,IAAIA,iBAAJ,G","file":"app/js/activity-manage/discuss/index.js","sourcesContent":["export const initEditor = ($item, validator) => {\n  \n  var editor = CKEDITOR.replace('text-content-field', {\n    toolbar: 'Task',\n    fileSingleSizeLimit: app.fileSingleSizeLimit,\n    filebrowserImageUploadUrl: $('#text-content-field').data('imageUploadUrl'),\n    filebrowserFlashUploadUrl: $('#text-content-field').data('flashUploadUrl'),\n    allowedContent: true,\n    height: 300,\n  });\n  \n  editor.on('change', () => {\n    console.log('change');\n    $item.val(editor.getData());\n    if (validator) {\n      validator.form();\n    }\n  });\n\n  //fix ie11 中文输入\n  editor.on('blur', () => {\n    console.log('blur');\n    $item.val(editor.getData());\n    if (validator) {\n      validator.form();\n    }\n  });\n\n  return editor;\n};\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/activity-manage/editor.js","import { initEditor } from '../editor';\n\nexport default class Discuss {\n  constructor(props) {\n    this._init();\n  }\n\n  _init() {\n    this._inItStep2form();\n  }\n\n  _inItStep2form() {\n    var $step2_form = $('#step2-form');\n    var validator = $step2_form.data('validator');\n    validator = $step2_form.validate({\n      rules: {\n        title: {\n          required: true,\n          maxlength: 50,\n          trim: true,\n          course_title: true,\n        },\n        content: 'required',\n      },\n    });\n    initEditor($('[name=\"content\"]'),validator);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/activity-manage/discuss/discuss.js","import Discuss from './discuss';\n\nnew Discuss();\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/activity-manage/discuss/index.js"],"sourceRoot":""}