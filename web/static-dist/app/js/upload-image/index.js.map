{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/upload-image/index.js"],"names":["el","$el","$","cd","upload","on","code","val","message","type","Translator","trans","event","file","src","crop","imageAttr","$this","currentTarget","localStorage","setItem","loading","isFixed","$modal","html","modal","backdrop","keyboard","load","data"],"mappings":";;;;;;;;;;;;;;AAAA,IAAMA,KAAK,kBAAX;AACA,IAAMC,MAAMC,EAAEF,EAAF,CAAZ;AACAG,GAAGC,MAAH,CAAU;AACRJ,MAAIA;AADI,CAAV,EAEGK,EAFH,CAEM,OAFN,EAEe,UAACC,IAAD,EAAU;AACvBL,MAAIM,GAAJ,CAAQ,EAAR;AACA,MAAID,SAAS,iBAAb,EAAgC;AAC9BH,OAAGK,OAAH,CAAW;AACTC,YAAM,QADG;AAETD,eAASE,WAAWC,KAAX,CAAiB,6BAAjB;AAFA,KAAX;AAID,GALD,MAKO,IAAIL,SAAS,iBAAb,EAAgC;AACrCH,OAAGK,OAAH,CAAW;AACTC,YAAM,QADG;AAETD,eAASE,WAAWC,KAAX,CAAiB,iCAAjB;AAFA,KAAX;AAID;AACF,CAfD,EAeGN,EAfH,CAeM,SAfN,EAeiB,UAACO,KAAD,EAAQC,IAAR,EAAcC,GAAd,EAAsB;AACrCX,KAAGY,IAAH,CAAQ;AACNH,gBADM;AAENE;AAFM,GAAR,EAGGT,EAHH,CAGM,SAHN,EAGiB,UAACW,SAAD,EAAe;AAC9B,QAAIC,QAAQf,EAAEU,MAAMM,aAAR,CAAZ;AACAC,iBAAaC,OAAb,CAAqB,iBAArB,EAAwC,yBAAeJ,SAAf,CAAxC;AACA,QAAIK,UAAUlB,GAAGkB,OAAH,CAAW,EAACC,SAAS,IAAV,EAAX,CAAd;AACA,QAAMC,SAASrB,EAAE,QAAF,CAAf;AACAqB,WAAOC,IAAP,CAAYH,OAAZ,EAAqBI,KAArB,CAA2B;AACzBC,gBAAU,QADe;AAEzBC,gBAAU;AAFe,KAA3B,EAGGC,IAHH,CAGQX,MAAMY,IAAN,CAAW,SAAX,CAHR;;AAKAN,WAAOlB,EAAP,CAAU,iBAAV,EAA6B,YAAM;AACjCJ,UAAIM,GAAJ,CAAQ,EAAR;AACD,KAFD;AAGD,GAhBD;AAiBD,CAjCD,E","file":"app/js/upload-image/index.js","sourcesContent":["const el = '.js-upload-input';\nconst $el = $(el);\ncd.upload({\n  el: el,\n}).on('error', (code) => {\n  $el.val('');\n  if (code === 'FILE_SIZE_LIMIT') {\n    cd.message({\n      type: 'danger',\n      message: Translator.trans('uploader.size_2m_limit_hint')\n    });\n  } else if (code === 'FLIE_TYPE_LIMIT') {\n    cd.message({\n      type: 'danger',\n      message: Translator.trans('uploader.type_denied_limit_hint')\n    });\n  }\n}).on('success', (event, file, src) => {\n  cd.crop({\n    event,\n    src,\n  }).on('success', (imageAttr) => {\n    let $this = $(event.currentTarget);\n    localStorage.setItem('crop_image_attr', JSON.stringify(imageAttr));\n    let loading = cd.loading({isFixed: true});\n    const $modal = $('#modal');\n    $modal.html(loading).modal({\n      backdrop: 'static',\n      keyboard: false\n    }).load($this.data('saveUrl'));\n\n    $modal.on('hidden.bs.modal', () => {\n      $el.val('');\n    })\n  });\n});\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/upload-image/index.js"],"sourceRoot":""}