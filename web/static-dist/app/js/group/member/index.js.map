{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/group/member/member.js","webpack:///./app/Resources/static-src/app/js/group/member/index.js"],"names":["Member","$group","$","init","bindEvent","on","deleteMember","removeAdminer","setAdminer","tip","choose","confirm","error","url","attr","$memberForm","adminerOperated","$adminForm","$dom","flag","length","alert","Translator","trans","post","serialize","successMessage","cd","message","type","setTimeout","window","location","reload"],"mappings":";;;;;;;;;;;;;;;;;;;;;;IAAqBA,M;AACnB,oBAAc;AAAA;;AACZ,SAAKC,MAAL,GAAcC,EAAE,mBAAF,CAAd;AACA,SAAKC,IAAL;AACD;;;;2BAEM;AACL,WAAKC,SAAL;AACD;;;gCAEW;AAAA;;AACV,WAAKH,MAAL,CAAYI,EAAZ,CAAe,OAAf,EAAwB,aAAxB,EAAuC;AAAA,eAAM,MAAKC,YAAL,EAAN;AAAA,OAAvC;AACA,WAAKL,MAAL,CAAYI,EAAZ,CAAe,OAAf,EAAwB,mBAAxB,EAA6C;AAAA,eAAM,MAAKE,aAAL,EAAN;AAAA,OAA7C;AACA,WAAKN,MAAL,CAAYI,EAAZ,CAAe,OAAf,EAAwB,gBAAxB,EAA0C;AAAA,eAAM,MAAKG,UAAL,EAAN;AAAA,OAA1C;AACD;;;iCAEY;AACX,UAAMC,MAAM;AACVC,gBAAQ,yCADE;AAEVC,iBAAS,6CAFC;AAGVC,eAAO;AAHG,OAAZ;AAKA,UAAMC,MAAMX,EAAE,gBAAF,EAAoBY,IAApB,CAAyB,OAAzB,CAAZ;AACA,UAAMC,cAAcb,EAAE,cAAF,CAApB;AACA,WAAKc,eAAL,CAAqBP,GAArB,EAA0BI,GAA1B,EAA+BE,WAA/B;AACD;;;oCAEe;AACd,UAAMN,MAAM;AACVC,gBAAQ,yCADE;AAEVC,iBAAS,uCAFC;AAGVC,eAAO;AAHG,OAAZ;AAKA,UAAMC,MAAMX,EAAE,aAAF,EAAiBY,IAAjB,CAAsB,QAAtB,CAAZ;AACA,UAAMG,aAAaf,EAAE,aAAF,CAAnB;AACA,WAAKc,eAAL,CAAqBP,GAArB,EAA0BI,GAA1B,EAA+BI,UAA/B;AACD;;;mCAEc;AACb,UAAMR,MAAM;AACVC,gBAAQ,yCADE;AAEVC,iBAAS,iCAFC;AAGVC,eAAO;AAHG,OAAZ;AAKA,UAAMC,MAAMX,EAAE,cAAF,EAAkBY,IAAlB,CAAuB,QAAvB,CAAZ;AACA,UAAMC,cAAcb,EAAE,cAAF,CAApB;AACA,WAAKc,eAAL,CAAqBP,GAArB,EAA0BI,GAA1B,EAA+BE,WAA/B,EAA4C,IAA5C;AACD;;;oCAEeN,G,EAAKI,G,EAAKK,I,EAAMC,I,EAAM;AACpC,UAAIjB,EAAE,mBAAF,EAAuBkB,MAAvB,GAAgC,CAApC,EAAuC;AACrCC,cAAMC,WAAWC,KAAX,CAAiBd,IAAIC,MAArB,CAAN;AACA,eAAO,KAAP;AACD;AACD,UAAI,CAACC,QAAQW,WAAWC,KAAX,CAAiBd,IAAIE,OAArB,CAAR,CAAL,EAA6C;AAC3C,eAAO,KAAP;AACD;AACDT,QAAEsB,IAAF,CAAOX,GAAP,EAAYK,KAAKO,SAAL,EAAZ,EAA8B,YAAM;AAClC,YAAIC,iBAAiBP,OAAO,0BAAP,GAAoC,wBAAzD;AACAQ,WAAGC,OAAH,CAAW,EAAEC,MAAM,SAAR,EAAmBD,SAASN,WAAWC,KAAX,CAAiBG,cAAjB,CAA5B,EAAX;AACAI,mBAAW,YAAW;AAAEC,iBAAOC,QAAP,CAAgBC,MAAhB;AAA2B,SAAnD,EAAqD,IAArD;AACD,OAJD,EAIGrB,KAJH,CAIS,YAAM;AACbe,WAAGC,OAAH,CAAW,EAAEC,MAAM,QAAR,EAAkBD,SAASN,WAAWC,KAAX,CAAiBd,IAAIG,KAArB,CAA3B,EAAX;AACD,OAND;AAOD;;;;;kBAhEkBZ,M;;;;;;;;;;ACArB;;;;;;AACA,IAAIA,gBAAJ,G","file":"app/js/group/member/index.js","sourcesContent":["export default class Member {\n  constructor() {\n    this.$group = $('.js-group-section');\n    this.init();\n  }\n\n  init() {\n    this.bindEvent();\n  }\n\n  bindEvent() {\n    this.$group.on('click', '#delete-btn', () => this.deleteMember());\n    this.$group.on('click', '#remove-admin-btn', () => this.removeAdminer());\n    this.$group.on('click', '#set-admin-btn', () => this.setAdminer());\n  }\n\n  setAdminer() {\n    const tip = {\n      choose: 'group.manage.choose_setting_member_hint',\n      confirm: 'group.manage.setting_member_permission_hint',\n      error: 'site.save_error_hint',\n    };\n    const url = $('#set-admin-url').attr('value');\n    const $memberForm = $('#member-form');\n    this.adminerOperated(tip ,url, $memberForm);\n  }\n\n  removeAdminer() {\n    const tip = {\n      choose: 'group.manage.choose_setting_member_hint',\n      confirm: 'group.manage.cancel_member_permission',\n      error: 'site.save_error_hint',\n    };\n    const url = $('#admin-form').attr('action');\n    const $adminForm = $('#admin-form');\n    this.adminerOperated(tip, url, $adminForm);\n  }\n\n  deleteMember() {\n    const tip = {\n      choose: 'group.manage.delete_required_error_hint',\n      confirm: 'group.manage.delete_member_hint',\n      error: 'site.delete_fail_hint',\n    };\n    const url = $('#member-form').attr('action');\n    const $memberForm = $('#member-form');\n    this.adminerOperated(tip, url, $memberForm, true);\n  }\n\n  adminerOperated(tip, url, $dom, flag) {\n    if ($(':checkbox:checked').length < 1) {\n      alert(Translator.trans(tip.choose));\n      return false;\n    }\n    if (!confirm(Translator.trans(tip.confirm))) {\n      return false;\n    }\n    $.post(url, $dom.serialize(), () => {\n      let successMessage = flag ? 'site.delete_success_hint' : 'site.save_success_hint';\n      cd.message({ type: 'success', message: Translator.trans(successMessage) });\n      setTimeout(function() { window.location.reload(); }, 1500);\n    }).error(() => {\n      cd.message({ type: 'danger', message: Translator.trans(tip.error) });\n    });\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/group/member/member.js","import Member from './member';\nnew Member();\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/group/member/index.js"],"sourceRoot":""}