{"version":3,"sources":["webpack:///external \"jQuery\"","webpack:///./app/Resources/static-src/app/js/activity-manage/ppt/ppt.js","webpack:///./app/Resources/static-src/app/js/activity-manage/ppt/index.js"],"names":["PPT","$mediaId","$","validator3","init","initStep2Form","initSelect","initFileChooser","$step2_form","validator","data","validate","rules","title","required","maxlength","trim","course_title","mediaId","messages","Translator","trans","$step3_form","finishDetail","children","val","positive_integer","max","min","fileChooser","FileChooser","on","file","id","valid","$select","initStep3Form","conditionsType","event","currentTarget","$conditionsDetail","addClass","removeClass"],"mappings":";;;;;AAAA,wB;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;;AACA;;;;IAEqBA,G;AACnB,iBAAc;AAAA;;AACZ,SAAKC,QAAL,GAAgBC,EAAE,kBAAF,CAAhB;AACA,SAAKC,UAAL,GAAkB,IAAlB;AACA,SAAKC,IAAL;AACD;;;;2BACM;AACL,sCAAgB,KAAKH,QAArB;AACA,WAAKI,aAAL;AACA,WAAKC,UAAL;AACA,WAAKC,eAAL;AACD;;;oCAEe;AACd,UAAIC,cAAcN,EAAE,aAAF,CAAlB;AACA,UAAIO,YAAYD,YAAYE,IAAZ,CAAiB,WAAjB,CAAhB;AACAD,kBAAYD,YAAYG,QAAZ,CAAqB;AAC/BC,eAAO;AACLC,iBAAO;AACLC,sBAAU,IADL;AAELC,uBAAW,EAFN;AAGLC,kBAAM,IAHD;AAILC,0BAAc;AAJT,WADF;AAOLC,mBAAS;AAPJ,SADwB;AAU/BC,kBAAU;AACRD,mBAAS;AACPJ,sBAAUM,WAAWC,KAAX,CAAiB,sCAAjB;AADH;AADD;AAVqB,OAArB,CAAZ;AAgBD;;;oCAEe;AACd,UAAIC,cAAcpB,EAAE,aAAF,CAAlB;AACA,WAAKC,UAAL,GAAkBmB,YAAYX,QAAZ,CAAqB;AACrCC,eAAO;AACLW,wBAAc;AACZT,sBAAU,oBAAK;AACb,qBAAOZ,EAAE,mBAAF,EAAuBsB,QAAvB,CAAgC,iBAAhC,EAAmDC,GAAnD,OAA6D,MAApE;AACD,aAHW;AAIZC,8BAAkB,IAJN;AAKZC,iBAAK,GALO;AAMZC,iBAAK;AANO;AADT,SAD8B;AAWrCT,kBAAU;AACRI,wBAAc;AACZT,sBAAUM,WAAWC,KAAX,CAAiB,uDAAjB;AADE;AADN;AAX2B,OAArB,CAAlB;AAiBAC,kBAAYZ,IAAZ,CAAiB,WAAjB,EAA8B,KAAKP,UAAnC;AACD;;;sCAEiB;AAAA;;AAChB,UAAI0B,cAAc,IAAIC,oBAAJ,EAAlB;;AAEAD,kBAAYE,EAAZ,CAAe,QAAf,EAAyB,UAACC,IAAD,EAAU;AACjC;AACA,cAAK/B,QAAL,CAAcwB,GAAd,CAAkBO,KAAKC,EAAvB;AACA/B,UAAE,aAAF,EAAiBgC,KAAjB;AACAhC,UAAE,gBAAF,EAAoBuB,GAApB,CAAwB,yBAAeO,IAAf,CAAxB;AACD,OALD;AAMD;;;iCAEY;AAAA;;AACX,UAAIG,UAAUjC,EAAE,mBAAF,CAAd;AACA,UAAIiC,QAAQX,QAAR,CAAiB,iBAAjB,EAAoCC,GAApC,OAA8C,MAAlD,EAA0D;AACxD,aAAKW,aAAL;AACD;;AAEDD,cAAQJ,EAAR,CAAW,QAAX,EAAqB,iBAAS;AAC5B,YAAIM,iBAAiBnC,EAAEoC,MAAMC,aAAR,EAAuBf,QAAvB,CAAgC,iBAAhC,EAAmDC,GAAnD,EAArB;AACA,YAAIe,oBAAoBtC,EAAE,kBAAF,CAAxB;AACA,YAAImC,mBAAmB,MAAvB,EAA+B;AAC7BG,4BAAkBC,QAAlB,CAA2B,QAA3B;AACA;AACD,SAHD,MAGM;AACJD,4BAAkBE,WAAlB,CAA8B,QAA9B;AACD;AACD,YAAG,CAAC,OAAKvC,UAAT,EAAqB;AACnB,iBAAKiC,aAAL;AACD;AACF,OAZD;AAaD;;;;;kBAtFkBpC,G;;;;;;;;;;ACHrB;;;;;;AAEA,IAAIA,aAAJ,G","file":"app/js/activity-manage/ppt/index.js","sourcesContent":["module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 0\n// module chunks = app/js/main app/js/v2/demo/index app/js/activity-manage/doc/index app/js/activity-manage/download/index app/js/activity-manage/flash/index app/js/activity-manage/homework/index app/js/activity-manage/ppt/index app/js/activity-manage/video/index app/js/article/detail/index app/js/attachment/index app/js/auth/captcha-modal/index app/js/auth/password-reset/index app/js/auth/register/index app/js/batch-upload/index app/js/card/card-receive/index app/js/card/index/index app/js/cashier/index app/js/cashier/modal/index app/js/classroom-manage/set-picture/index app/js/classroom-manage/student-expiryday/index app/js/classroom-manage/student-import/index app/js/classroom-manage/students-create/index app/js/classroom-manage/students-manage/index app/js/classroom/buy-modal/index app/js/classroom/index app/js/classroom/thread-form/index app/js/classroom/thread-show/index app/js/coin/invite-code/index app/js/course-chapter-manage/index app/js/course-manage-file/index/index app/js/course-manage/batch-create/index app/js/course-manage/lesson-manage/default/index app/js/course-manage/lesson-manage/normal/index app/js/course-manage/live-replay/upload/index app/js/course-manage/overview/index app/js/course-manage/student-import/index app/js/course/buy-modal/index app/js/course/thread-show/index app/js/courseset/show/index app/js/exporter/index app/js/group/index app/js/group/logo/index app/js/group/thread-add/index app/js/live-course/explore/index app/js/material-lib/index/index app/js/material-lib/share-history/index app/js/media-manage/index app/js/activity-manage/audio/index app/js/mobile-bind/index app/js/my/order-refund-apply/index app/js/my/order-refund/index app/js/my/order/index app/js/oauth2/create/index app/js/open-course-manage/add-material/index app/js/open-course-manage/lesson-modal/index app/js/open-course/index app/js/open-course/member-sms/index app/js/order/coupon-item/index app/js/order/create-sms/index app/js/order/create/index app/js/pay/select/index app/js/pay/show-mobile-modal/index app/js/player/index app/js/question-manage/form/index app/js/review/list/index app/js/search/index app/js/settings/avatar-crop-modal/index app/js/settings/bind-mobile/index app/js/settings/email/index app/js/settings/find_pay_password_by_sms/index app/js/settings/find-pay-password/index app/js/settings/password/index app/js/settings/pay-password-modal/index app/js/settings/pay-password/index app/js/settings/profile/index app/js/settings/reset-pay-password/index app/js/settings/security-questions/index app/js/settings/security/index app/js/settings/setup-password/index app/js/settings/setup/index app/js/settings/update-pay-password/index app/js/settings/user-profile/index app/js/subject/index app/js/task-manage/create/index app/js/task/plugin/note/index app/js/task/plugin/question/index app/js/testpaper-manage/create/index app/js/testpaper-manage/index app/js/testpaper-manage/questions/index app/js/testpaper/do-test/exercise/index app/js/testpaper/do-test/normal/index app/js/testpaper/result/index app/js/thread/user-info-modal/index app/js/user/fill-info/index app/js/message/show/index","import FileChooser from 'app/js/file-chooser/file-choose';\nimport { chooserUiOpen, chooserUiClose, showChooserType } from '../widget/chooser-ui.js';\n\nexport default class PPT {\n  constructor() {\n    this.$mediaId = $('[name=\"mediaId\"]');\n    this.validator3 = null;\n    this.init();\n  }\n  init() {\n    showChooserType(this.$mediaId);\n    this.initStep2Form();\n    this.initSelect();\n    this.initFileChooser();\n  }\n\n  initStep2Form() {\n    var $step2_form = $('#step2-form');\n    var validator = $step2_form.data('validator');\n    validator = $step2_form.validate({\n      rules: {\n        title: {\n          required: true,\n          maxlength: 50,\n          trim: true,\n          course_title: true,\n        },\n        mediaId: 'required',\n      },\n      messages: {\n        mediaId: {\n          required: Translator.trans('activity.ppt_manage.media_error_hint')\n        }\n      }\n    });\n  }\n\n  initStep3Form() {\n    var $step3_form = $('#step3-form');\n    this.validator3 = $step3_form.validate({\n      rules: {\n        finishDetail: {\n          required: ()=> {\n            return $('#condition-select').children('option:selected').val() === 'time';\n          },\n          positive_integer: true,\n          max: 300,\n          min: 1,\n        },\n      },\n      messages: {\n        finishDetail: {\n          required: Translator.trans('activity.ppt_manage.finish_detail_required_error_hint'),\n        },\n      }\n    });\n    $step3_form.data('validator', this.validator3);\n  }\n\n  initFileChooser() {\n    let fileChooser = new FileChooser();\n\n    fileChooser.on('select', (file) => {\n      chooserUiClose();\n      this.$mediaId.val(file.id);\n      $('#step2-form').valid();\n      $('[name=\"media\"]').val(JSON.stringify(file));\n    });\n  }\n\n  initSelect() {\n    let $select = $('#condition-select');\n    if ($select.children('option:selected').val() === 'time') {\n      this.initStep3Form();\n    }\n\n    $select.on('change', event => {\n      let conditionsType = $(event.currentTarget).children('option:selected').val();\n      let $conditionsDetail = $('#condition-group');\n      if (conditionsType !== 'time') {\n        $conditionsDetail.addClass('hidden');\n        return;\n      }else {\n        $conditionsDetail.removeClass('hidden');\n      }\n      if(!this.validator3) {\n        this.initStep3Form();\n      }\n    });\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/activity-manage/ppt/ppt.js","import PPT from './ppt';\n\nnew PPT();\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/activity-manage/ppt/index.js"],"sourceRoot":""}