{"version":3,"sources":["webpack:///external \"jQuery\"","webpack:///./app/Resources/static-src/app/js/group/index.js","webpack:///./app/Resources/static-src/app/js/group/thread-opreate.js","webpack:///./app/Resources/static-src/app/js/group/editor.js"],"names":["checkUrl","url","hrefArray","split","addBtnClicked","$","on","$this","post","data","hide","hasClass","parent","find","show","tooltip","length","postId","attr","fromUserId","html","focus","val","Translator","trans","fromUserIdNosubVal","css","animate","scrollTop","offset","top","replaceWith","addClass","$trigger","confirm","window","location","href","reload","initThread","btn","$form","AttachmentActions","toolbar","replace","formValidator","validate","currentDom","ajax","rules","required","minlength","trim","submitSuccess","console","log","click","form","initThreadReplay","$forms","each","content","ignore","submitHandler","$replyBtn","fromUserIdVal","button","cache","async","type","dataType","success","error","parseJSON","responseText","message","removeClass","e","initEditor","options","editor","CKEDITOR","fileSingleSizeLimit","app","filebrowserImageUploadUrl","allowedContent","height","getData"],"mappings":"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","file":"app/js/group/index.js","sourcesContent":["module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 0\n// module chunks = app/js/main app/js/v2/demo/index app/js/activity-manage/doc/index app/js/activity-manage/download/index app/js/activity-manage/flash/index app/js/activity-manage/homework/index app/js/activity-manage/ppt/index app/js/activity-manage/video/index app/js/article/detail/index app/js/attachment/index app/js/auth/captcha-modal/index app/js/auth/password-reset/index app/js/auth/register/index app/js/batch-upload/index app/js/card/card-receive/index app/js/card/index/index app/js/cashier/index app/js/cashier/modal/index app/js/classroom-manage/set-picture/index app/js/classroom-manage/student-expiryday/index app/js/classroom-manage/student-import/index app/js/classroom-manage/students-create/index app/js/classroom-manage/students-manage/index app/js/classroom/buy-modal/index app/js/classroom/index app/js/classroom/thread-form/index app/js/classroom/thread-show/index app/js/coin/invite-code/index app/js/course-chapter-manage/index app/js/course-manage-file/index/index app/js/course-manage/batch-create/index app/js/course-manage/lesson-manage/default/index app/js/course-manage/lesson-manage/normal/index app/js/course-manage/live-replay/upload/index app/js/course-manage/overview/index app/js/course-manage/student-import/index app/js/course/buy-modal/index app/js/course/thread-show/index app/js/courseset/show/index app/js/exporter/index app/js/group/index app/js/group/logo/index app/js/group/thread-add/index app/js/live-course/explore/index app/js/material-lib/index/index app/js/material-lib/share-history/index app/js/media-manage/index app/js/activity-manage/audio/index app/js/mobile-bind/index app/js/my/order-refund-apply/index app/js/my/order-refund/index app/js/my/order/index app/js/oauth2/create/index app/js/open-course-manage/add-material/index app/js/open-course-manage/lesson-modal/index app/js/open-course/index app/js/open-course/member-sms/index app/js/order/coupon-item/index app/js/order/create-sms/index app/js/order/create/index app/js/pay/select/index app/js/pay/show-mobile-modal/index app/js/player/index app/js/question-manage/form/index app/js/review/list/index app/js/search/index app/js/settings/avatar-crop-modal/index app/js/settings/bind-mobile/index app/js/settings/email/index app/js/settings/find_pay_password_by_sms/index app/js/settings/find-pay-password/index app/js/settings/password/index app/js/settings/pay-password-modal/index app/js/settings/pay-password/index app/js/settings/profile/index app/js/settings/reset-pay-password/index app/js/settings/security-questions/index app/js/settings/security/index app/js/settings/setup-password/index app/js/settings/setup/index app/js/settings/update-pay-password/index app/js/settings/user-profile/index app/js/subject/index app/js/task-manage/create/index app/js/task/plugin/note/index app/js/task/plugin/question/index app/js/testpaper-manage/create/index app/js/testpaper-manage/index app/js/testpaper-manage/questions/index app/js/testpaper/do-test/exercise/index app/js/testpaper/do-test/normal/index app/js/testpaper/result/index app/js/thread/user-info-modal/index app/js/user/fill-info/index app/js/message/show/index","import notify from 'common/notify';\nimport { initThread, initThreadReplay } from './thread-opreate';\n\ninitThread();\ninitThreadReplay();\n\n//@TODO等待整理迁移\nfunction checkUrl(url) {\n  let hrefArray = url.split('#');\n  hrefArray = hrefArray[0].split('?');\n  return hrefArray[1];\n}\n\nlet addBtnClicked = false;\n\n$('#thread-list').on('click', '.uncollect-btn, .collect-btn', function () {\n  let $this = $(this);\n\n  $.post($this.data('url'), function () {\n    $this.hide();\n    if ($this.hasClass('collect-btn')) {\n      $this.parent().find('.uncollect-btn').show();\n    } else {\n      $this.parent().find('.collect-btn').show();\n    }\n  });\n});\n\n$('.attach').tooltip();\n\nif ($('.group-post-list').length > 0) {\n  $('.group-post-list').on('click', '.li-reply', function () {\n    var postId = $(this).attr('postId');\n    var fromUserId = $(this).data('fromUserId');\n    $('#fromUserIdDiv').html('<input type=\"hidden\" id=\"fromUserId\" value=\"' + fromUserId + '\">');\n    $('#li-' + postId).show();\n    $('#reply-content-' + postId).focus();\n    $('#reply-content-' + postId).val(Translator.trans('group.post.reply_hint') + ' ' + $(this).attr('postName') + ':');\n\n  });\n\n  $('.group-post-list').on('click', '.reply', function () {\n    var postId = $(this).attr('postId');\n    if ($(this).data('fromUserIdNosub') != '') {\n\n      var fromUserIdNosubVal = $(this).data('fromUserIdNosub');\n      $('#fromUserIdNoSubDiv').html('<input type=\"hidden\" id=\"fromUserIdNosub\" value=\"' + fromUserIdNosubVal + '\">');\n      $('#fromUserIdDiv').html('');\n\n    }\n\n    $(this).hide();\n    $('#unreply-' + postId).show();\n    $('.reply-' + postId).css('display', '');\n  });\n\n  $('.group-post-list').on('click', '.unreply', function () {\n    var postId = $(this).attr('postId');\n\n    $(this).hide();\n    $('#reply-' + postId).show();\n    $('.reply-' + postId).css('display', 'none');\n\n  });\n\n  $('.group-post-list').on('click', '.replyToo', function () {\n    var postId = $(this).attr('postId');\n    if ($(this).attr('data-status') == 'hidden') {\n      $(this).attr('data-status', '');\n      $('#li-' + postId).show();\n      $('#reply-content-' + postId).focus();\n      $('#reply-content-' + postId).val('');\n\n    } else {\n      $('#li-' + postId).hide();\n      $(this).attr('data-status', 'hidden');\n    }\n\n  });\n\n  $('.group-post-list').on('click', '.lookOver', function () {\n\n    var postId = $(this).attr('postId');\n    $('.li-reply-' + postId).css('display', '');\n    $('.lookOver-' + postId).hide();\n    $('.paginator-' + postId).css('display', '');\n\n  });\n\n  $('.group-post-list').on('click', '.postReply-page', function () {\n\n    var postId = $(this).attr('postId');\n    $.post($(this).data('url'), '', function (html) {\n\n      $('body,html').animate({\n        scrollTop: $('#post-' + postId).offset().top,\n      }, 300), !1;\n\n      $('.reply-post-list-' + postId).replaceWith(html);\n\n    });\n\n  });\n\n}\n\nif ($('#hasAttach').length > 0) {\n\n  $('.ke-icon-accessory').addClass('ke-icon-accessory-red');\n\n}\n\nif ($('#post-action').length > 0) {\n\n  $('#post-action').on('click', '#closeThread', function () {\n\n    var $trigger = $(this);\n    if (!confirm($trigger.attr('title') + '?')) {\n      return false;\n    }\n\n    $.post($trigger.data('url'), function (data) {\n\n      window.location.href = data;\n\n    });\n  });\n\n  $('#post-action').on('click', '#elite,#stick,#cancelReward', function () {\n\n    var $trigger = $(this);\n\n    $.post($trigger.data('url'), function (data) {\n      window.location.href = data;\n    });\n  });\n\n}\n\nif ($('.actions').length > 0) {\n\n  $('.group-post-list').on('click', '.post-delete-btn,.post-adopt-btn', function () {\n\n    var $trigger = $(this);\n    if (!confirm($trigger.attr('title') + '?')) {\n      return false;\n    }\n\n    $.post($trigger.data('url'), function () {\n      window.location.reload();\n    });\n  });\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/group/index.js","import { initEditor } from './editor';\nimport notify from 'common/notify';\nimport AttachmentActions from 'app/js/attachment/widget/attachment-actions';\n\nexport const initThread = () => {\n  let btn = '#post-thread-btn';\n  let $form = $('#post-thread-form');\n  new AttachmentActions($form);\n\n  if($('#post_content').length) {\n    initEditor({\n      toolbar: 'Thread',\n      replace: 'post_content'\n    });\n  }\n\n  let formValidator = $form.validate({\n    currentDom: btn,\n    ajax: true,\n    rules: {\n      'content': {\n        required: true,\n        minlength: 2,\n        trim: true\n      }\n    },\n    submitSuccess: function (data) {\n      console.log(data);\n      if (data == '/login') {\n        window.location.href = data;\n        return;\n      }\n      // @TODO优化不刷新页面\n      window.location.reload();\n    },\n  });\n  $(btn).click(() => {\n    formValidator.form();\n  });\n};\n\nexport const initThreadReplay = () => {\n  let $forms = $('.thread-post-reply-form');\n  $forms.each(function () {\n    let $form = $(this);\n    let content = $form.find('textarea').attr('name');\n    let formValidator = $form.validate({\n      ignore: '',\n      rules: {\n        [`${content}`]: {\n          required: true,\n          minlength: 2,\n          trim: true\n        }\n      },\n      submitHandler: function (form) {\n        // @TODO优化全局的submitHandler方法，提交统一方式；\n        var $replyBtn = $(form).find('.reply-btn');\n        var postId = $replyBtn.attr('postId');\n        var fromUserIdVal = '';\n        if ($('#fromUserId').length > 0) {\n          fromUserIdVal = $('#fromUserId').val();\n        } else {\n          if ($('#fromUserIdNosub').length > 0) {\n            fromUserIdVal = $('#fromUserIdNosub').val();\n          } else {\n            fromUserIdVal = '';\n          }\n        }\n        $replyBtn.button('submiting').addClass('disabled');\n        console.log($(form).attr('action'));\n        console.log('content=' + $(form).find('textarea').val() + '&' + 'postId=' + postId + '&' + 'fromUserId=' + fromUserIdVal);\n        $.ajax({\n          url: $(form).attr('action'),\n          data: 'content=' + $(form).find('textarea').val() + '&' + 'postId=' + postId + '&' + 'fromUserId=' + fromUserIdVal,\n          cache: false,\n          async: false,\n          type: 'POST',\n          dataType: 'text',\n          success: function (url) {\n            if (url == '/login') {\n              window.location.href = url;\n              return;\n            }\n            // @TODO优化不刷新页面\n            window.location.reload();\n          },\n          error: function (data) {\n            data = $.parseJSON(data.responseText);\n            if (data.error) {\n              notify('danger',data.error.message);\n            } else {\n              notify('danger',Translator.trans('group.post.reply_fail_hint'));\n            }\n            $replyBtn.button('reset').removeClass('disabled');\n          }\n        });\n      }\n    });\n    $form.find('button').click((e) => {\n      formValidator.form();\n    });\n  });\n};\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/group/thread-opreate.js","export let initEditor = (options) => {\n  var editor = CKEDITOR.replace(options.replace, {\n    toolbar: options.toolbar,\n    fileSingleSizeLimit: app.fileSingleSizeLimit,\n    filebrowserImageUploadUrl: $('#' + options.replace).data('imageUploadUrl'),\n    allowedContent: true,\n    height: 300\n  });\n  editor.on('change', () => {\n    $('#' + options.replace).val(editor.getData());\n  });\n  editor.on('blur', () => {\n    $('#' + options.replace).val(editor.getData());\n  });\n};\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/group/editor.js"],"sourceRoot":""}