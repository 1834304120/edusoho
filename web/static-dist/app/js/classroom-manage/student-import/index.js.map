{"version":3,"sources":["webpack:///external \"jQuery\"","webpack:///./app/Resources/static-src/app/js/classroom-manage/student-import/index.js","webpack:///./app/Resources/static-src/app/common/importer/progress.js","webpack:///./app/Resources/static-src/app/common/importer/index.js"],"names":["Importer","rules","maxlength","currency","Progress","props","importData","$container","quantity","successCount","total","checkType","chunkSize","chunkData","data","type","formData","length","forEach","value","index","i","Math","floor","push","init","import","events","on","onFinish","event","$this","$","currentTarget","button","window","location","reload","find","css","removeClass","addClass","text","Translator","trans","progress","parseInt","onComplate","post","then","res","onProgress","onError","container","form","confirmEl","progressEl","progressTemplate","verifyBtn","importBtn","$form","$progressTemplate","onSelectFile","onVerify","onReSelect","onImport","filename","val","self","validatior","validate","submitHandler","$btn","serializeArray","ajax","url","attr","processData","contentType","cache","FormData","done","status","eventType","charAt","toUpperCase","substr","console","log","fail","submit","remove","show","message","source","errors","errorInfo","map","item","error","addTemplate","template","Handlebars","compile","result","hide","append","html"],"mappings":"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","file":"app/js/classroom-manage/student-import/index.js","sourcesContent":["module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 0\n// module chunks = app/js/main app/js/v2/demo/index app/js/activity-manage/doc/index app/js/activity-manage/download/index app/js/activity-manage/flash/index app/js/activity-manage/homework/index app/js/activity-manage/ppt/index app/js/activity-manage/video/index app/js/article/detail/index app/js/attachment/index app/js/auth/captcha-modal/index app/js/auth/password-reset/index app/js/auth/register/index app/js/batch-upload/index app/js/card/card-receive/index app/js/card/index/index app/js/cashier/index app/js/cashier/modal/index app/js/classroom-manage/set-picture/index app/js/classroom-manage/student-expiryday/index app/js/classroom-manage/student-import/index app/js/classroom-manage/students-create/index app/js/classroom-manage/students-manage/index app/js/classroom/buy-modal/index app/js/classroom/index app/js/classroom/thread-form/index app/js/classroom/thread-show/index app/js/coin/invite-code/index app/js/course-chapter-manage/index app/js/course-manage-file/index/index app/js/course-manage/batch-create/index app/js/course-manage/lesson-manage/default/index app/js/course-manage/lesson-manage/normal/index app/js/course-manage/live-replay/upload/index app/js/course-manage/overview/index app/js/course-manage/student-import/index app/js/course/buy-modal/index app/js/course/thread-show/index app/js/courseset/show/index app/js/exporter/index app/js/group/index app/js/group/logo/index app/js/group/thread-add/index app/js/live-course/explore/index app/js/material-lib/index/index app/js/material-lib/share-history/index app/js/media-manage/index app/js/activity-manage/audio/index app/js/mobile-bind/index app/js/my/order-refund-apply/index app/js/my/order-refund/index app/js/my/order/index app/js/oauth2/create/index app/js/open-course-manage/add-material/index app/js/open-course-manage/lesson-modal/index app/js/open-course/index app/js/open-course/member-sms/index app/js/order/coupon-item/index app/js/order/create-sms/index app/js/order/create/index app/js/pay/select/index app/js/pay/show-mobile-modal/index app/js/player/index app/js/question-manage/form/index app/js/review/list/index app/js/search/index app/js/settings/avatar-crop-modal/index app/js/settings/bind-mobile/index app/js/settings/email/index app/js/settings/find_pay_password_by_sms/index app/js/settings/find-pay-password/index app/js/settings/password/index app/js/settings/pay-password-modal/index app/js/settings/pay-password/index app/js/settings/profile/index app/js/settings/reset-pay-password/index app/js/settings/security-questions/index app/js/settings/security/index app/js/settings/setup-password/index app/js/settings/setup/index app/js/settings/update-pay-password/index app/js/settings/user-profile/index app/js/subject/index app/js/task-manage/create/index app/js/task/plugin/note/index app/js/task/plugin/question/index app/js/testpaper-manage/create/index app/js/testpaper-manage/index app/js/testpaper-manage/questions/index app/js/testpaper/do-test/exercise/index app/js/testpaper/do-test/normal/index app/js/testpaper/result/index app/js/thread/user-info-modal/index app/js/user/fill-info/index app/js/message/show/index","import Importer from 'app/common/importer';\n\nnew Importer({\n  rules: {\n    'remark': {\n      maxlength: 50,\n    },\n    'price': {\n      currency: true\n    }\n  }\n});\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/classroom-manage/student-import/index.js","class Progress {\n  constructor(props) {\n    Object.assign(this, {\n      importData: [],\n      $container: null,\n      quantity: 0,\n      successCount:0,\n      total: 0,\n      checkType: 'ignore',\n      chunkSize: 8,\n      chunkData: []\n    }, props);\n\n    this.data = Object.assign({\n      checkType: this.checkType,\n      type: this.$container.data('type'),\n      importData: []\n    }, this.formData);\n\n    this.total = this.importData.length;\n\n    this.importData.forEach((value, index) => {\n      let i = Math.floor(index / this.chunkSize);\n      if (this.chunkData[i]) {\n        this.chunkData[i].push(value);\n      } else {\n        this.chunkData[i] = [];\n        this.chunkData[i][0] = value;\n      }\n    });\n\n    this.init();\n  }\n\n  init() {\n    this.import(0);\n    this.events();\n  }\n\n  events() {\n    this.$container.on('click', '.js-import-finish-btn', event => this.onFinish(event));\n  }\n\n  onFinish(event) {\n    let $this = $(event.currentTarget);\n    $this.button('loading');\n    window.location.reload();\n  }\n\n  onError() {\n    this.$container.find('.progress-bar').css('width', '100%')\n      .removeClass('progress-bar-success')\n      .addClass('progress-bar-danger');\n\n    this.$container.find('.progress-text').text(Translator.trans('importer.import_error')).removeClass('text-success').addClass('text-danger');\n    this.$container.find('.js-import-finish-btn').removeClass('hidden').text(Translator.trans('importer.import_reselect_btn'));\n  }\n\n  onProgress() {\n    let progress = parseInt(this.quantity / this.total * 100) + '%';\n\n    this.$container.find('.progress-bar').css('width', progress);\n    this.$container.find('.progress-text').text(Translator.trans('importer.import_progress_data', {'number': this.quantity}));\n    this.$container.find('.js-import-progress-text').removeClass('hidden');\n  }\n\n  onComplate() {\n    this.$container.find('.progress-bar').css('width', '100%');\n    this.$container.find('.progress-text').text(Translator.trans('importer.import_finish_data', {'number': this.successCount}));\n    this.$container.find('.js-import-progress-text').addClass('hidden');\n    this.$container.find('.js-import-finish-btn').removeClass('hidden');\n  }\n\n  import(index) {\n    if (!this.chunkData[index]) {\n      this.onComplate();\n      return;\n    }\n\n    this.data.importData = this.chunkData[index];\n    $.post(this.$container.data('importUrl'), this.data).then((res) => {\n      if(res.successCount){\n          this.successCount = this.successCount + res.successCount;\n      }\n      this.quantity = this.quantity + this.chunkData[index].length;\n      this.onProgress();\n      this.import(index + 1);\n    }, (res) => {\n      this.onError();\n    });\n  }\n}\n\nexport default Progress;\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/common/importer/progress.js","import notify from 'common/notify';\nimport { arrayToJson } from 'common/utils';\nimport Progress from './progress';\n\nclass Importer {\n  constructor(props) {\n    Object.assign(this, {\n      container: '#importer-app',\n\n      form: '#importer-form',\n      confirmEl: '#importer-confirm',\n      progressEl: '#importer-progress',\n      progressTemplate: '#importer-progress-template',\n\n      verifyBtn: '#import-verify-btn',\n      importBtn: '#import-btn',\n\n      rules: {},\n      importData: [],\n      formData: {},\n    }, props);\n\n    this.$container = $(this.container);\n    this.$form = $(this.form);\n    this.$progressTemplate = $(this.progressTemplate);\n\n    this.init();\n  }\n  \n  init() {\n    this.events();\n  }\n\n  events() {\n    this.$container.on('change', 'input[type=file]', event => this.onSelectFile(event));\n    this.$container.on('click', this.verifyBtn, event => this.onVerify(event));\n    this.$container.on('click', '.js-reselect', event => this.onReSelect(event));\n    this.$container.on('click', this.importBtn, event => this.onImport(event));\n  }\n\n  onSelectFile(event) {\n    const filename = $(event.currentTarget).val();\n    if (filename === '') {\n      return;\n    }\n    this.$container.find('.js-filename').val(filename);\n  }\n\n  onVerify(event) {\n    let self = this;\n    let validatior = this.$form.validate({\n      rules: self.rules,\n      submitHandler(form) {\n        let $form = $(form);\n        let $btn = $(self.verifyBtn);\n        $btn.button('loading');\n\n        self.formData = arrayToJson($form.serializeArray());\n        \n        $.ajax({\n          type: 'POST',\n          url: $form.attr('action'),\n          processData: false,\n          contentType: false,\n          cache: false,\n          data: new FormData($form[0])\n        }).done((res) => {\n          $btn.button('reset');\n          const status = res.status;\n          const eventType = 'on' + status.charAt(0).toUpperCase() + status.substr(1);\n  \n          console.log(eventType);\n          self[eventType](res);\n        }).fail((res) => {\n          $btn.button('reset');\n          console.log('error:', res);\n        });\n      }\n    });\n\n    if(validatior.form()) {\n      this.$form.submit();\n    }\n  }\n\n  onReSelect(event) {\n    this.$container.find(this.confirmEl).remove();\n    this.$form.show();\n  }\n\n  onDanger(res) {\n    notify(res.status, res.message);\n  }\n\n  onError(res) {\n    const source = `\n      <div id=\"importer-confirm\">\n        <div class=\"alert alert-danger\">\n          {{#errors}}{{error}}<br>{{/errors}}\n        </div>\n        <div class=\"text-right\">\n          <button type=\"button\" class=\"btn btn-primary js-reselect\">\n            ${Translator.trans('importer.import_reselect_btn')}\n          </button>\n        </div>\n      </div>\n    `;\n\n    const errors = [];\n    res.errorInfo.map((item) => {\n      errors.push({\n        error: item\n      });\n    });\n\n    const data = {\n      errors: errors\n    };\n\n    this.addTemplate(source, data);\n  }\n\n  onSuccess(res) {\n    let source = `\n      <div id=\"importer-confirm\">\n        <div class=\"alert alert-success\">\n          ${Translator.trans('importer.import_verify_tips_start')}\n          {{importData.length}}\n          ${Translator.trans('importer.import_verify_tips_end')}\n        </div>\n        <div class=\"text-right\">\n          <button type=\"button\" class=\"btn btn-default mrm js-reselect\">${Translator.trans('importer.import_back_btn')}</button>\n          <button type=\"button\" class=\"btn btn-primary\" id=\"import-btn\">${Translator.trans('importer.import_confirm_btn')}</button>\n        </div>\n      </div>\n    `;\n\n    this.importData = res.importData;\n    this.addTemplate(source, res);\n  }\n\n  addTemplate(source, data) {\n    const template = Handlebars.compile(source);\n    const result = template(data);\n\n    this.$form.hide();\n    this.$container.append(result);\n  }\n\n  onImport(event) {\n    const source = this.$progressTemplate.html();\n    const template = Handlebars.compile(source);\n    const result = template();\n    this.$container.html(result);\n\n    new Progress({\n      importData: this.importData,\n      $container: this.$container,\n      formData: this.formData\n    });\n  }\n}\n\nexport default Importer;\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/common/importer/index.js"],"sourceRoot":""}