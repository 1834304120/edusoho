{"version":3,"sources":["webpack:///./app/Resources/static-src/libs/fullcalendar/locale ^\\.\\/.*$","webpack:///./app/Resources/static-src/app/common/calendar/custom-full-calendar.js","webpack:///./app/Resources/static-src/app/common/calendar/comp/comp.js","webpack:///./app/Resources/static-src/app/common/calendar/comp/tooltip/live-tooltip-comp.js","webpack:///./app/Resources/static-src/libs/fullcalendar/locale/zh-cn.js","webpack:///./app/Resources/static-src/app/common/calendar/comp/tooltip/base-tooltip-comp.js","webpack:///./app/Resources/static-src/app/js/my/teaching-calendar/index.js","webpack:///./app/Resources/static-src/app/js/my/teaching-calendar/live-calendar.js","webpack:///./app/Resources/static-src/app/common/calendar/comp/click-comp.js"],"names":["current","CustomFullCalendar","options","_verifyNeccessaryFields","_fillDefaultFields","_init","calendarOptions","calendarContainer","header","left","center","right","defaultDate","eventLimit","locale","defaultView","allDaySlot","scrollTime","loading","_loading","events","_generateEventOtherAttrs","require","_ajaxLoading","_formatMonthFirstDay","_registerCompActions","isLoading","view","cd","$","prepend","find","addClass","remove","fullCalendar","start","end","timezone","callback","hide","startTimeAttr","endTimeAttr","params","_getDateStartUnixTime","ajaxOptions","then","result","calEvents","i","length","push","_generateEventInitValues","catch","res","console","log","each","$this","isMonthFirstDay","data","substr","isOtherMonth","hasClass","currentMonthFirstDay","nextMonthFirstDay","$day","html","intervalStart","format","intervalEnd","extend","_generateEventCompValues","_addDateClassToEvent","event","startUnixTime","moment","currentUnixTime","endUnixTime","_fillIfEmpty","key","momentObj","dateStr","unix","registerAction","singleResult","copiedFields","singleEvent","fieldName","parseInt","generateEventValues","Comp","compParamNames","_generateParamNames","originalParaName","_getOriginalParamName","_appendAdditionalAttr","paramName","split","_getParamPrefix","formatedParamNames","paramNames","compParams","_getParamNames","_getFormatedParamName","originalParamName","alert","LiveTooltip","jsEvent","$target","currentTarget","time","startTime","date","weekDay","endTime","popoverType","popover","container","content","template","trigger","BaseTooltipComp","defineLocale","months","monthsShort","weekdays","weekdaysShort","weekdaysMin","longDateFormat","LT","LTS","L","LL","LLL","LLLL","l","ll","lll","llll","meridiemParse","meridiemHour","e","t","meridiem","d","n","calendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","dayOfMonthOrdinalParse","ordinal","relativeTime","future","past","s","m","mm","h","hh","dd","M","MM","y","yy","week","dow","doy","datepickerLocale","closeText","prevText","nextText","currentText","monthNames","monthNamesShort","dayNames","dayNamesShort","dayNamesMin","weekHeader","dateFormat","firstDay","isRTL","showMonthAfterYear","yearSuffix","buttonText","month","day","list","allDayText","eventLimitText","slotLabelFormat","timeFormat","noEventsMessage","_showTip","_generateParams","_hideTip","Api","teacherLiveCourse","search","LiveTooltipComp","ClickComp","url","_generateParamNamesPerUrl","window","open","_generateClickUrl","segs","seg","indexOf","generatedUrl","replace"],"mappings":"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","file":"app/js/my/teaching-calendar/index.js","sourcesContent":["var map = {\n\t\"./zh-cn\": \"4dc2ee021b23d810c407\",\n\t\"./zh-cn.js\": \"4dc2ee021b23d810c407\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/Resources/static-src/libs/fullcalendar/locale ^\\.\\/.*$\n// module id = 1\n// module chunks = app/js/my/learning-calendar/index app/js/my/teaching-calendar/index","/**\n * @param options \n    {\n        data: [   //与dataApi有一个必填\n            {\n                title: 'Meeting',\n                start: '2017-11-12 10:30:00',\n                end: '2017-11-12 12:30:00'\n            }\n        ], \n\n        dataApi: Api.course.search, \n            //与data有一个必填, 用于获取数据，每次获取数据时，会带上开始和结束时间，见 dateParams\n            // 需要使用 common/api/index.js 指定的路由\n\n        apiOptions: function, \n            // 有dataApi时有效，返回一个json, 该json会作为api的参数传递，同时生成的event会根据apiOptions内生成相应的属性\n            // 如 {params = {planId: 1}, data: {studentId: 1}}\n            // 一般 params 用于处理路由本身的参数，data则是每次获取数据的额外传参\n\n        calendarContainer: '#calendar',  \n            //必填，日历控件容器\n\n        attrs: {'title': 'name', 'start': 'createdTime', 'end': 'finishedTime'},\n            //当 dataApi有值时，必填， 用于处理接口返回的数据，\n            //  例子的意思为将返回json中的\n            //    name ==> 标题，\n            //    createdTime ==> 开始时间,\n            //    finishedTime ==> 结束时间\n            //    时间格式必须为 yyyy-MM-dd HH:mm:ss\n\n        dateParams: {'start': 'createdTime_GE', 'end': 'createdTime_LT'},\n            //当 dataApi有值时，可指定请求url中的时间参数名字\n            // start 是当前页日历开始时间， 例子中使用 startTime_GE 属性\n            // end 是当前页日历结束时间， 例子中使用 createdTime_LT 属性\n            // 后台搜索的数据需符合 start <= 时间 < end\n            // 不填时，使用例子中的默认值\n\n        dateConvert: false, //默认为false\n            // 如果后台返回的是 时间戳，需要转化时间\n\n        currentTime: '2017-11-12',\n            //必填，用于计算json中的时间是否为过去，今天还是未来\n            // 各种时间会加上相应的class\n            // 过去 ==> calendar-before\n            // 今天 ==> calendar-today\n            // 未来 ==> calendar-future\n\n        defaultView: 'month',\n            //默认显示为月, 范围为 month,agendaWeek,agendaDay,listWeek\n\n        loading: 加载动画效果\n        需要在相应twig页面中加入\n          <div class=\"cd-loading\">\n            <div class=\"loading-content\">\n              <div></div>\n              <div></div>\n              <div></div>\n            </div>\n          </div>\n\n        switchers: 'month,agendaWeek',\n            //显示到日历顶部中间，用于切换\n            // 范围为 month,agendaWeek,agendaDay,listWeek\n            // 显示分为 月，周，日，日程，如果要显示多个，以逗号分割即可，如month,listweek\n\n        components: [new LiveTooltipComp(), new ClickComp('/course/{id}')]\n            // 非必填，用于出发事件的组件，如tooltip, 点击跳转事件\n * }\n */\nlet current;\nexport default class CustomFullCalendar {\n  constructor(options = {}) {\n    current = this;\n    this.options = options;\n\n    if (this._verifyNeccessaryFields()) {\n      this._fillDefaultFields();\n      this._init();\n    }\n  }\n\n  _init() {\n    let calendarOptions = {\n      calendarContainer: this.options['calendarContainer'],\n      header: {\n        left: '',\n        center: 'title',\n        right: 'prev,today,next'\n      },\n      defaultDate: this.options['currentTime'],\n      eventLimit: true, // allow \"more\" link when too many events\n      locale: this.options['locale'],\n      defaultView: this.options['defaultView'],\n      allDaySlot: false,\n      scrollTime: '08:00:00', //默认移动到　８点位置\n      loading: this._loading(),\n    };\n\n    if (calendarOptions['defaultView'] == 'agendaWeek') {\n      calendarOptions['columnFormat'] = 'ddd DD';\n    }\n\n    if (typeof this.options['switcher'] != 'undefined') {\n      calendarOptions['headers']['left'] = this.options['switchers'];\n    }\n\n    if (typeof this.options['data'] != 'undefined') {\n      let events = this.options['data'];\n      calendarOptions['events'] = this._generateEventOtherAttrs(events, events);\n    }\n\n    if (this.options['locale'] != 'en') {\n      require('libs/fullcalendar/locale/' + this.options['locale']);\n    }\n\n    if (typeof this.options['dataApi'] != 'undefined') {\n      calendarOptions['lazyFetching'] = true;\n      calendarOptions['events'] = this._ajaxLoading;\n      if (calendarOptions['defaultView'] === 'month') {\n        calendarOptions['viewRender'] = this._formatMonthFirstDay;\n      }\n    } else if (typeof this.options['data'] != 'undefined') {\n      calendarOptions['events'] = this.options['data'];\n    }\n\n    calendarOptions = this._registerCompActions(calendarOptions);\n    this.calendarOptions = calendarOptions;\n\n    calendarOptions['loading'] = function(isLoading, view) {\n      if (isLoading) {\n        const loading = cd.loading();\n        $('.js-calendar').prepend(loading).find('.cd-loading').addClass('calendar-loading');\n      } else {\n        $('.cd-loading').remove();\n      }\n    }\n\n    calendarOptions = Object.assign(calendarOptions, this.options);\n\n    $(this.options['calendarContainer']).fullCalendar(calendarOptions);\n  }\n\n  _loading(isLoading, view) {\n    if(!isLoading) {\n      $('.cd-loading').remove();\n    }\n  }\n\n  _ajaxLoading(start, end, timezone, callback) {\n    $('.fc-day-header span').hide();\n    let startTimeAttr = current.options['dateParams']['start'];\n    let endTimeAttr = current.options['dateParams']['end'];\n    let params = {};\n    let options = {};\n    params[startTimeAttr] = current._getDateStartUnixTime(start);\n    params[endTimeAttr] = current._getDateStartUnixTime(end);\n    params['limit'] = 1000;\n    options['data'] = params;\n\n    if (typeof current.options['apiOptions'] != 'undefined') {\n      let ajaxOptions = current.options['apiOptions']()\n      options['data'] = Object.assign(ajaxOptions['data'], options['data']);\n      options['params'] = ajaxOptions['params'];\n    }\n    current.options['dataApi'](options).then((result) => {\n      let calEvents = [];\n      for (let i = 0; i < result.length; i++) {\n        calEvents.push(current._generateEventInitValues(result[i]));\n      }\n      calEvents = current._generateEventOtherAttrs(calEvents, result);\n      callback(calEvents);\n    }).catch((res) => {\n      console.log('error callback');\n    });\n  }\n\n  _formatMonthFirstDay(view) {\n    $('.fc-day-top').each(function() {\n      const $this = $(this);\n      const isMonthFirstDay = $this.data('date').substr(-3, 3) === '-01';\n      const isOtherMonth = $this.hasClass('fc-other-month');\n      const currentMonthFirstDay = isMonthFirstDay && !isOtherMonth;\n      const nextMonthFirstDay = isMonthFirstDay && isOtherMonth;\n      const $day = $this.find('.fc-day-number');\n      if (currentMonthFirstDay) {\n        $day.html(view.intervalStart.format('LL'));\n      } else if (nextMonthFirstDay) {\n        $day.html(view.intervalEnd.format('LL'));\n      }\n    });\n  }\n\n  _generateEventOtherAttrs(events, data) {\n    for (let i = 0; i < events.length; i++) {\n      $.extend(events[i], this._generateEventCompValues(data[i]));\n      events[i] = this._addDateClassToEvent(events[i]);\n    }\n\n    return events;\n  }\n\n  _addDateClassToEvent(event) {\n    let startUnixTime = this._getDateStartUnixTime(moment(event['start']));\n    let currentUnixTime = this._getDateStartUnixTime(moment(this.options['currentTime']));\n    let endUnixTime = this._getDateStartUnixTime(moment(event['end']));\n\n    if (endUnixTime < currentUnixTime) {\n      event['className'].push('calendar-before');\n    } else if (currentUnixTime < startUnixTime) {\n      event['className'].push('calendar-future');\n    } else {\n      event['className'].push('calendar-today');\n    }\n    return event;\n  }\n\n  _verifyNeccessaryFields() {\n    if (typeof this.options['data'] == 'undefined' && typeof this.options['dataApi'] == 'undefined') {\n      console.log('custom-full-calendar: no \"data\" or \"dataApi\" in options');\n      return false;\n    }\n\n    if (typeof this.options['dataApi'] != 'undefined' && typeof this.options['attrs'] == 'undefined') {\n      console.log('custom-full-calendar: no \"attrs\" in options');\n      return false;\n    }\n\n    if (typeof this.options['calendarContainer'] == 'undefined') {\n      console.log('custom-full-calendar: no \"calendarContainer\" in options');\n      return false;\n    }\n\n    if (typeof this.options['currentTime'] == 'undefined') {\n      console.log('custom-full-calendar: no \"currentTime\" in options');\n      return false;\n    }\n\n    return true;\n  }\n\n  _fillDefaultFields() {\n    this._fillIfEmpty({\n      'defaultView': 'month',\n      'locale': 'zh-cn',\n      'dateParams': {\n        'start': 'createdTime_GE',\n        'end': 'createdTime_LT'\n      },\n      'dateConvert': false,\n      'components': []\n    });\n  }\n\n  _fillIfEmpty(params) {\n    for (let key in params) {\n      if (typeof this.options[key] == 'undefined' || this.options[key] == null) {\n        this.options[key] = params[key];\n      }\n    }\n  }\n\n  /*\n   * 获取所给时间的0小时0分0秒的时间戳 \n   * @param momentObj \n   */\n  _getDateStartUnixTime(momentObj) {\n    let dateStr = momentObj.format('YYYY-MM-DD HH:mm:ss');\n    return moment(dateStr).unix();\n  }\n\n  _registerCompActions(calendarOptions) {\n    for (let i = 0; i < this.options['components'].length; i++) {\n      calendarOptions = this.options['components'][i].registerAction(calendarOptions);\n    }\n    return calendarOptions;\n  }\n\n  _generateEventInitValues(singleResult) {\n    let copiedFields = ['title', 'start', 'end'];\n    let singleEvent = {};\n    for (let i = 0; i < copiedFields.length; i++) {\n      let fieldName = copiedFields[i];\n      singleEvent[fieldName] = singleResult[this.options['attrs'][fieldName]];\n      if (this.options['dateConvert']) {\n        if ('start' == fieldName || 'end' == fieldName) {\n          singleEvent[fieldName] = moment(parseInt(singleEvent[fieldName], 10) * 1000).format('YYYY-MM-DD HH:mm:ss');\n        }\n      }\n    }\n    singleEvent['className'] = [];\n    return singleEvent;\n  }\n\n  _generateEventCompValues(singleResult) {\n    let singleEvent = {};\n    for (let i = 0; i < this.options['components'].length; i++) {\n      $.extend(singleEvent, this.options['components'][i].generateEventValues(singleResult));\n    }\n    return singleEvent;\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/common/calendar/custom-full-calendar.js","export default class Comp {\n\n  generateEventValues(singleResult) {\n    let compParamNames = this._generateParamNames();\n    let event = {};\n    for (let i = 0; i < compParamNames.length; i++) {\n      let fieldName = compParamNames[i];\n      let originalParaName = this._getOriginalParamName(fieldName);\n      event[fieldName] = singleResult[originalParaName];\n    }\n\n    return this._appendAdditionalAttr(event);\n  }\n\n  registerAction(options) {\n    return options;\n  }\n\n  _getOriginalParamName(paramName) {\n    return paramName.split(this._getParamPrefix() + '___')[1];\n  }\n\n  _getFormatedParamName(paramName) {\n    return this._getParamPrefix() + '___' + paramName;\n  }\n\n  _generateParamNames() {\n    if (typeof this.formatedParamNames == 'undefined') {\n      let paramNames = [];\n      let compParams = this._getParamNames();\n      for (let i = 0; i < compParams.length; i++) {\n        paramNames.push(this._getFormatedParamName(compParams[i]));\n      }\n      this.formatedParamNames = paramNames;\n    }\n    return this.formatedParamNames;\n  }\n\n  _generateParams(event) {\n    let params = {};\n    let paramNames = this._generateParamNames();\n    for (let i = 0; i < paramNames.length; i++) {\n      let paramName = paramNames[i];\n      let originalParamName = this._getOriginalParamName(paramName);\n      params[originalParamName] = event[paramName];\n    }\n    return params;\n  }\n\n  _appendAdditionalAttr(event) {\n    return event;\n  }\n\n  _getParamNames() {\n    alert('BaseTooltip: _getParamNames not implemented');\n  }\n\n  _getParamPrefix() {\n    alert('Comp: _getParamPrefix not implemented');\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/common/calendar/comp/comp.js","import BaseTooltipComp from './base-tooltip-comp';\n\nexport default class LiveTooltip extends BaseTooltipComp {\n\n  _getParamNames() {\n    return ['event', 'startTime', 'endTime', 'date'];\n  }\n\n  _showTip(params, event, jsEvent) {\n    console.log('show live tip', params);\n    const $target = $(jsEvent.currentTarget);\n    const time = params.startTime.substr(0, 10);\n    const date = moment(time).format('L');\n    const weekDay = moment(time).format('ddd');\n    const startTime = params.startTime.substr(10, 6);\n    const endTime = params.endTime.substr(10, 6);\n    let popoverType;\n    if ($target.hasClass('calendar-before')) {\n      popoverType = 'schedule-popover--before';\n    } else if ($target.hasClass('calendar-today')) {\n      popoverType = 'schedule-popover--today';\n    } else if ($target.hasClass('calendar-future')) {\n      popoverType = 'schedule-popover--future';\n    }\n    $target.popover({\n      container: 'body',\n      html: true,\n      content: `<i class=\"es-icon es-icon-history pull-left\"></i>\n                <div class=\"schedule-popover-content__item cd-mb8\">\n                  <span class=\"schedule-popover-content__time cd-dark-major\">${date} ${weekDay}</span>\n                  <div class=\"schedule-popover-content__time cd-dark-minor\">${startTime} ~ ${endTime}</div>\n                </div>\n                <i class=\"es-icon es-icon-eventnote pull-left\"></i>\n                <div class=\"cd-dark-minor schedule-popover-content__item\">${params.event}</div>`,\n      template: `<div class=\"popover schedule-popover ${popoverType}\" role=\"tooltip\">\n                  <div class=\"schedule-popover-content popover-content\">\n                  </div>\n                </div>`,\n      trigger: 'hover'\n    });\n    $target.popover('show');\n  }\n\n  _hideTip(params, event, jsEvent) {\n    console.log('hide live tip', params);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/common/calendar/comp/tooltip/live-tooltip-comp.js","! function() {\n  moment.defineLocale('zh-cn', {\n    months: '1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月'.split('_'),\n    monthsShort: '1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月'.split('_'),\n    weekdays: '星期日_星期一_星期二_星期三_星期四_星期五_星期六'.split('_'),\n    weekdaysShort: '周日_周一_周二_周三_周四_周五_周六'.split('_'),\n    weekdaysMin: '日_一_二_三_四_五_六'.split('_'),\n    longDateFormat: {\n      LT: 'HH:mm',\n      LTS: 'HH:mm:ss',\n      L: 'YYYY年MMMD日',\n\n      LL: 'MMMD日',\n      //　还有n项的顶部日期栏\n\n      LLL: 'YYYY年MMMD日Ah点mm分',\n      LLLL: 'YYYY年MMMD日ddddAh点mm分',\n      l: 'YYYY年MMMD日',\n      ll: 'YYYY年MM月',\n      //　月视图，日历标题，　原先为YYYY年MMMD日\n      lll: 'YYYY年MMMD日 HH:mm',\n      llll: 'YYYY年MMMD日dddd HH:mm'\n    },\n    meridiemParse: /凌晨|早上|上午|中午|下午|晚上/,\n    meridiemHour: function(e, t) {\n      return 12 === e && (e = 0), '凌晨' === t || '早上' === t || '上午' === t ? e : '下午' === t || '晚上' === t ? e + 12 : e >= 11 ? e : e + 12;\n    },\n    meridiem: function(e, t, d) {\n      var n = 100 * e + t;\n      return n < 600 ? '凌晨' : n < 900 ? '早上' : n < 1130 ? '上午' : n < 1230 ? '中午' : n < 1800 ? '下午' : '晚上';\n    },\n    calendar: {\n      sameDay: '[今天]LT',\n      nextDay: '[明天]LT',\n      nextWeek: '[下]ddddLT',\n      lastDay: '[昨天]LT',\n      lastWeek: '[上]ddddLT',\n      sameElse: 'L'\n    },\n    dayOfMonthOrdinalParse: /\\d{1,2}(日|月|周)/,\n    ordinal: function(e, t) {\n      switch (t) {\n      case 'd':\n      case 'D':\n      case 'DDD':\n        return e + '日';\n      case 'M':\n        return e + '月';\n      case 'w':\n      case 'W':\n        return e + '周';\n      default:\n        return e;\n      }\n    },\n    relativeTime: {\n      future: '%s内',\n      past: '%s前',\n      s: '几秒',\n      m: '1 分钟',\n      mm: '%d 分钟',\n      h: '1 小时',\n      hh: '%d 小时',\n      d: '1 天',\n      dd: '%d 天',\n      M: '1 个月',\n      MM: '%d 个月',\n      y: '1 年',\n      yy: '%d 年'\n    },\n    week: {\n      dow: 1,\n      doy: 4\n    }\n  });\n}(), $.fullCalendar.datepickerLocale('zh-cn', 'zh-CN', {\n  closeText: '关闭',\n  prevText: '&#x3C;上月',\n  nextText: '下月&#x3E;',\n  currentText: '今天',\n  monthNames: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月'],\n  monthNamesShort: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月'],\n  dayNames: ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'],\n  dayNamesShort: ['周日', '周一', '周二', '周三', '周四', '周五', '周六'],\n  dayNamesMin: ['日', '一', '二', '三', '四', '五', '六'],\n  weekHeader: '周',\n  dateFormat: 'yy-mm-dd',\n  firstDay: 1,\n  isRTL: !1,\n  showMonthAfterYear: !0,\n  yearSuffix: '年'\n}), $.fullCalendar.locale('zh-cn', {\n  buttonText: {\n    month: '月',\n    week: '周',\n    day: '日',\n    list: '日程'\n  },\n  allDayText: '全天',\n  eventLimitText: function(e) {\n    return '还有' + e + '项';\n  },\n  slotLabelFormat: 'HH:mm', // 周视图，左侧的时间\n  timeFormat: 'HH:mm',\n  noEventsMessage: '没有事件显示'\n});\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/libs/fullcalendar/locale/zh-cn.js","import Comp from '../comp';\n\nexport default class BaseTooltipComp extends Comp {\n\n  registerAction(options) {\n    let current = this;\n    options['eventMouseover'] = function(event, jsEvent, view) {\n      current._showTip(current._generateParams(event), event, jsEvent);\n    };\n    options['eventMouseout'] = function(event, jsEvent, view) {\n      current._hideTip(current._generateParams(event), event, jsEvent);\n    };\n    return options;\n  }\n\n  _showTip(params, event, jsEvent) {\n    alert('BaseTooltip: _showTip not implemented');\n  }\n\n  _hideTip(params, event, jsEvent) {\n    alert('BaseTooltip: _hideTip not implemented');\n  }\n\n  _getParamPrefix() {\n    return 'tooltip';\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/common/calendar/comp/tooltip/base-tooltip-comp.js","import './live-calendar';\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/my/teaching-calendar/index.js","import CustomFullCalendar from 'app/common/calendar/custom-full-calendar';\nimport LiveTooltipComp from 'app/common/calendar/comp/tooltip/live-tooltip-comp';\nimport ClickComp from 'app/common/calendar/comp/click-comp';\nimport Api from 'common/api';\n\nnew CustomFullCalendar({\n  'calendarContainer': '#calendar',\n  'dataApi': Api.teacherLiveCourse.search, //需要使用 common/api/index.js 指定的路由\n  'attrs': {\n    'title': 'title',\n    'start': 'startTime',\n    'end': 'endTime'\n  },\n  'dateParams': {'start': 'startTime_GE', 'end': 'endTime_LT'},\n  'currentTime': $('#todayDateStr').html(),\n  'components': [\n    new LiveTooltipComp(),\n    new ClickComp('{url}') //routing course_show\n  ],\n  'defaultView': 'agendaWeek' // 'agendaWeek'\n});\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/my/teaching-calendar/live-calendar.js","import Comp from './comp';\n\n/**\n * 左键点击，跳转\n * 如 new ClickComp('{url}')\n */\nexport default class ClickComp extends Comp {\n\n  constructor(url) {\n    super();\n    this.url = url;\n    this._generateParamNamesPerUrl();\n  }\n\n  registerAction(options) {\n    let current = this;\n    options['eventClick'] = function(event, jsEvent, view) {\n      window.open(current._generateClickUrl(event));\n    };\n    return options;\n  }\n\n  _appendAdditionalAttr(event) {\n    event['className'] = ['calendar_clickable'];\n    return event;\n  }\n\n  _getParamNames() {\n    return this.paramNames;\n  }\n\n  _getParamPrefix() {\n    return 'click';\n  }\n\n  _generateParamNamesPerUrl() {\n    if (typeof this.paramNames == 'undefined') {\n      let segs = this.url.split('{');\n      this.paramNames = [];\n      for (let i = 0; i < segs.length; i++) {\n        let seg = segs[i];\n        if (seg.indexOf('}') != -1) {\n          this.paramNames.push(seg.split('}')[0]);\n        }\n      }\n    }\n\n    return this.paramNames;\n  }\n\n  _generateClickUrl(event) {\n    let paramNames = this._generateParamNamesPerUrl();\n    let generatedUrl = this.url;\n    for (let i = 0; i < paramNames.length; i++) {\n      let paramName = paramNames[i];\n      generatedUrl = generatedUrl.replace(\n        '{' + paramName + '}',\n        event[this._getFormatedParamName(paramName)]\n      );\n    }\n    return generatedUrl;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/common/calendar/comp/click-comp.js"],"sourceRoot":""}