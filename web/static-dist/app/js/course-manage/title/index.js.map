{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/course-manage/title/index.js","webpack:///./app/Resources/static-src/app/common/form.js"],"names":["PlanTitle","validator","init","initValidator","$form","$","$btn","validate","rules","title","required","trim","maxlength","messages","Translator","trans","click","evt","form","currentTarget","button","params","val","post","attr","resp","success","location","reload","enterSubmit","$formDom","$btnDom","keypress","e","which","trigger","preventDefault"],"mappings":";;;;;;;;;;;;;;;;AAAA;;;;IAEMA,S;AACJ,uBAAc;AAAA;;AACZ,SAAKC,SAAL,GAAiB,IAAjB;AACA,SAAKC,IAAL;AACD;;;;2BAEM;AACL,WAAKC,aAAL;AACD;;;oCAEe;AAAA;;AACd,UAAMC,QAAQC,EAAE,oBAAF,CAAd;AACA,UAAMC,OAAOD,EAAE,sBAAF,CAAb;AACA,WAAKJ,SAAL,GAAiBG,MAAMG,QAAN,CAAe;AAC9BC,eAAO;AACLC,iBAAO;AACLC,sBAAU,IADL;AAELC,kBAAM,IAFD;AAGLC,uBAAW;AAHN;AADF,SADuB;AAQ9BC,kBAAU;AACRJ,iBAAO;AACLG,uBAAWE,WAAWC,KAAX,CAAiB,0CAAjB;AADN;AADC;AARoB,OAAf,CAAjB;;AAeAT,WAAKU,KAAL,CAAW,UAACC,GAAD,EAAS;AAClB,YAAI,MAAKhB,SAAL,CAAeiB,IAAf,EAAJ,EAA2B;AACzBb,YAAEY,IAAIE,aAAN,EAAqBC,MAArB,CAA4B,SAA5B;AACA,cAAIC,SAAS,EAAEZ,OAAOJ,EAAE,YAAF,EAAgBiB,GAAhB,EAAT,EAAb;AACAjB,YAAEkB,IAAF,CAAOnB,MAAMoB,IAAN,CAAW,QAAX,CAAP,EAA6BH,MAA7B,EAAqC,gBAAQ;AAC3C,gBAAII,QAAQA,KAAKC,OAAjB,EAA0B;AACxBC,uBAASC,MAAT;AACD;AACF,WAJD;AAKD;AACF,OAVD;AAWA,6BAAYxB,KAAZ,EAAmBE,IAAnB;AACD;;;;;AAIH,IAAIN,SAAJ,G;;;;;;;;;;;;;AC9CA,IAAM6B,cAAc,SAAdA,WAAc,CAACC,QAAD,EAAWC,OAAX,EAAuB;AACzCD,WAASE,QAAT,CAAkB,UAACC,CAAD,EAAO;AACvB,QAAIA,EAAEC,KAAF,IAAW,EAAf,EAAmB;AACjBH,cAAQI,OAAR,CAAgB,OAAhB;AACAF,QAAEG,cAAF;AACD;AACF,GALD;AAMD,CAPD;;QAUEP,W,GAAAA,W","file":"app/js/course-manage/title/index.js","sourcesContent":["import { enterSubmit } from 'app/common/form';\n\nclass PlanTitle {\n  constructor() {\n    this.validator = null;\n    this.init();\n  }\n\n  init() {\n    this.initValidator();\n  }\n\n  initValidator() {\n    const $form = $('#course-title-form');\n    const $btn = $('#course-title-submit');\n    this.validator = $form.validate({\n      rules: {\n        title: {\n          required: true,\n          trim: true,\n          maxlength: 10,\n        }\n      },\n      messages: {\n        title: {\n          maxlength: Translator.trans('course.manage.title_maxlength_error_hint'),\n        }\n      }\n    });\n\n    $btn.click((evt) => {\n      if (this.validator.form()) {\n        $(evt.currentTarget).button('loading');\n        let params = { title: $('#planTitle').val() };\n        $.post($form.attr('action'), params, resp => {\n          if (resp && resp.success) {\n            location.reload();\n          }\n        });\n      }\n    });\n    enterSubmit($form, $btn);\n  }\n\n}\n\nnew PlanTitle();\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/course-manage/title/index.js","const enterSubmit = ($formDom, $btnDom) => {\n  $formDom.keypress((e) => {\n    if (e.which == 13) {\n      $btnDom.trigger('click');\n      e.preventDefault();\n    }\n  });\n};\n\nexport {\n  enterSubmit\n};\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/common/form.js"],"sourceRoot":""}