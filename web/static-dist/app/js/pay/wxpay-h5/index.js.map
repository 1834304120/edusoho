{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/pay/wxpay-h5/index.js"],"names":["$","on","WeixinJSBridge","document","addEventListener","jsApiCall","attachEvent","invoke","data","res","err_msg","window","location","href","alert","Translator","trans"],"mappings":";;;;;;;;AAAAA,EAAE,cAAF,EAAkBC,EAAlB,CAAqB,OAArB,EAA8B,WAA9B,EAA2C,YAAY;AACrD,MAAI,OAAOC,cAAP,IAAyB,WAA7B,EAA0C;AACxC,QAAIC,SAASC,gBAAb,EAA+B;AAC7BD,eAASC,gBAAT,CAA0B,qBAA1B,EAAiDC,SAAjD,EAA4D,KAA5D;AACD,KAFD,MAEO,IAAIF,SAASG,WAAb,EAA0B;AAC/BH,eAASG,WAAT,CAAqB,qBAArB,EAA4CD,SAA5C;AACAF,eAASG,WAAT,CAAqB,uBAArB,EAA8CD,SAA9C;AACD;AACF,GAPD,MAOO;AACLA;AACD;AACF,CAXD;;AAaA;AACA,SAASA,SAAT,GAAqB;AACnBH,iBAAeK,MAAf,CACE,sBADF,EAEEP,EAAE,kBAAF,EAAsBQ,IAAtB,CAA2B,OAA3B,CAFF,EAGE,UAAUC,GAAV,EAAe;AACb,QAAIA,IAAIC,OAAJ,IAAe,4BAAnB,EAAiD;AAC/CC,aAAOC,QAAP,CAAgBC,IAAhB,GAAuBb,EAAE,kBAAF,EAAsBQ,IAAtB,CAA2B,MAA3B,CAAvB;AACD,KAFD,MAEO;AACL,UAAIC,IAAIC,OAAJ,IAAe,8BAAnB,EAAmD;AACjDI,cAAMC,WAAWC,KAAX,CAAiB,2BAAjB,CAAN;AACD,OAFD,MAEO,IAAIP,IAAIC,OAAJ,IAAe,gCAAnB,EAAqD;AAC1D;AACD;AACF;AAEF,GAdH;AAgBD,C","file":"app/js/pay/wxpay-h5/index.js","sourcesContent":["$('.panel-wxpay').on('click', '.js-wxpay', function () {\n  if (typeof WeixinJSBridge == 'undefined') {\n    if (document.addEventListener) {\n      document.addEventListener('WeixinJSBridgeReady', jsApiCall, false);\n    } else if (document.attachEvent) {\n      document.attachEvent('WeixinJSBridgeReady', jsApiCall);\n      document.attachEvent('onWeixinJSBridgeReady', jsApiCall);\n    }\n  } else {\n    jsApiCall();\n  }\n});\n\n//调用微信JS api 支付\nfunction jsApiCall() {\n  WeixinJSBridge.invoke(\n    'getBrandWCPayRequest',\n    $('#jsApiParameters').data('value'),\n    function (res) {\n      if (res.err_msg == 'get_brand_wcpay_request:ok') {\n        window.location.href = $('#jsApiParameters').data('goto');\n      } else {\n        if (res.err_msg == 'get_brand_wcpay_request:fail') {\n          alert(Translator.trans('notify.pay_failed.message'));\n        } else if (res.err_msg == 'get_brand_wcpay_request:cancel') {\n          // alert('取消')\n        }\n      }\n\n    }\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/pay/wxpay-h5/index.js"],"sourceRoot":""}